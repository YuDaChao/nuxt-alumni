(window.webpackJsonp=window.webpackJsonp||[]).push([[6],Array(479).concat([function(e,t){var n={};t.register=function(e,t){n[e]=t},t.get=function(e){return n[e]}},,function(e,t,n){var o=n(0),r=o.retrieve,l=o.defaults,c=o.extend,d=o.each,h=n(40),f=n(55),m=n(57),v=n(17),y=v.isRadianAroundZero,x=v.remRadian,_=n(258).createSymbol,w=n(58),S=n(10).applyTransform,M=n(161).shouldShowAllLabels,I=Math.PI;function A(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t}var T=function(e,t){this.opt=t,this.axisModel=e,l(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new f.Group;var n=new f.Group({position:t.position.slice(),rotation:t.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};T.prototype={constructor:T,hasBuilder:function(e){return!!D[e]},add:function(e){D[e].call(this)},getGroup:function(){return this.group}};var D={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),o=this._transform,r=[n[0],0],l=[n[1],0];o&&(S(r,r,o),S(l,l,o));var h=c({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new f.Line(f.subPixelOptimizeLine({anid:"line",shape:{x1:r[0],y1:r[1],x2:l[0],y2:l[1]},style:h,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1})));var m=t.get("axisLine.symbol"),v=t.get("axisLine.symbolSize"),y=t.get("axisLine.symbolOffset")||0;if("number"==typeof y&&(y=[y,y]),null!=m){"string"==typeof m&&(m=[m,m]),"string"!=typeof v&&"number"!=typeof v||(v=[v,v]);var x=v[0],w=v[1];d([{rotate:e.rotation+Math.PI/2,offset:y[0],r:0},{rotate:e.rotation-Math.PI/2,offset:y[1],r:Math.sqrt((r[0]-l[0])*(r[0]-l[0])+(r[1]-l[1])*(r[1]-l[1]))}],function(t,n){if("none"!==m[n]&&null!=m[n]){var symbol=_(m[n],-x/2,-w/2,x,w,h.stroke,!0),o=t.r+t.offset,l=[r[0]+o*Math.cos(e.rotation),r[1]-o*Math.sin(e.rotation)];symbol.attr({rotation:t.rotate,position:l,silent:!0,z2:11}),this.group.add(symbol)}},this)}}},axisTickLabel:function(){var e=this.axisModel,t=this.opt,n=function(e,t,n){var o=t.axis;if(!t.get("axisTick.show")||o.scale.isBlank())return;for(var r=t.getModel("axisTick"),c=r.getModel("lineStyle"),d=r.get("length"),h=o.getTicksCoords(),m=[],v=[],y=e._transform,x=[],i=0;i<h.length;i++){var _=h[i].coord;m[0]=_,m[1]=0,v[0]=_,v[1]=n.tickDirection*d,y&&(S(m,m,y),S(v,v,y));var w=new f.Line(f.subPixelOptimizeLine({anid:"tick_"+h[i].tickValue,shape:{x1:m[0],y1:m[1],x2:v[0],y2:v[1]},style:l(c.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));e.group.add(w),x.push(w)}return x}(this,e,t),o=function(e,t,n){var o=t.axis;if(!r(n.axisLabelShow,t.get("axisLabel.show"))||o.scale.isBlank())return;var l=t.getModel("axisLabel"),c=l.get("margin"),h=o.getViewLabels(),v=(r(n.labelRotate,l.get("rotate"))||0)*I/180,y=L(n.rotation,v,n.labelDirection),x=t.getCategories(!0),_=[],w=C(t),S=t.get("triggerEvent");return d(h,function(r,d){var h=r.tickValue,v=r.formattedLabel,M=r.rawLabel,I=l;x&&x[h]&&x[h].textStyle&&(I=new m(x[h].textStyle,l,t.ecModel));var T=I.getTextColor()||t.get("axisLine.lineStyle.color"),D=[o.dataToCoord(h),n.labelOffset+n.labelDirection*c],L=new f.Text({anid:"label_"+h,position:D,rotation:y.rotation,silent:w,z2:10});f.setTextStyle(L.style,I,{text:v,textAlign:I.getShallow("align",!0)||y.textAlign,textVerticalAlign:I.getShallow("verticalAlign",!0)||I.getShallow("baseline",!0)||y.textVerticalAlign,textFill:"function"==typeof T?T("category"===o.type?M:"value"===o.type?h+"":h,d):T}),S&&(L.eventData=A(t),L.eventData.targetType="axisLabel",L.eventData.value=M),e._dumbGroup.add(L),L.updateTransform(),_.push(L),e.group.add(L),L.decomposeTransform()}),_}(this,e,t);!function(e,t,n){if(M(e.axis))return;var o=e.get("axisLabel.showMinLabel"),r=e.get("axisLabel.showMaxLabel");n=n||[];var l=(t=t||[])[0],c=t[1],d=t[t.length-1],h=t[t.length-2],f=n[0],m=n[1],v=n[n.length-1],y=n[n.length-2];!1===o?(P(l),P(f)):N(l,c)&&(o?(P(c),P(m)):(P(l),P(f)));!1===r?(P(d),P(v)):N(h,d)&&(r?(P(h),P(y)):(P(d),P(v)))}(e,o,n)},axisName:function(){var e=this.opt,t=this.axisModel,n=r(e.axisName,t.get("name"));if(n){var o,l,d=t.get("nameLocation"),m=e.nameDirection,v=t.getModel("nameTextStyle"),_=t.get("nameGap")||0,w=this.axisModel.axis.getExtent(),S=w[0]>w[1]?-1:1,M=["start"===d?w[0]-S*_:"end"===d?w[1]+S*_:(w[0]+w[1])/2,k(d)?e.labelOffset+m*_:0],T=t.get("nameRotate");null!=T&&(T=T*I/180),k(d)?o=L(e.rotation,null!=T?T:e.rotation,m):(o=function(e,t,n,o){var r,l,c=x(n-e.rotation),d=o[0]>o[1],h="start"===t&&!d||"start"!==t&&d;y(c-I/2)?(l=h?"bottom":"top",r="center"):y(c-1.5*I)?(l=h?"top":"bottom",r="center"):(l="middle",r=c<1.5*I&&c>I/2?h?"left":"right":h?"right":"left");return{rotation:c,textAlign:r,textVerticalAlign:l}}(e,d,T||0,w),null!=(l=e.axisNameAvailableWidth)&&(l=Math.abs(l/Math.sin(o.rotation)),!isFinite(l)&&(l=null)));var D=v.getFont(),P=t.get("nameTruncate",!0)||{},N=P.ellipsis,O=r(e.nameTruncateMaxWidth,P.maxWidth,l),R=null!=N&&null!=O?h.truncateText(n,O,D,N,{minChar:2,placeholder:P.placeholder}):n,E=t.get("tooltip",!0),z=t.mainType,V={componentType:z,name:n,$vars:["name"]};V[z+"Index"]=t.componentIndex;var G=new f.Text({anid:"name",__fullText:n,__truncatedText:R,position:M,rotation:o.rotation,silent:C(t),z2:1,tooltip:E&&E.show?c({content:n,formatter:function(){return n},formatterParams:V},E):null});f.setTextStyle(G.style,v,{text:R,textFont:D,textFill:v.getTextColor()||t.get("axisLine.lineStyle.color"),textAlign:o.textAlign,textVerticalAlign:o.textVerticalAlign}),t.get("triggerEvent")&&(G.eventData=A(t),G.eventData.targetType="axisName",G.eventData.name=n),this._dumbGroup.add(G),G.updateTransform(),this.group.add(G),G.decomposeTransform()}}},L=T.innerTextLayout=function(e,t,n){var o,r,l=x(t-e);return y(l)?(r=n>0?"top":"bottom",o="center"):y(l-I)?(r=n>0?"bottom":"top",o="center"):(r="middle",o=l>0&&l<I?n>0?"right":"left":n>0?"left":"right"),{rotation:l,textAlign:o,textVerticalAlign:r}};function C(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)}function P(e){e&&(e.ignore=!0)}function N(e,t,n){var o=e&&e.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(o&&r){var l=w.identity([]);return w.rotate(l,l,-e.rotation),o.applyTransform(w.mul([],l,e.getLocalTransform())),r.applyTransform(w.mul([],l,t.getLocalTransform())),o.intersect(r)}}function k(e){return"middle"===e||"center"===e}var O=T;e.exports=O},function(e,t,n){n(12).__DEV__;var o=n(31),r=n(498),l=o.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(e,t,n,o){this.axisPointerClass&&r.fixValue(e),l.superApply(this,"render",arguments),c(this,e,t,n,o,!0)},updateAxisPointer:function(e,t,n,o,r){c(this,e,t,n,o,!1)},remove:function(e,t){var n=this._axisPointer;n&&n.remove(t),l.superApply(this,"remove",arguments)},dispose:function(e,t){d(this,t),l.superApply(this,"dispose",arguments)}});function c(e,t,n,o,c,h){var f=l.getAxisPointerClass(e.axisPointerClass);if(f){var m=r.getAxisPointerModel(t);m?(e._axisPointer||(e._axisPointer=new f)).render(t,m,o,h):d(e,o)}}function d(e,t,n){var o=e._axisPointer;o&&o.dispose(t,n),e._axisPointer=null}var h=[];l.registerAxisPointerClass=function(e,t){h[e]=t},l.getAxisPointerClass=function(e){return e&&h[e]};var f=l;e.exports=f},function(e,t,n){var o=n(0),r=n(75),l=n(17).linearMap,c=o.each,d=o.isObject,h=-1,f=function(option){var e=option.mappingMethod,t=option.type,n=this.option=o.clone(option);this.type=t,this.mappingMethod=e,this._normalizeData=T[e];var r=m[t];this.applyVisual=r.applyVisual,this.getColorMapper=r.getColorMapper,this._doMap=r._doMap[e],"piecewise"===e?(v(n),function(e){var t=e.pieceList;e.hasSpecialVisual=!1,o.each(t,function(t,n){t.originIndex=n,null!=t.visual&&(e.hasSpecialVisual=!0)})}(n)):"category"===e?n.categories?function(e){var t=e.categories,n=e.visual,r=e.categoryMap={};if(c(t,function(e,t){r[e]=t}),!o.isArray(n)){var l=[];o.isObject(n)?c(n,function(e,t){var n=r[t];l[null!=n?n:h]=e}):l[h]=n,n=A(e,l)}for(var i=t.length-1;i>=0;i--)null==n[i]&&(delete r[t[i]],t.pop())}(n):v(n,!0):(o.assert("linear"!==e||n.dataExtent),v(n))};f.prototype={constructor:f,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return o.bind(this._normalizeData,this)}};var m=f.visualHandlers={color:{applyVisual:_("color"),getColorMapper:function(){var e=this.option;return o.bind("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),w.call(this,e)}:function(t,n,o){var l=!!o;return!n&&(t=this._normalizeData(t)),o=r.fastLerp(t,e.parsedVisual,o),l?o:r.stringify(o,"rgba")},this)},_doMap:{linear:function(e){return r.stringify(r.fastLerp(e,this.option.parsedVisual),"rgba")},category:w,piecewise:function(e,t){var n=I.call(this,t);return null==n&&(n=r.stringify(r.fastLerp(e,this.option.parsedVisual),"rgba")),n},fixed:S}},colorHue:y(function(e,t){return r.modifyHSL(e,t)}),colorSaturation:y(function(e,t){return r.modifyHSL(e,null,t)}),colorLightness:y(function(e,t){return r.modifyHSL(e,null,null,t)}),colorAlpha:y(function(e,t){return r.modifyAlpha(e,t)}),opacity:{applyVisual:_("opacity"),_doMap:M([0,1])},liftZ:{applyVisual:_("liftZ"),_doMap:{linear:S,category:S,piecewise:S,fixed:S}},symbol:{applyVisual:function(e,t,n){var r=this.mapValueToVisual(e);if(o.isString(r))n("symbol",r);else if(d(r))for(var l in r)r.hasOwnProperty(l)&&n(l,r[l])},_doMap:{linear:x,category:w,piecewise:function(e,t){var n=I.call(this,t);return null==n&&(n=x.call(this,e)),n},fixed:S}},symbolSize:{applyVisual:_("symbolSize"),_doMap:M([0,1])}};function v(e,t){var n=e.visual,r=[];o.isObject(n)?c(n,function(e){r.push(e)}):null!=n&&r.push(n);t||1!==r.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(r[1]=r[0]),A(e,r)}function y(e){return{applyVisual:function(t,n,o){t=this.mapValueToVisual(t),o("color",e(n("color"),t))},_doMap:M([0,1])}}function x(e){var t=this.option.visual;return t[Math.round(l(e,[0,1],[0,t.length-1],!0))]||{}}function _(e){return function(t,n,o){o(e,this.mapValueToVisual(t))}}function w(e){var t=this.option.visual;return t[this.option.loop&&e!==h?e%t.length:e]}function S(){return this.option.visual[0]}function M(e){return{linear:function(t){return l(t,e,this.option.visual,!0)},category:w,piecewise:function(t,n){var o=I.call(this,n);return null==o&&(o=l(t,e,this.option.visual,!0)),o},fixed:S}}function I(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var o=n[f.findPieceIndex(e,n)];if(o&&o.visual)return o.visual[this.type]}}function A(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=o.map(t,function(e){return r.parse(e)})),t}var T={linear:function(e){return l(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=f.findPieceIndex(e,t,!0);if(null!=n)return l(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?h:t},fixed:o.noop};function D(e,a,b){return e?a<=b:a<b}f.listVisualTypes=function(){var e=[];return o.each(m,function(t,n){e.push(n)}),e},f.addVisualHandler=function(e,t){m[e]=t},f.isValidType=function(e){return m.hasOwnProperty(e)},f.eachVisual=function(e,t,n){o.isObject(e)?o.each(e,t,n):t.call(n,e)},f.mapVisual=function(e,t,n){var r,l=o.isArray(e)?[]:o.isObject(e)?{}:(r=!0,null);return f.eachVisual(e,function(e,o){var c=t.call(n,e,o);r?l=c:l[o]=c}),l},f.retrieveVisuals=function(e){var t,n={};return e&&c(m,function(o,r){e.hasOwnProperty(r)&&(n[r]=e[r],t=!0)}),t?n:null},f.prepareVisualTypes=function(e){if(d(e)){var t=[];c(e,function(e,n){t.push(n)}),e=t}else{if(!o.isArray(e))return[];e=e.slice()}return e.sort(function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1}),e},f.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},f.findPieceIndex=function(e,t,n){for(var o,r=1/0,i=0,l=t.length;i<l;i++){var c=t[i].value;if(null!=c){if(c===e||"string"==typeof c&&c===e+"")return i;n&&m(c,i)}}for(i=0,l=t.length;i<l;i++){var d=t[i],h=d.interval,f=d.close;if(h){if(h[0]===-1/0){if(D(f[1],e,h[1]))return i}else if(h[1]===1/0){if(D(f[0],h[0],e))return i}else if(D(f[0],h[0],e)&&D(f[1],e,h[1]))return i;n&&m(h[0],i),n&&m(h[1],i)}}if(n)return e===1/0?t.length-1:e===-1/0?0:o;function m(t,n){var l=Math.abs(t-e);l<r&&(r=l,o=n)}};var L=f;e.exports=L},function(e,t){e.exports=function(e,t,n){return{seriesType:e,performRawSeries:!0,reset:function(e,o,r){var data=e.getData(),l=e.get("symbol")||t,c=e.get("symbolSize"),d=e.get("symbolKeepAspect");if(data.setVisual({legendSymbol:n||l,symbol:l,symbolSize:c,symbolKeepAspect:d}),!o.isSeriesFiltered(e)){var h="function"==typeof c;return{dataEach:data.hasItemOption||h?function(data,t){if("function"==typeof c){var n=e.getRawValue(t),o=e.getDataParams(t);data.setItemVisual(t,"symbolSize",c(n,o))}if(data.hasItemOption){var r=data.getItemModel(t),l=r.getShallow("symbol",!0),d=r.getShallow("symbolSize",!0),h=r.getShallow("symbolKeepAspect",!0);null!=l&&data.setItemVisual(t,"symbol",l),null!=d&&data.setItemVisual(t,"symbolSize",d),null!=h&&data.setItemVisual(t,"symbolKeepAspect",h)}}:null}}}}}},function(e,t,n){var o=n(0);function r(e){for(var path=[];e;)(e=e.parentNode)&&path.push(e);return path.reverse()}t.retrieveTargetInfo=function(e,t,n){if(e&&o.indexOf(t,e.type)>=0){var r=n.getData().tree.root,l=e.targetNode;if("string"==typeof l&&(l=r.getNodeById(l)),l&&r.contains(l))return{node:l};var c=e.targetNodeId;if(null!=c&&(l=r.getNodeById(c)))return{node:l}}},t.getPathToRoot=r,t.aboveViewRoot=function(e,t){var n=r(e);return o.indexOf(n,t)>=0},t.wrapTreePathInfo=function(e,t){for(var n=[];e;){var o=e.dataIndex;n.push({name:e.name,dataIndex:o,value:t.getRawValue(o)}),e=e.parentNode}return n.reverse(),n}},function(e,t,n){var o=n(165),r=n(159),l=n(0),c=l.extend,d=l.isArray;e.exports=function(e,t,n){t=d(t)&&{coordDimensions:t}||c({},t);var source=e.getSource(),l=o(source,t),h=new r(l,e);return h.initData(source,n),h}},function(e,t,n){var o=n(0),r=n(60),l=n(74),c=n(538);function d(e){this.pointerChecker,this._zr=e,this._opt={};var t=o.bind,n=t(h,this),l=t(f,this),c=t(m,this),d=t(v,this),x=t(y,this);r.call(this),this.setPointerChecker=function(e){this.pointerChecker=e},this.enable=function(t,r){this.disable(),this._opt=o.defaults(o.clone(r)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",n),e.on("mousemove",l),e.on("mouseup",c)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",d),e.on("pinch",x))},this.disable=function(){e.off("mousedown",n),e.off("mousemove",l),e.off("mouseup",c),e.off("mousewheel",d),e.off("pinch",x)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function h(e){if(!(l.isMiddleOrRightButtonOnMouseUpDown(e)||e.target&&e.target.draggable)){var t=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0)}}function f(e){if(this._dragging&&w("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!c.isTaken(this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,o=this._x,r=this._y,d=t-o,h=n-r;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&l.stop(e.event),_(this,"pan","moveOnMouseMove",e,{dx:d,dy:h,oldX:o,oldY:r,newX:t,newY:n})}}function m(e){l.isMiddleOrRightButtonOnMouseUpDown(e)||(this._dragging=!1)}function v(e){var t=w("zoomOnMouseWheel",e,this._opt),n=w("moveOnMouseWheel",e,this._opt),o=e.wheelDelta,r=Math.abs(o),l=e.offsetX,c=e.offsetY;if(0!==o&&(t||n)){if(t){var d=r>3?1.4:r>1?1.2:1.1;x(this,"zoom","zoomOnMouseWheel",e,{scale:o>0?d:1/d,originX:l,originY:c})}if(n){var h=Math.abs(o);x(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(o>0?1:-1)*(h>3?.4:h>1?.15:.05),originX:l,originY:c})}}}function y(e){c.isTaken(this._zr,"globalPan")||x(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY})}function x(e,t,n,o,r){e.pointerChecker&&e.pointerChecker(o,r.originX,r.originY)&&(l.stop(o.event),_(e,t,n,o,r))}function _(e,t,n,r,l){l.isAvailableBehavior=o.bind(w,null,n,r),e.trigger(t,l)}function w(e,t,n){var r=n[e];return!e||r&&(!o.isString(r)||t.event[r+"Key"])}o.mixin(d,r);var S=d;e.exports=S},function(e,t,n){var o=n(31),r=n(0),l=n(498),c=n(598);n(599),n(600),n(543),o.registerPreprocessor(function(option){if(option){(!option.axisPointer||0===option.axisPointer.length)&&(option.axisPointer={});var link=option.axisPointer.link;link&&!r.isArray(link)&&(option.axisPointer.link=[link])}}),o.registerProcessor(o.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=l.collect(e,t)}),o.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},c)},function(e,t){function n(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function o(e,t){return Math.min(t[1],Math.max(t[0],e))}e.exports=function(e,t,r,l,c,d){t[0]=o(t[0],r),t[1]=o(t[1],r),e=e||0;var h=r[1]-r[0];null!=c&&(c=o(c,[0,h])),null!=d&&(d=Math.max(d,null!=c?c:0)),"all"===l&&(c=d=Math.abs(t[1]-t[0]),l=0);var f=n(t,l);t[l]+=e;var m=c||0,v=r.slice();f.sign<0?v[0]+=m:v[1]-=m,t[l]=o(t[l],v);var y=n(t,l);return null!=c&&(y.sign!==f.sign||y.span<c)&&(t[1-l]=t[l]+f.sign*c),y=n(t,l),null!=d&&y.span>d&&(t[1-l]=t[l]+y.sign*d),t}},function(e,t,n){var o=n(55),r=n(501),l=n(0).isObject;function c(e){this.group=new o.Group,this._symbolCtor=e||r}var d=c.prototype;function h(data,e,t,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(t))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&"none"!==data.getItemVisual(t,"symbol")}function f(e){return null==e||l(e)||(e={isIgnore:e}),e||{}}function m(data){var e=data.hostModel;return{itemStyle:e.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:e.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label"),cursorStyle:e.get("cursor")}}d.updateData=function(data,e){e=f(e);var t=this.group,n=data.hostModel,r=this._data,l=this._symbolCtor,c=m(data);r||t.removeAll(),data.diff(r).add(function(n){var o=data.getItemLayout(n);if(h(data,o,n,e)){var r=new l(data,n,c);r.attr("position",o),data.setItemGraphicEl(n,r),t.add(r)}}).update(function(d,f){var m=r.getItemGraphicEl(f),v=data.getItemLayout(d);h(data,v,d,e)?(m?(m.updateData(data,d,c),o.updateProps(m,{position:v},n)):(m=new l(data,d)).attr("position",v),t.add(m),data.setItemGraphicEl(d,m)):t.remove(m)}).remove(function(e){var n=r.getItemGraphicEl(e);n&&n.fadeOut(function(){t.remove(n)})}).execute(),this._data=data},d.isPersistent=function(){return!0},d.updateLayout=function(){var data=this._data;data&&data.eachItemGraphicEl(function(e,t){var n=data.getItemLayout(t);e.attr("position",n)})},d.incrementalPrepareUpdate=function(data){this._seriesScope=m(data),this._data=null,this.group.removeAll()},d.incrementalUpdate=function(e,data,t){function n(e){e.isGroup||(e.incremental=e.useHoverLayer=!0)}t=f(t);for(var o=e.start;o<e.end;o++){var r=data.getItemLayout(o);if(h(data,r,o,t)){var l=new this._symbolCtor(data,o,this._seriesScope);l.traverse(n),l.attr("position",r),this.group.add(l),data.setItemGraphicEl(o,l)}}},d.remove=function(e){var t=this.group,data=this._data;data&&e?data.eachItemGraphicEl(function(e){e.fadeOut(function(){t.remove(e)})}):t.removeAll()};var v=c;e.exports=v},function(e,t,n){var map=n(0).map,o=n(164),r=n(111).isDimensionStacked;e.exports=function(e){return{seriesType:e,plan:o(),reset:function(e){var data=e.getData(),t=e.coordinateSystem,n=e.pipelineContext.large;if(t){var o=map(t.dimensions,function(e){return data.mapDimension(e)}).slice(0,2),l=o.length,c=data.getCalculationInfo("stackResultDimension");return r(data,o[0])&&(o[0]=c),r(data,o[1])&&(o[1]=c),l&&{progress:function(e,data){for(var r=e.end-e.start,c=n&&new Float32Array(r*l),i=e.start,d=0,h=[],f=[];i<e.end;i++){var m;if(1===l){var v=data.get(o[0],i);m=!isNaN(v)&&t.dataToPoint(v,null,f)}else{v=h[0]=data.get(o[0],i);var y=h[1]=data.get(o[1],i);m=!isNaN(v)&&!isNaN(y)&&t.dataToPoint(h,null,f)}n?(c[d++]=m?m[0]:NaN,c[d++]=m?m[1]:NaN):data.setItemLayout(i,m&&m.slice()||[NaN,NaN])}n&&data.setLayout("symbolPoints",c)}}}}}}},function(e,t,n){var o=n(31),r=n(0),l=n(55);n(515),n(622),o.extendComponentView({type:"grid",render:function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new l.Rect({shape:e.coordinateSystem.getRect(),style:r.defaults({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))}}),o.registerPreprocessor(function(option){option.xAxis&&option.yAxis&&!option.grid&&(option.grid={})})},function(e,t){e.exports=function(e){return{seriesType:e,reset:function(e,t){var n=t.findComponents({mainType:"legend"});if(n&&n.length){var data=e.getData();data.filterSelf(function(e){for(var t=data.getName(e),i=0;i<n.length;i++)if(!n[i].isSelected(t))return!1;return!0})}}}}},function(e,t,n){n(12).__DEV__;var o=n(31),r=n(0),l=n(18),c=n(4),d=n(521),h=n(789),f=r.each,m=d.eachAxisDim;function v(option){var e={};return f(["start","end","startValue","endValue","throttle"],function(t){option.hasOwnProperty(t)&&(e[t]=option[t])}),e}function y(e,t){var n=e._rangePropMode,o=e.get("rangeMode");f([["start","startValue"],["end","endValue"]],function(e,r){var l=null!=t[e[0]],c=null!=t[e[1]];l&&!c?n[r]="percent":!l&&c?n[r]="value":o?n[r]=o[r]:l&&(n[r]="percent")})}var x=o.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(option,e,t){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var n=v(option);this.mergeDefaultAndTheme(option,t),this.doInit(n)},mergeOption:function(e){var t=v(e);r.merge(this.option,e,!0),this.doInit(t)},doInit:function(e){var t=this.option;l.canvasSupported||(t.realtime=!1),this._setDefaultThrottle(e),y(this,e),f([["start","startValue"],["end","endValue"]],function(e,n){"value"===this._rangePropMode[n]&&(t[e[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis(function(t,n,o,r){var l=this.dependentModels[t.axis][n],c=l.__dzAxisProxy||(l.__dzAxisProxy=new h(t.name,n,this,r));e[t.name+"_"+n]=c},this)},_resetTarget:function(){var e=this.option,t=this._judgeAutoMode();m(function(t){var n=t.axisIndex;e[n]=c.normalizeToArray(e[n])},this),"axisIndex"===t?this._autoSetAxisIndex():"orient"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,t=!1;m(function(n){null!=e[n.axisIndex]&&(t=!0)},this);var n=e.orient;return null==n&&t?"orient":t?void 0:(null==n&&(e.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var e=!0,t=this.get("orient",!0),n=this.option,o=this.dependentModels;if(e){var l="vertical"===t?"y":"x";o[l+"Axis"].length?(n[l+"AxisIndex"]=[0],e=!1):f(o.singleAxis,function(o){e&&o.get("orient",!0)===t&&(n.singleAxisIndex=[o.componentIndex],e=!1)})}e&&m(function(t){if(e){var o=[],r=this.dependentModels[t.axis];if(r.length&&!o.length)for(var i=0,l=r.length;i<l;i++)"category"===r[i].get("type")&&o.push(i);n[t.axisIndex]=o,o.length&&(e=!1)}},this),e&&this.ecModel.eachSeries(function(e){this._isSeriesHasAllAxesTypeOf(e,"value")&&m(function(t){var o=n[t.axisIndex],l=e.get(t.axisIndex),c=e.get(t.axisId);l=e.ecModel.queryComponents({mainType:t.axis,index:l,id:c})[0].componentIndex,r.indexOf(o,l)<0&&o.push(l)})},this)},_autoSetOrient:function(){var e;this.eachTargetAxis(function(t){!e&&(e=t.name)},this),this.option.orient="y"===e?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(e,t){var n=!0;return m(function(o){var r=e.get(o.axisIndex),l=this.dependentModels[o.axis][r];l&&l.get("type")===t||(n=!1)},this),n},_setDefaultThrottle:function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var e;return m(function(t){if(null==e){var n=this.get(t.axisIndex);n.length&&(e=this.dependentModels[t.axis][n[0]])}},this),e},eachTargetAxis:function(e,t){var n=this.ecModel;m(function(o){f(this.get(o.axisIndex),function(r){e.call(t,o,r,this,n)},this)},this)},getAxisProxy:function(e,t){return this._axisProxies[e+"_"+t]},getAxisModel:function(e,t){var n=this.getAxisProxy(e,t);return n&&n.getAxisModel()},setRawRange:function(e,t){var option=this.option;f([["start","startValue"],["end","endValue"]],function(t){null==e[t[0]]&&null==e[t[1]]||(option[t[0]]=e[t[0]],option[t[1]]=e[t[1]])},this),!t&&y(this,e)},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},getValueRange:function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(e){if(e)return e.__dzAxisProxy;var t=this._axisProxies;for(var n in t)if(t.hasOwnProperty(n)&&t[n].hostedBy(this))return t[n];for(var n in t)if(t.hasOwnProperty(n)&&!t[n].hostedBy(this))return t[n]},getRangePropMode:function(){return this._rangePropMode.slice()}});e.exports=x},function(e,t,n){var o=n(170).extend({type:"dataZoom",render:function(e,t,n,o){this.dataZoomModel=e,this.ecModel=t,this.api=n},getTargetCoordInfo:function(){var e=this.dataZoomModel,t=this.ecModel,n={};return e.eachTargetAxis(function(e,o){var r=t.getComponent(e.axis,o);if(r){var l=r.getCoordSysModel();l&&function(e,t,n,o){for(var r,i=0;i<n.length;i++)if(n[i].model===e){r=n[i];break}r||n.push(r={model:e,axisModels:[],coordIndex:o});r.axisModels.push(t)}(l,r,n[l.mainType]||(n[l.mainType]=[]),l.componentIndex)}},this),n}});e.exports=o},function(e,t,n){n(12).__DEV__;var o=n(0),r=o.each,l=o.createHashMap,c=n(268),d=n(586),h=n(591),f=n(13),m={geoJSON:d,svg:h},v={load:function(e,t){var n,o=[],c=l(),d=l(),h=x(e);return r(h,function(l){var h=m[l.type].load(e,l);r(h.regions,function(e){var n=e.name;t&&t.hasOwnProperty(n)&&(e=e.cloneShallow(n=t[n])),o.push(e),c.set(n,e),d.set(n,e.center)});var rect=h.boundingRect;rect&&(n?n.union(rect):n=rect.clone())}),{regions:o,regionsMap:c,nameCoordMap:d,boundingRect:n||new f(0,0,0,0)}},makeGraphic:y("makeGraphic"),removeGraphic:y("removeGraphic")};function y(e){return function(t,n){var o=x(t),l=[];return r(o,function(o){var r=m[o.type][e];r&&l.push(r(t,o,n))}),l}}function x(e){return c.retrieveMap(e)||[]}e.exports=v},function(e,t){var n={axisPointer:1,tooltip:1,brush:1};t.onIrrelevantElement=function(e,t,o){var r=t.getComponentByElement(e.topTarget),l=r&&r.coordinateSystem;return r&&r!==o&&!n[r.mainType]&&l&&l.model!==o}},function(e,t,n){var o=n(0),r=n(57),l=o.each,c=o.curry;function d(e,t){return"all"===e||o.isArray(e)&&o.indexOf(e,t)>=0||e===t}function h(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[m(e)]}function f(e){return!!e.get("handle.show")}function m(e){return e.type+"||"+e.id}t.collect=function(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(e,t,n){var h=t.getComponent("tooltip"),v=t.getComponent("axisPointer"),y=v.get("link",!0)||[],x=[];l(n.getCoordinateSystems(),function(n){if(n.axisPointerEnabled){var _=m(n.model),w=e.coordSysAxesInfo[_]={};e.coordSysMap[_]=n;var S=n.model,M=S.getModel("tooltip",h);if(l(n.getAxes(),c(D,!1,null)),n.getTooltipAxes&&h&&M.get("show")){var I="axis"===M.get("trigger"),A="cross"===M.get("axisPointer.type"),T=n.getTooltipAxes(M.get("axisPointer.axis"));(I||A)&&l(T.baseAxes,c(D,!A||"cross",I)),A&&l(T.otherAxes,c(D,"cross",!1))}}function D(c,h,_){var S=_.model.getModel("axisPointer",v),I=S.get("show");if(I&&("auto"!==I||c||f(S))){null==h&&(h=S.get("triggerTooltip"));var A=(S=c?function(e,t,n,c,d,h){var f=t.getModel("axisPointer"),m={};l(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(e){m[e]=o.clone(f.get(e))}),m.snap="category"!==e.type&&!!h,"cross"===f.get("type")&&(m.type="line");var v=m.label||(m.label={});if(null==v.show&&(v.show=!1),"cross"===d){var y=f.get("label.show");if(v.show=null==y||y,!h){var x=m.lineStyle=f.get("crossStyle");x&&o.defaults(v,x.textStyle)}}return e.model.getModel("axisPointer",new r(m,n,c))}(_,M,v,t,c,h):S).get("snap"),T=m(_.model),D=h||A||"category"===_.type,L=e.axesInfo[T]={key:T,axis:_,coordSys:n,axisPointerModel:S,triggerTooltip:h,involveSeries:D,snap:A,useHandle:f(S),seriesModels:[]};w[T]=L,e.seriesInvolved|=D;var C=function(e,t){for(var n=t.model,o=t.dim,i=0;i<e.length;i++){var r=e[i]||{};if(d(r[o+"AxisId"],n.id)||d(r[o+"AxisIndex"],n.componentIndex)||d(r[o+"AxisName"],n.name))return i}}(y,_);if(null!=C){var P=x[C]||(x[C]={axesInfo:{}});P.axesInfo[T]=L,P.mapper=y[C].mapper,L.linkGroup=P}}}})}(n,e,t),n.seriesInvolved&&function(e,t){t.eachSeries(function(t){var n=t.coordinateSystem,o=t.get("tooltip.trigger",!0),r=t.get("tooltip.show",!0);n&&"none"!==o&&!1!==o&&"item"!==o&&!1!==r&&!1!==t.get("axisPointer.show",!0)&&l(e.coordSysAxesInfo[m(n.model)],function(e){var o=e.axis;n.getAxis(o.dim)===o&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())})},this)}(n,e),n},t.fixValue=function(e){var t=h(e);if(t){var n=t.axisPointerModel,o=t.axis.scale,option=n.option,r=n.get("status"),l=n.get("value");null!=l&&(l=o.parse(l));var c=f(n);null==r&&(option.status=c?"show":"hide");var d=o.getExtent().slice();d[0]>d[1]&&d.reverse(),(null==l||l>d[1])&&(l=d[1]),l<d[0]&&(l=d[0]),option.value=l,c&&(option.status=t.axis.scale.isBlank()?"hide":"show")}},t.getAxisInfo=h,t.getAxisPointerModel=function(e){var t=h(e);return t&&t.axisPointerModel},t.makeKey=m},function(e,t,n){var o=n(0),r=n(55),l=n(59),c=n(40),d=n(58),h=n(161),f=n(481);function m(e,t,n,o,r){var text=v(n.get("value"),t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),d=n.getModel("label"),h=c.normalizeCssArray(d.get("padding")||0),f=d.getFont(),m=l.getBoundingRect(text,f),y=r.position,x=m.width+h[1]+h[3],_=m.height+h[0]+h[2],w=r.align;"right"===w&&(y[0]-=x),"center"===w&&(y[0]-=x/2);var S=r.verticalAlign;"bottom"===S&&(y[1]-=_),"middle"===S&&(y[1]-=_/2),function(e,t,n,o){var r=o.getWidth(),l=o.getHeight();e[0]=Math.min(e[0]+t,r)-t,e[1]=Math.min(e[1]+n,l)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}(y,x,_,o);var M=d.get("backgroundColor");M&&"auto"!==M||(M=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:x,height:_,r:d.get("borderRadius")},position:y.slice(),style:{text:text,textFont:f,textFill:d.getTextColor(),textPosition:"inside",fill:M,stroke:d.get("borderColor")||"transparent",lineWidth:d.get("borderWidth")||0,shadowBlur:d.get("shadowBlur"),shadowColor:d.get("shadowColor"),shadowOffsetX:d.get("shadowOffsetX"),shadowOffsetY:d.get("shadowOffsetY")},z2:10}}function v(e,t,n,r,l){e=t.scale.parse(e);var text=t.scale.getLabel(e,{precision:l.precision}),c=l.formatter;if(c){var d={value:h.getAxisRawValue(t,e),seriesData:[]};o.each(r,function(e){var t=n.getSeriesByIndex(e.seriesIndex),o=e.dataIndexInside,r=t&&t.getDataParams(o);r&&d.seriesData.push(r)}),o.isString(c)?text=c.replace("{value}",text):o.isFunction(c)&&(text=c(d))}return text}function y(e,t,n){var o=d.create();return d.rotate(o,o,n.rotation),d.translate(o,o,n.position),r.applyTransform([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],o)}t.buildElStyle=function(e){var style,t=e.get("type"),n=e.getModel(t+"Style");return"line"===t?(style=n.getLineStyle()).fill=null:"shadow"===t&&((style=n.getAreaStyle()).stroke=null),style},t.buildLabelElOption=m,t.getValueLabel=v,t.getTransformedPosition=y,t.buildCartesianSingleLabelElOption=function(e,t,n,o,r,l){var c=f.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=r.get("label.margin"),m(t,o,r,l,{position:y(o.axis,e,n),align:c.textAlign,verticalAlign:c.textVerticalAlign})},t.makeLineShape=function(e,t,n){return{x1:e[n=n||0],y1:e[1-n],x2:t[n],y2:t[1-n]}},t.makeRectShape=function(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}},t.makeSectorShape=function(e,t,n,o,r,l){return{cx:e,cy:t,r0:n,r:o,startAngle:r,endAngle:l,clockwise:!0}}},function(e,t,n){var o=n(0),r=n(483),l=o.each;function c(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}t.createVisualMappings=function(option,e,t){var n={};return l(e,function(e){var c,d=n[e]=((c=function(){}).prototype.__hidden=c.prototype,new c);l(option[e],function(n,l){if(r.isValidType(l)){var c={type:l,visual:n};t&&t(c,e),d[l]=new r(c),"opacity"===l&&((c=o.clone(c)).type="colorAlpha",d.__hidden.__alphaForOpacity=new r(c))}})}),n},t.replaceVisualOption=function(e,t,n){var r;o.each(n,function(e){t.hasOwnProperty(e)&&c(t[e])&&(r=!0)}),r&&o.each(n,function(n){t.hasOwnProperty(n)&&c(t[n])?e[n]=o.clone(t[n]):delete e[n]})},t.applyVisual=function(e,t,data,n,l,c){var d,h={};function f(e){return data.getItemVisual(d,e)}function m(e,t){data.setItemVisual(d,e,t)}function v(e,o){d=null==c?e:o;var r=data.getRawDataItem(d);if(!r||!1!==r.visualMap)for(var v=n.call(l,e),y=t[v],x=h[v],i=0,_=x.length;i<_;i++){var w=x[i];y[w]&&y[w].applyVisual(e,f,m)}}o.each(e,function(e){var n=r.prepareVisualTypes(t[e]);h[e]=n}),null==c?data.each(v):data.each([c],v)},t.incrementalApplyVisual=function(e,t,n,l){var c={};return o.each(e,function(e){var n=r.prepareVisualTypes(t[e]);c[e]=n}),{progress:function(e,data){function o(e){return data.getItemVisual(d,e)}function r(e,t){data.setItemVisual(d,e,t)}var d;for(null!=l&&(l=data.getDimension(l));null!=(d=e.next());){var h=data.getRawDataItem(d);if(!h||!1!==h.visualMap)for(var f=null!=l?data.get(l,d,!0):d,m=n(f),v=t[m],y=c[m],i=0,x=y.length;i<x;i++){var _=y[i];v[_]&&v[_].applyVisual(f,o,r)}}}}}},function(e,t,n){var o=n(0),r=n(258).createSymbol,l=n(55),c=n(17).parsePercent,d=n(514).getDefaultLabel;function h(data,e,t){l.Group.call(this),this.updateData(data,e,t)}var f=h.prototype,m=h.getSymbolSize=function(data,e){var t=data.getItemVisual(e,"symbolSize");return t instanceof Array?t.slice():[+t,+t]};function v(e){return[e[0]/2,e[1]/2]}function y(e,t){this.parent.drift(e,t)}f._createSymbol=function(e,data,t,n,o){this.removeAll();var l=data.getItemVisual(t,"color"),c=r(e,-1,-1,2,2,l,o);c.attr({z2:100,culling:!0,scale:v(n)}),c.drift=y,this._symbolType=e,this.add(c)},f.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},f.getSymbolPath=function(){return this.childAt(0)},f.getScale=function(){return this.childAt(0).scale},f.highlight=function(){this.childAt(0).trigger("emphasis")},f.downplay=function(){this.childAt(0).trigger("normal")},f.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},f.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":"pointer"},f.updateData=function(data,e,t){this.silent=!1;var n=data.getItemVisual(e,"symbol")||"circle",o=data.hostModel,r=m(data,e),c=n!==this._symbolType;if(c){var d=data.getItemVisual(e,"symbolKeepAspect");this._createSymbol(n,data,e,r,d)}else{(h=this.childAt(0)).silent=!1,l.updateProps(h,{scale:v(r)},o,e)}if(this._updateCommon(data,e,r,t),c){var h=this.childAt(0),f=t&&t.fadeIn,y={scale:h.scale.slice()};f&&(y.style={opacity:h.style.opacity}),h.scale=[0,0],f&&(h.style.opacity=0),l.initProps(h,y,o,e)}this._seriesModel=o};var x=["itemStyle"],_=["emphasis","itemStyle"],w=["label"],S=["emphasis","label"];function M(){!l.isInEmphasis(this)&&A.call(this)}function I(){!l.isInEmphasis(this)&&T.call(this)}function A(){if(!this.incremental&&!this.useHoverLayer){var e=this.__symbolOriginalScale,t=e[1]/e[0];this.animateTo({scale:[Math.max(1.1*e[0],e[0]+3),Math.max(1.1*e[1],e[1]+3*t)]},400,"elasticOut")}}function T(){this.incremental||this.useHoverLayer||this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}f._updateCommon=function(data,e,t,n){var r=this.childAt(0),h=data.hostModel,f=data.getItemVisual(e,"color");"image"!==r.type&&r.useStyle({strokeNoScale:!0});var m=n&&n.itemStyle,y=n&&n.hoverItemStyle,D=n&&n.symbolRotate,L=n&&n.symbolOffset,C=n&&n.labelModel,P=n&&n.hoverLabelModel,N=n&&n.hoverAnimation,k=n&&n.cursorStyle;if(!n||data.hasItemOption){var O=n&&n.itemModel?n.itemModel:data.getItemModel(e);m=O.getModel(x).getItemStyle(["color"]),y=O.getModel(_).getItemStyle(),D=O.getShallow("symbolRotate"),L=O.getShallow("symbolOffset"),C=O.getModel(w),P=O.getModel(S),N=O.getShallow("hoverAnimation"),k=O.getShallow("cursor")}else y=o.extend({},y);var R=r.style;r.attr("rotation",(D||0)*Math.PI/180||0),L&&r.attr("position",[c(L[0],t[0]),c(L[1],t[1])]),k&&r.attr("cursor",k),r.setColor(f,n&&n.symbolInnerColor),r.setStyle(m);var E=data.getItemVisual(e,"opacity");null!=E&&(R.opacity=E);var z=data.getItemVisual(e,"liftZ"),V=r.__z2Origin;null!=z?null==V&&(r.__z2Origin=r.z2,r.z2+=z):null!=V&&(r.z2=V,r.__z2Origin=null);var G=n&&n.useNameLabel;l.setLabelStyle(R,y,C,P,{labelFetcher:h,labelDataIndex:e,defaultText:function(e,t){return G?data.getName(e):d(data,e)},isRectText:!0,autoColor:f}),r.off("mouseover").off("mouseout").off("emphasis").off("normal"),r.hoverStyle=y,l.setHoverStyle(r),r.__symbolOriginalScale=v(t),N&&h.isAnimationEnabled()&&r.on("mouseover",M).on("mouseout",I).on("emphasis",A).on("normal",T)},f.fadeOut=function(e,t){var n=this.childAt(0);this.silent=n.silent=!0,(!t||!t.keepLabel)&&(n.style.text=null),l.updateProps(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},o.inherits(h,l.Group);var D=h;e.exports=D},function(e,t,n){var o=n(0),r=n(557),l=n(56),c=n(110),d=c.getLayoutParams,h=c.mergeLayoutParam,f=n(277),m=["value","category","time","log"];e.exports=function(e,t,n,c){o.each(m,function(l){t.extend({type:e+"Axis."+l,mergeDefaultAndTheme:function(option,t){var r=this.layoutMode,c=r?d(option):{},f=t.getTheme();o.merge(option,f.get(l+"Axis")),o.merge(option,this.getDefaultOption()),option.type=n(e,option),r&&h(option,c,r)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=f.createByAxisModel(this))},getCategories:function(e){var option=this.option;if("category"===option.type)return e?option.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:o.mergeAll([{},r[l+"Axis"],c],!0)})}),l.registerSubTypeDefaulter(e+"Axis",o.curry(n,e))}},function(e,t,n){var o=n(0).createHashMap;e.exports=function(e){return{getTargetSeries:function(t){var n={},r=o();return t.eachSeriesByType(e,function(e){e.__paletteScope=n,r.set(e.uid,e)}),r},reset:function(e,t){var n=e.getRawData(),o={},data=e.getData();data.each(function(e){var t=data.getRawIndex(e);o[t]=e}),n.each(function(t){var r=o[t],l=null!=r&&data.getItemVisual(r,"color",!0);if(l)n.setItemVisual(t,"color",l);else{var c=n.getItemModel(t).get("itemStyle.color")||e.getColorFromPalette(n.getName(t)||t+"",e.__paletteScope,n.count());n.setItemVisual(t,"color",c),null!=r&&data.setItemVisual(r,"color",c)}})}}}},,,function(e,t,n){var o=n(0),r={updateSelectedMap:function(e){this._targetList=o.isArray(e)?e.slice():[],this._selectTargetMap=o.reduce(e||[],function(e,t){return e.set(t.name,t),e},o.createHashMap())},select:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(e){e.selected=!1}),n&&(n.selected=!0)},unSelect:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);n&&(n.selected=!1)},toggleSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=n)return this[n.selected?"unSelect":"select"](e,t),n.selected},isSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return n&&n.selected}};e.exports=r},function(e,t){t.updateViewOnPan=function(e,t,n){var o=e.target,r=o.position;r[0]+=t,r[1]+=n,o.dirty()},t.updateViewOnZoom=function(e,t,n,o){var r=e.target,l=e.zoomLimit,c=r.position,d=r.scale,h=e.zoom=e.zoom||1;if(h*=t,l){var f=l.min||0,m=l.max||1/0;h=Math.max(Math.min(m,h),f)}var v=h/e.zoom;e.zoom=h,c[0]-=(n-c[0])*(v-1),c[1]-=(o-c[1])*(v-1),d[0]*=v,d[1]*=v,r.dirty()}},function(e,t){t.updateCenterAndZoom=function(view,e,t){var n=view.getZoom(),o=view.getCenter(),r=e.zoom,l=view.dataToPoint(o);null!=e.dx&&null!=e.dy&&(l[0]-=e.dx,l[1]-=e.dy,o=view.pointToData(l),view.setCenter(o));if(null!=r){if(t){var c=t.min||0,d=t.max||1/0;r=Math.max(Math.min(n*r,d),c)/n}view.scale[0]*=r,view.scale[1]*=r;var h=view.position,f=(e.originX-h[0])*(r-1),m=(e.originY-h[1])*(r-1);h[0]-=f,h[1]-=m,view.updateTransform(),o=view.pointToData(l),view.setCenter(o),view.setZoom(r*n)}return{center:view.getCenter(),zoom:view.getZoom()}}},function(e,t,n){n(12).__DEV__;var o=n(31),r=n(0),l=n(593),c=n(110),d=n(17),h=n(496),f=n(268);function m(e,t){var n=e.get("boundingCoords");if(null!=n){var o=n[0],r=n[1];isNaN(o[0])||isNaN(o[1])||isNaN(r[0])||isNaN(r[1])||this.setBoundingRect(o[0],o[1],r[0]-o[0],r[1]-o[1])}var l,rect=this.getBoundingRect(),h=e.get("layoutCenter"),f=e.get("layoutSize"),m=t.getWidth(),v=t.getHeight(),y=rect.width/rect.height*this.aspectScale,x=!1;if(h&&f&&(h=[d.parsePercent(h[0],m),d.parsePercent(h[1],v)],f=d.parsePercent(f,Math.min(m,v)),isNaN(h[0])||isNaN(h[1])||isNaN(f)||(x=!0)),x){var _={};y>1?(_.width=f,_.height=f/y):(_.height=f,_.width=f*y),_.y=h[1]-_.height/2,_.x=h[0]-_.width/2}else(l=e.getBoxLayoutParams()).aspect=y,_=c.getLayoutRect(l,{width:m,height:v});this.setViewRect(_.x,_.y,_.width,_.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}function v(e,t){r.each(t.get("geoCoord"),function(t,n){e.addGeoCoord(n,t)})}var y={dimensions:l.prototype.dimensions,create:function(e,t){var n=[];e.eachComponent("geo",function(e,o){var r=e.get("map"),c=e.get("aspectScale"),d=!0,h=f.retrieveMap(r);h&&h[0]&&"svg"===h[0].type?(null==c&&(c=1),d=!1):null==c&&(c=.75);var y=new l(r+o,r,e.get("nameMap"),d);y.aspectScale=c,y.zoomLimit=e.get("scaleLimit"),n.push(y),v(y,e),e.coordinateSystem=y,y.model=e,y.resize=m,y.resize(e,t)}),e.eachSeries(function(e){if("geo"===e.get("coordinateSystem")){var t=e.get("geoIndex")||0;e.coordinateSystem=n[t]}});var o={};return e.eachSeriesByType("map",function(e){if(!e.getHostGeoModel()){var t=e.getMapType();o[t]=o[t]||[],o[t].push(e)}}),r.each(o,function(e,o){var c=r.map(e,function(e){return e.get("nameMap")}),d=new l(o,o,r.mergeAll(c));d.zoomLimit=r.retrieve.apply(null,r.map(e,function(e){return e.get("scaleLimit")})),n.push(d),d.resize=m,d.aspectScale=e[0].get("aspectScale"),d.resize(e[0],t),r.each(e,function(e){e.coordinateSystem=d,v(d,e)})}),n},getFilledRegions:function(e,t,n){for(var o=(e||[]).slice(),l=r.createHashMap(),i=0;i<o.length;i++)l.set(o[i].name,o[i]);var source=h.load(t,n);return r.each(source.regions,function(e){var t=e.name;!l.get(t)&&o.push({name:t})}),o}};o.registerCoordinateSystem("geo",y);var x=y;e.exports=x},function(e,t,n){var o=n(0),r=n(10),l=n(58),c=n(13),d=n(171),h=r.applyTransform;function f(){d.call(this)}function m(e){this.name=e,this.zoomLimit,d.call(this),this._roamTransformable=new f,this._rawTransformable=new f,this._center,this._zoom}function v(e,t,n,o){var r=n.seriesModel,l=r?r.coordinateSystem:null;return l===this?l[e](o):null}o.mixin(f,d),m.prototype={constructor:m,type:"view",dimensions:["x","y"],setBoundingRect:function(e,t,n,o){return this._rect=new c(e,t,n,o),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(e,t,n,o){this.transformTo(e,t,n,o),this._viewRect=new c(e,t,n,o)},transformTo:function(e,t,n,o){var rect=this.getBoundingRect(),r=this._rawTransformable;r.transform=rect.calculateTransform(new c(e,t,n,o)),r.decomposeTransform(),this._updateTransform()},setCenter:function(e){e&&(this._center=e,this._updateCenterAndZoom())},setZoom:function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},getDefaultCenter:function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),o=this.getCenter(),l=this.getZoom();o=r.applyTransform([],o,e),n=r.applyTransform([],n,e),t.origin=o,t.position=[n[0]-o[0],n[1]-o[1]],t.scale=[l,l],this._updateTransform()},_updateTransform:function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),l.copy(this.transform||(this.transform=[]),t.transform||l.create()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],l.invert(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var rect=this.getBoundingRect().clone();return rect.applyTransform(this.transform),rect},dataToPoint:function(data,e,t){var n=e?this._rawTransform:this.transform;return t=t||[],n?h(t,data,n):r.copy(t,data)},pointToData:function(e){var t=this.invTransform;return t?h([],e,t):[e[0],e[1]]},convertToPixel:o.curry(v,"dataToPoint"),convertFromPixel:o.curry(v,"pointToData"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}},o.mixin(m,d);var y=m;e.exports=y},function(e,t,n){var o=n(31);n(488),n(601),n(602),o.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),o.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})},function(e,t,n){var o=n(0),r=n(32),l=n(55),c=n(498),d=n(74),h=n(163),f=(0,n(4).makeInner)(),m=o.clone,v=o.bind;function y(){}function x(e,t,n,r){(function e(t,n){if(o.isObject(t)&&o.isObject(n)){var r=!0;return o.each(n,function(n,o){r=r&&e(t[o],n)}),!!r}return t===n})(f(n).lastProp,r)||(f(n).lastProp=r,t?l.updateProps(n,r,e):(n.stopAnimation(),n.attr(r)))}function _(e,t){e[t.get("label.show")?"show":"hide"]()}function w(e){return{position:e.position.slice(),rotation:e.rotation||0}}function S(e,t,n){var o=t.get("z"),r=t.get("zlevel");e&&e.traverse(function(e){"group"!==e.type&&(null!=o&&(e.z=o),null!=r&&(e.zlevel=r),e.silent=n)})}y.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,n,r){var c=t.get("value"),d=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,r||this._lastValue!==c||this._lastStatus!==d){this._lastValue=c,this._lastStatus=d;var h=this._group,f=this._handle;if(!d||"hide"===d)return h&&h.hide(),void(f&&f.hide());h&&h.show(),f&&f.show();var m={};this.makeElOption(m,c,e,t,n);var v=m.graphicKey;v!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=v;var y=this._moveAnimation=this.determineAnimation(e,t);if(h){var _=o.curry(x,t,y);this.updatePointerEl(h,m,_,t),this.updateLabelEl(h,m,_,t)}else h=this._group=new l.Group,this.createPointerEl(h,m,e,t),this.createLabelEl(h,m,e,t),n.getZr().add(h);S(h,t,!0),this._renderHandle(c)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var n=t.get("animation"),o=e.axis,r="category"===o.type,l=t.get("snap");if(!l&&!r)return!1;if("auto"===n||null==n){var d=this.animationThreshold;if(r&&o.getBandWidth()>d)return!0;if(l){var h=c.getAxisInfo(e).seriesDataCount,f=o.getExtent();return Math.abs(f[0]-f[1])/h>d}return!1}return!0===n},makeElOption:function(e,t,n,o,r){},createPointerEl:function(e,t,n,o){var r=t.pointer;if(r){var c=f(e).pointerEl=new l[r.type](m(t.pointer));e.add(c)}},createLabelEl:function(e,t,n,o){if(t.label){var r=f(e).labelEl=new l.Rect(m(t.label));e.add(r),_(r,o)}},updatePointerEl:function(e,t,n){var o=f(e).pointerEl;o&&(o.setStyle(t.pointer.style),n(o,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,n,o){var r=f(e).labelEl;r&&(r.setStyle(t.label.style),n(r,{shape:t.label.shape,position:t.label.position}),_(r,o))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var t,n=this._axisPointerModel,r=this._api.getZr(),c=this._handle,f=n.getModel("handle"),m=n.get("status");if(!f.get("show")||!m||"hide"===m)return c&&r.remove(c),void(this._handle=null);this._handle||(t=!0,c=this._handle=l.createIcon(f.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){d.stop(e.event)},onmousedown:v(this._onHandleDragMove,this,0,0),drift:v(this._onHandleDragMove,this),ondragend:v(this._onHandleDragEnd,this)}),r.add(c)),S(c,n,!1);c.setStyle(f.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var y=f.get("size");o.isArray(y)||(y=[y,y]),c.attr("scale",[y[0]/2,y[1]/2]),h.createOrUpdate(this,"_doDispatchAxisPointer",f.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},_moveHandleToValue:function(e,t){x(this._axisPointerModel,!t&&this._moveAnimation,this._handle,w(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var n=this._handle;if(n){this._dragging=!0;var o=this.updateHandleTransform(w(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=o,n.stopAnimation(),n.attr(w(o)),f(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},_onHandleDragEnd:function(e){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,o=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),o&&t.remove(o),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}},y.prototype.constructor=y,r.enableClassExtend(y);var M=y;e.exports=M},function(e,t,n){var o=n(31),r=n(55),l=n(110).getLayoutRect;o.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),o.extendComponentView({type:"title",render:function(e,t,n){if(this.group.removeAll(),e.get("show")){var o=this.group,c=e.getModel("textStyle"),d=e.getModel("subtextStyle"),h=e.get("textAlign"),f=e.get("textBaseline"),m=new r.Text({style:r.setTextStyle({},c,{text:e.get("text"),textFill:c.getTextColor()},{disableBox:!0}),z2:10}),v=m.getBoundingRect(),y=e.get("subtext"),x=new r.Text({style:r.setTextStyle({},d,{text:y,textFill:d.getTextColor(),y:v.height+e.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),link=e.get("link"),_=e.get("sublink"),w=e.get("triggerEvent",!0);m.silent=!link&&!w,x.silent=!_&&!w,link&&m.on("click",function(){window.open(link,"_"+e.get("target"))}),_&&x.on("click",function(){window.open(_,"_"+e.get("subtarget"))}),m.eventData=x.eventData=w?{componentType:"title",componentIndex:e.componentIndex}:null,o.add(m),y&&o.add(x);var S=o.getBoundingRect(),M=e.getBoxLayoutParams();M.width=S.width,M.height=S.height;var I=l(M,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));h||("middle"===(h=e.get("left")||e.get("right"))&&(h="center"),"right"===h?I.x+=I.width:"center"===h&&(I.x+=I.width/2)),f||("center"===(f=e.get("top")||e.get("bottom"))&&(f="middle"),"bottom"===f?I.y+=I.height:"middle"===f&&(I.y+=I.height/2),f=f||"top"),o.attr("position",[I.x,I.y]);var A={textAlign:h,textVerticalAlign:f};m.setStyle(A),x.setStyle(A),S=o.getBoundingRect();var T=I.margin,style=e.getItemStyle(["color","opacity"]);style.fill=e.get("backgroundColor");var rect=new r.Rect({shape:{x:S.x-T[3],y:S.y-T[0],width:S.width+T[1]+T[3],height:S.height+T[0]+T[2],r:e.get("borderRadius")},style:style,silent:!0});r.subPixelOptimizeRect(rect),o.add(rect)}}})},function(e,t,n){var o=n(76).retrieveRawValue;t.getDefaultLabel=function(data,e){var t=data.mapDimension("defaultedLabel",!0),n=t.length;if(1===n)return o(data,e,t[0]);if(n){for(var r=[],i=0;i<t.length;i++){var l=o(data,e,t[i]);r.push(l)}return r.join(" ")}}},function(e,t,n){n(12).__DEV__;var o=n(0),r=o.isObject,l=o.each,map=o.map,c=o.indexOf,d=(o.retrieve,n(110).getLayoutRect),h=n(161),f=h.createScaleByModel,m=h.ifAxisCrossZero,v=h.niceScaleExtent,y=h.estimateLabelUnionRect,x=n(618),_=n(620),w=n(160),S=n(111).getStackedDimension;function M(e,t,n){return e.getCoordSysModel()===t}function I(e,t,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,t,n),this.model=e}n(621);var A=I.prototype;function T(e,t,n,o){n.getAxesOnZeroOf=function(){return r?[r]:[]};var r,l=e[t],c=n.model,d=c.get("axisLine.onZero"),h=c.get("axisLine.onZeroAxisIndex");if(d){if(null!=h)D(l[h])&&(r=l[h]);else for(var f in l)if(l.hasOwnProperty(f)&&D(l[f])&&!o[m(l[f])]){r=l[f];break}r&&(o[m(r)]=!0)}function m(e){return e.dim+"_"+e.index}}function D(e){return e&&"category"!==e.type&&"time"!==e.type&&m(e)}A.type="grid",A.axisPointerEnabled=!0,A.getRect=function(){return this._rect},A.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model),l(n.x,function(e){v(e.scale,e.model)}),l(n.y,function(e){v(e.scale,e.model)});var o={};l(n.x,function(e){T(n,"y",e,o)}),l(n.y,function(e){T(n,"x",e,o)}),this.resize(this.model,t)},A.resize=function(e,t,n){var o=d(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._rect=o;var r=this._axesList;function c(){l(r,function(e){var t=e.isHorizontal(),n=t?[0,o.width]:[0,o.height],r=e.inverse?1:0;e.setExtent(n[r],n[1-r]),function(e,t){var n=e.getExtent(),o=n[0]+n[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return o-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return o-e+t}}(e,t?o.x:o.y)})}c(),!n&&e.get("containLabel")&&(l(r,function(e){if(!e.model.get("axisLabel.inside")){var t=y(e);if(t){var n=e.isHorizontal()?"height":"width",r=e.model.get("axisLabel.margin");o[n]-=t[n]+r,"top"===e.position?o.y+=t.height+r:"left"===e.position&&(o.x+=t.width+r)}}}),c())},A.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n){if(null==t)for(var o in n)if(n.hasOwnProperty(o))return n[o];return n[t]}},A.getAxes=function(){return this._axesList.slice()},A.getCartesian=function(e,t){if(null!=e&&null!=t){var n="x"+e+"y"+t;return this._coordsMap[n]}r(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===e||o[i].getAxis("y").index===t)return o[i]},A.getCartesians=function(){return this._coordsList.slice()},A.convertToPixel=function(e,t,n){var o=this._findConvertTarget(e,t);return o.cartesian?o.cartesian.dataToPoint(n):o.axis?o.axis.toGlobalCoord(o.axis.dataToCoord(n)):null},A.convertFromPixel=function(e,t,n){var o=this._findConvertTarget(e,t);return o.cartesian?o.cartesian.pointToData(n):o.axis?o.axis.coordToData(o.axis.toLocalCoord(n)):null},A._findConvertTarget=function(e,t){var n,o,r=t.seriesModel,l=t.xAxisModel||r&&r.getReferringComponents("xAxis")[0],d=t.yAxisModel||r&&r.getReferringComponents("yAxis")[0],h=t.gridModel,f=this._coordsList;if(r)n=r.coordinateSystem,c(f,n)<0&&(n=null);else if(l&&d)n=this.getCartesian(l.componentIndex,d.componentIndex);else if(l)o=this.getAxis("x",l.componentIndex);else if(d)o=this.getAxis("y",d.componentIndex);else if(h){h.coordinateSystem===this&&(n=this._coordsList[0])}return{cartesian:n,axis:o}},A.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},A._initCartesian=function(e,t,n){var o={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},c={x:0,y:0};if(t.eachComponent("xAxis",d("x"),this),t.eachComponent("yAxis",d("y"),this),!c.x||!c.y)return this._axesMap={},void(this._axesList=[]);function d(t){return function(n,l){if(M(n,e)){var d=n.get("position");"x"===t?"top"!==d&&"bottom"!==d&&o[d="bottom"]&&(d="top"===d?"bottom":"top"):"left"!==d&&"right"!==d&&o[d="left"]&&(d="left"===d?"right":"left"),o[d]=!0;var h=new _(t,f(n),[0,0],n.get("type"),d),m="category"===h.type;h.onBand=m&&n.get("boundaryGap"),h.inverse=n.get("inverse"),n.axis=h,h.model=n,h.grid=this,h.index=l,this._axesList.push(h),r[t][l]=h,c[t]++}}}this._axesMap=r,l(r.x,function(t,n){l(r.y,function(o,r){var l="x"+n+"y"+r,c=new x(l);c.grid=this,c.model=e,this._coordsMap[l]=c,this._coordsList.push(c),c.addAxis(t),c.addAxis(o)},this)},this)},A._updateScale=function(e,t){function n(data,e,t){l(data.mapDimension(e.dim,!0),function(t){e.scale.unionExtentFromData(data,S(data,t))})}l(this._axesList,function(e){e.scale.setExtent(1/0,-1/0)}),e.eachSeries(function(o){if(P(o)){var r=C(o,e),l=r[0],c=r[1];if(!M(l,t)||!M(c,t))return;var d=this.getCartesian(l.componentIndex,c.componentIndex),data=o.getData(),h=d.getAxis("x"),f=d.getAxis("y");"list"===data.type&&(n(data,h,o),n(data,f,o))}},this)},A.getTooltipAxes=function(e){var t=[],n=[];return l(this.getCartesians(),function(o){var r=null!=e&&"auto"!==e?o.getAxis(e):o.getBaseAxis(),l=o.getOtherAxis(r);c(t,r)<0&&t.push(r),c(n,l)<0&&n.push(l)}),{baseAxes:t,otherAxes:n}};var L=["xAxis","yAxis"];function C(e,t){return map(L,function(t){return e.getReferringComponents(t)[0]})}function P(e){return"cartesian2d"===e.get("coordinateSystem")}I.create=function(e,t){var n=[];return e.eachComponent("grid",function(o,r){var l=new I(o,e,t);l.name="grid_"+r,l.resize(o,t,!0),o.coordinateSystem=l,n.push(l)}),e.eachSeries(function(e){if(P(e)){var t=C(e),n=t[0],o=t[1],r=n.getCoordSysModel().coordinateSystem;e.coordinateSystem=r.getCartesian(n.componentIndex,o.componentIndex)}}),n},I.dimensions=I.prototype.dimensions=x.prototype.dimensions,w.register("cartesian2d",I);var N=I;e.exports=N},function(e,t,n){var o=n(0),r=n(57),l=n(561),c=n(159),d=n(165),h=function(e,t){this.name=e||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=t};function f(e,t,n){this.root,this.data,this._nodes=[],this.hostModel=e,this.levelModels=o.map(t||[],function(t){return new r(t,e,e.ecModel)}),this.leavesModel=new r(n||{},e,e.ecModel)}h.prototype={constructor:h,isRemoved:function(){return this.dataIndex<0},eachNode:function(e,t,n){"function"==typeof e&&(n=t,t=e,e=null),e=e||{},o.isString(e)&&(e={order:e});var r,l=e.order||"preorder",c=this[e.attr||"children"];"preorder"===l&&(r=t.call(n,this));for(var i=0;!r&&i<c.length;i++)c[i].eachNode(e,t,n);"postorder"===l&&t.call(n,this)},updateDepthAndHeight:function(e){var t=0;this.depth=e;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(e+1),n.height>t&&(t=n.height)}this.height=t+1},getNodeById:function(e){if(this.getId()===e)return this;for(var i=0,t=this.children,n=t.length;i<n;i++){var o=t[i].getNodeById(e);if(o)return o}},contains:function(e){if(e===this)return!0;for(var i=0,t=this.children,n=t.length;i<n;i++){var o=t[i].contains(e);if(o)return o}},getAncestors:function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},getValue:function(e){var data=this.hostTree.data;return data.get(data.getDimension(e||"value"),this.dataIndex)},setLayout:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(path){if(!(this.dataIndex<0)){var e,t=this.hostTree,n=t.data.getItemModel(this.dataIndex),o=this.getLevelModel();return o||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(e=this.getLeavesModel()),n.getModel(path,(o||e||t.hostModel).getModel(path))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},getVisual:function(e,t){return this.hostTree.data.getItemVisual(this.dataIndex,e,t)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},isDescendantOf:function(e){return e!==this&&e.isAncestorOf(this)}},f.prototype={constructor:f,type:"tree",eachNode:function(e,t,n){this.root.eachNode(e,t,n)},getNodeByDataIndex:function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},getNodeByName:function(e){return this.root.getNodeByName(e)},update:function(){for(var data=this.data,e=this._nodes,i=0,t=e.length;i<t;i++)e[i].dataIndex=-1;for(i=0,t=data.count();i<t;i++)e[data.getRawIndex(i)].dataIndex=i},clearLayouts:function(){this.data.clearItemLayouts()}},f.createTree=function(e,t,n){var r=new f(t,n.levels,n.leaves),m=[],v=1;!function e(t,n){var l=t.value;v=Math.max(v,o.isArray(l)?l.length:1);m.push(t);var c=new h(t.name,r);n?function(e,t){var n=t.children;if(e.parentNode===t)return;n.push(e),e.parentNode=t}(c,n):r.root=c;r._nodes.push(c);var d=t.children;if(d)for(var i=0;i<d.length;i++)e(d[i],c)}(e),r.root.updateDepthAndHeight(0);var y=d(m,{coordDimensions:["value"],dimensionsCount:v}),x=new c(y,t);return x.initData(m),l({mainData:x,struct:r,structAttr:"tree"}),r.update(),r};var m=f;e.exports=m},function(e,t,n){var o=n(55),r=n(518);function l(e){this._ctor=e||r,this.group=new o.Group}var c=l.prototype;function d(e){var t=e.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),hoverLineStyle:t.getModel("emphasis.lineStyle").getLineStyle(),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label")}}function h(e){return isNaN(e[0])||isNaN(e[1])}function f(e){return!h(e[0])&&!h(e[1])}c.isPersistent=function(){return!0},c.updateData=function(e){var t=this,n=t.group,o=t._lineData;t._lineData=e,o||n.removeAll();var r=d(e);e.diff(o).add(function(n){!function(e,t,n,o){if(!f(t.getItemLayout(n)))return;var r=new e._ctor(t,n,o);t.setItemGraphicEl(n,r),e.group.add(r)}(t,e,n,r)}).update(function(n,l){!function(e,t,n,o,r,l){var c=t.getItemGraphicEl(o);if(!f(n.getItemLayout(r)))return void e.group.remove(c);c?c.updateData(n,r,l):c=new e._ctor(n,r,l);n.setItemGraphicEl(r,c),e.group.add(c)}(t,o,e,l,n,r)}).remove(function(e){n.remove(o.getItemGraphicEl(e))}).execute()},c.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,n){t.updateLayout(e,n)},this)},c.incrementalPrepareUpdate=function(e){this._seriesScope=d(e),this._lineData=null,this.group.removeAll()},c.incrementalUpdate=function(e,t){function n(e){e.isGroup||(e.incremental=e.useHoverLayer=!0)}for(var o=e.start;o<e.end;o++){if(f(t.getItemLayout(o))){var r=new this._ctor(t,o,this._seriesScope);r.traverse(n),this.group.add(r),t.setItemGraphicEl(o,r)}}},c.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},c._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var m=l;e.exports=m},function(e,t,n){var o=n(0),r=n(10),l=n(258),c=n(664),d=n(55),h=n(17).round,f=["fromSymbol","toSymbol"];function m(e){return"_"+e+"Type"}function v(e,t,n){var r=t.getItemVisual(n,"color"),c=t.getItemVisual(n,e),d=t.getItemVisual(n,e+"Size");if(c&&"none"!==c){o.isArray(d)||(d=[d,d]);var h=l.createSymbol(c,-d[0]/2,-d[1]/2,d[0],d[1],r);return h.name=e,h}}function y(e,t){var n=t[0],o=t[1],r=t[2];e.x1=n[0],e.y1=n[1],e.x2=o[0],e.y2=o[1],e.percent=1,r?(e.cpx1=r[0],e.cpy1=r[1]):(e.cpx1=NaN,e.cpy1=NaN)}function x(e,t,n){d.Group.call(this),this._createLine(e,t,n)}var _=x.prototype;_.beforeUpdate=function(){var e=this.childOfName("fromSymbol"),t=this.childOfName("toSymbol"),label=this.childOfName("label");if(e||t||!label.ignore){for(var n=1,o=this.parent;o;)o.scale&&(n/=o.scale[0]),o=o.parent;var line=this.childOfName("line");if(this.__dirty||line.__dirty){var l=line.shape.percent,c=line.pointAt(0),d=line.pointAt(l),h=r.sub([],d,c);if(r.normalize(h,h),e){e.attr("position",c);var f=line.tangentAt(0);e.attr("rotation",Math.PI/2-Math.atan2(f[1],f[0])),e.attr("scale",[n*l,n*l])}if(t&&(t.attr("position",d),f=line.tangentAt(1),t.attr("rotation",-Math.PI/2-Math.atan2(f[1],f[0])),t.attr("scale",[n*l,n*l])),!label.ignore){var m,v,y;label.attr("position",d);var x=5*n;if("end"===label.__position)m=[h[0]*x+d[0],h[1]*x+d[1]],v=h[0]>.8?"left":h[0]<-.8?"right":"center",y=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";else if("middle"===label.__position){var _=l/2,w=[(f=line.tangentAt(_))[1],-f[0]],S=line.pointAt(_);w[1]>0&&(w[0]=-w[0],w[1]=-w[1]),m=[S[0]+w[0]*x,S[1]+w[1]*x],v="center",y="bottom";var M=-Math.atan2(f[1],f[0]);d[0]<c[0]&&(M=Math.PI+M),label.attr("rotation",M)}else m=[-h[0]*x+c[0],-h[1]*x+c[1]],v=h[0]>.8?"right":h[0]<-.8?"left":"center",y=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";label.attr({style:{textVerticalAlign:label.__verticalAlign||y,textAlign:label.__textAlign||v},position:m,scale:[n,n]})}}}},_._createLine=function(e,t,n){var r=e.hostModel,line=function(e){var line=new c({name:"line"});return y(line.shape,e),line}(e.getItemLayout(t));line.shape.percent=0,d.initProps(line,{shape:{percent:1}},r,t),this.add(line);var label=new d.Text({name:"label",lineLabelOriginalOpacity:1});this.add(label),o.each(f,function(n){var symbol=v(n,e,t);this.add(symbol),this[m(n)]=e.getItemVisual(t,n)},this),this._updateCommonStl(e,t,n)},_.updateData=function(e,t,n){var r=e.hostModel,line=this.childOfName("line"),l=e.getItemLayout(t),c={shape:{}};y(c.shape,l),d.updateProps(line,c,r,t),o.each(f,function(n){var o=e.getItemVisual(t,n),r=m(n);if(this[r]!==o){this.remove(this.childOfName(n));var symbol=v(n,e,t);this.add(symbol)}this[r]=o},this),this._updateCommonStl(e,t,n)},_._updateCommonStl=function(e,t,n){var r=e.hostModel,line=this.childOfName("line"),l=n&&n.lineStyle,c=n&&n.hoverLineStyle,m=n&&n.labelModel,v=n&&n.hoverLabelModel;if(!n||e.hasItemOption){var y=e.getItemModel(t);l=y.getModel("lineStyle").getLineStyle(),c=y.getModel("emphasis.lineStyle").getLineStyle(),m=y.getModel("label"),v=y.getModel("emphasis.label")}var x=e.getItemVisual(t,"color"),_=o.retrieve3(e.getItemVisual(t,"opacity"),l.opacity,1);line.useStyle(o.defaults({strokeNoScale:!0,fill:"none",stroke:x,opacity:_},l)),line.hoverStyle=c,o.each(f,function(e){var symbol=this.childOfName(e);symbol&&(symbol.setColor(x),symbol.setStyle({opacity:_}))},this);var w,S,M=m.getShallow("show"),I=v.getShallow("show"),label=this.childOfName("label");if((M||I)&&(w=x||"#000",null==(S=r.getFormattedLabel(t,"normal",e.dataType)))){var A=r.getRawValue(t);S=null==A?e.getName(t):isFinite(A)?h(A):A}var T=M?S:null,D=I?o.retrieve2(r.getFormattedLabel(t,"emphasis",e.dataType),S):null,L=label.style;null==T&&null==D||(d.setTextStyle(label.style,m,{text:T},{autoColor:w}),label.__textAlign=L.textAlign,label.__verticalAlign=L.textVerticalAlign,label.__position=m.get("position")||"middle"),label.hoverStyle=null!=D?{text:D,textFill:v.getTextColor(!0),fontStyle:v.getShallow("fontStyle"),fontWeight:v.getShallow("fontWeight"),fontSize:v.getShallow("fontSize"),fontFamily:v.getShallow("fontFamily")}:{text:null},label.ignore=!M&&!I,d.setHoverStyle(this)},_.highlight=function(){this.trigger("emphasis")},_.downplay=function(){this.trigger("normal")},_.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},_.setLinePoints=function(e){var t=this.childOfName("line");y(t.shape,e),t.dirty()},o.inherits(x,d.Group);var w=x;e.exports=w},function(e,t,n){n(12).__DEV__;var o=n(0),r=n(60),l=n(55),c=n(538),d=n(263),h=o.curry,f=o.each,map=o.map,m=Math.min,v=Math.max,y=Math.pow,x=1e4,_=6,w=6,S="globalPan",M={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},I={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},A={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},T=0;function D(e){r.call(this),this._zr=e,this.group=new l.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+T++,this._handlers={},f(te,function(e,t){this._handlers[t]=o.bind(e,this)},this)}function L(e,t){var n=ne[t.brushType].createCover(e,t);return n.__brushOption=t,N(n,t),e.group.add(n),n}function C(e,t){var n=O(t);return n.endCreating&&(n.endCreating(e,t),N(t,t.__brushOption)),t}function P(e,t){var n=t.__brushOption;O(t).updateCoverShape(e,t,n.range,n)}function N(e,t){var n=t.z;null==n&&(n=x),e.traverse(function(e){e.z=n,e.z2=n})}function k(e,t){O(t).updateCommon(e,t),P(e,t)}function O(e){return ne[e.__brushOption.brushType]}function R(e,t,n){var o,r=e._panels;if(!r)return!0;var l=e._transform;return f(r,function(e){e.isTargetByCursor(t,n,l)&&(o=e)}),o}function E(e,t){var n=e._panels;if(!n)return!0;var o=t.__brushOption.panelId;return null==o||n[o]}function z(e){var t=e._covers,n=t.length;return f(t,function(t){e.group.remove(t)},e),t.length=0,!!n}function V(e,t){var n=map(e._covers,function(e){var t=e.__brushOption,n=o.clone(t.range);return{brushType:t.brushType,panelId:t.panelId,range:n}});e.trigger("brush",n,{isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function G(track){var e=track.length-1;return e<0&&(e=0),[track[0],track[e]]}function B(e,t,n,o){var r=new l.Group;return r.add(new l.Rect({name:"main",style:Z(n),silent:!0,draggable:!0,cursor:"move",drift:h(e,t,r,"nswe"),ondragend:h(V,t,{isEnd:!0})})),f(o,function(n){r.add(new l.Rect({name:n,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:h(e,t,r,n),ondragend:h(V,t,{isEnd:!0})}))}),r}function H(e,t,n,o){var r=o.brushStyle.lineWidth||0,l=v(r,w),c=n[0][0],d=n[1][0],h=c-r/2,f=d-r/2,m=n[0][1],y=n[1][1],x=m-l+r/2,_=y-l+r/2,S=m-c,M=y-d,I=S+r,A=M+r;F(e,t,"main",c,d,S,M),o.transformable&&(F(e,t,"w",h,f,l,A),F(e,t,"e",x,f,l,A),F(e,t,"n",h,f,I,l),F(e,t,"s",h,_,I,l),F(e,t,"nw",h,f,l,l),F(e,t,"ne",x,f,l,l),F(e,t,"sw",h,_,l,l),F(e,t,"se",x,_,l,l))}function W(e,t){var n=t.__brushOption,o=n.transformable,r=t.childAt(0);r.useStyle(Z(n)),r.attr({silent:!o,cursor:o?"move":"default"}),f(["w","e","n","s","se","sw","ne","nw"],function(n){var r=t.childOfName(n),c=function e(t,n){if(n.length>1){n=n.split("");var o=[e(t,n[0]),e(t,n[1])];return("e"===o[0]||"w"===o[0])&&o.reverse(),o.join("")}var o=l.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[n],function(e){return l.getTransform(e.group)}(t));return{left:"w",right:"e",top:"n",bottom:"s"}[o]}(e,n);r&&r.attr({silent:!o,invisible:!o,cursor:o?I[c]+"-resize":null})})}function F(e,t,n,o,r,l,c){var d,h,f,y,x,_=t.childOfName(n);_&&_.setShape((d=K(e,t,[[o,r],[o+l,r+c]]),h=m(d[0][0],d[1][0]),f=m(d[0][1],d[1][1]),y=v(d[0][0],d[1][0]),x=v(d[0][1],d[1][1]),{x:h,y:f,width:y-h,height:x-f}))}function Z(e){return o.defaults({strokeNoScale:!0},e.brushStyle)}function j(e,t,n,o){var r=[m(e,n),m(t,o)],l=[v(e,n),v(t,o)];return[[r[0],l[0]],[r[1],l[1]]]}function U(e,t,n,o,r,l,c,d){var h=o.__brushOption,m=e(h.range),v=X(n,l,c);f(r.split(""),function(e){var t=M[e];m[t[0]][t[1]]+=v[t[0]]}),h.range=t(j(m[0][0],m[1][0],m[0][1],m[1][1])),k(n,o),V(n,{isEnd:!1})}function Y(e,t,n,o,r){var l=t.__brushOption.range,c=X(e,n,o);f(l,function(e){e[0]+=c[0],e[1]+=c[1]}),k(e,t),V(e,{isEnd:!1})}function X(e,t,n){var o=e.group,r=o.transformCoordToLocal(t,n),l=o.transformCoordToLocal(0,0);return[r[0]-l[0],r[1]-l[1]]}function K(e,t,data){var n=E(e,t);return n&&!0!==n?n.clipPath(data,e._transform):o.clone(data)}function J(e){var t=e.event;t.preventDefault&&t.preventDefault()}function Q(e,t,n){return e.childOfName("main").contain(t,n)}function $(e,t,n,r){var l,c=e._creatingCover,d=e._creatingPanel,h=e._brushOption;if(e._track.push(n.slice()),function(e){var track=e._track;if(!track.length)return!1;var t=track[track.length-1],n=track[0],o=t[0]-n[0],r=t[1]-n[1];return y(o*o+r*r,.5)>_}(e)||c){if(d&&!c){"single"===h.brushMode&&z(e);var f=o.clone(h);f.brushType=ee(f.brushType,d),f.panelId=!0===d?null:d.panelId,c=e._creatingCover=L(e,f),e._covers.push(c)}if(c){var m=ne[ee(e._brushType,d)];c.__brushOption.range=m.getCreatingRange(K(e,c,e._track)),r&&(C(e,c),m.updateCommon(e,c)),P(e,c),l={isEnd:r}}}else r&&"single"===h.brushMode&&h.removeOnClick&&R(e,t,n)&&z(e)&&(l={isEnd:r,removeOnClick:!0});return l}function ee(e,t){return"auto"===e?t.defaultBrushType:e}D.prototype={constructor:D,enableBrush:function(e){var t,n;return this._brushType&&(n=(t=this)._zr,c.release(n,S,t._uid),f(t._handlers,function(e,t){n.off(t,e)}),t._brushType=t._brushOption=null),e.brushType&&function(e,t){var n=e._zr;e._enableGlobalPan||c.take(n,S,e._uid);f(e._handlers,function(e,t){n.on(t,e)}),e._brushType=t.brushType,e._brushOption=o.merge(o.clone(A),t,!0)}(this,e),this},setPanels:function(e){if(e&&e.length){var t=this._panels={};o.each(e,function(e){t[e.panelId]=o.clone(e)})}else this._panels=null;return this},mount:function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({position:e.position||[0,0],rotation:e.rotation||0,scale:e.scale||[1,1]}),this._transform=t.getLocalTransform(),this},eachCover:function(e,t){f(this._covers,e,t)},updateCovers:function(e){e=o.map(e,function(e){return o.merge(o.clone(A),e,!0)});var t="\0-brush-index-",n=this._covers,r=this._covers=[],l=this,c=this._creatingCover;return new d(n,e,function(e,t){return h(e.__brushOption,t)},h).add(f).update(f).remove(function(e){n[e]!==c&&l.group.remove(n[e])}).execute(),this;function h(e,n){return(null!=e.id?e.id:t+n)+"-"+e.brushType}function f(t,o){var d=e[t];if(null!=o&&n[o]===c)r[t]=n[o];else{var h=r[t]=null!=o?(n[o].__brushOption=d,n[o]):C(l,L(l,d));k(l,h)}}},unmount:function(){return this.enableBrush(!1),z(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},o.mixin(D,r);var te={mousedown:function(e){if(this._dragging)ie.call(this,e);else if(!e.target||!e.target.draggable){J(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=R(this,e,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);if(function(e,t,n){if(e._brushType){var o=e._zr,r=e._covers,l=R(e,t,n);if(!e._dragging)for(var i=0;i<r.length;i++){var c=r[i].__brushOption;if(l&&(!0===l||c.panelId===l.panelId)&&ne[c.brushType].contain(r[i],n[0],n[1]))return}l&&o.setCursorStyle("crosshair")}}(this,e,t),this._dragging){J(e);var n=$(this,e,t,!1);n&&V(this,n)}},mouseup:ie};function ie(e){if(this._dragging){J(e);var t=$(this,e,this.group.transformCoordToLocal(e.offsetX,e.offsetY),!0);this._dragging=!1,this._track=[],this._creatingCover=null,t&&V(this,t)}}var ne={lineX:oe(0),lineY:oe(1),rect:{createCover:function(e,t){return B(h(U,function(e){return e},function(e){return e}),e,t,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(e){var t=G(e);return j(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,o){H(e,t,n,o)},updateCommon:W,contain:Q},polygon:{createCover:function(e,t){var n=new l.Group;return n.add(new l.Polyline({name:"main",style:Z(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new l.Polygon({name:"main",draggable:!0,drift:h(Y,e,t),ondragend:h(V,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,o){t.childAt(0).setShape({points:K(e,t,n)})},updateCommon:W,contain:Q}};function oe(e){return{createCover:function(t,n){return B(h(U,function(t){var n=[t,[0,100]];return e&&n.reverse(),n},function(t){return t[e]}),t,n,[["w","e"],["n","s"]][e])},getCreatingRange:function(t){var n=G(t);return[m(n[0][e],n[1][e]),v(n[0][e],n[1][e])]},updateCoverShape:function(t,n,o,r){var l,c=E(t,n);if(!0!==c&&c.getLinearBrushOtherExtent)l=c.getLinearBrushOtherExtent(e,t._transform);else{var d=t._zr;l=[0,[d.getWidth(),d.getHeight()][1-e]]}var h=[o,l];e&&h.reverse(),H(t,n,h,r)},updateCommon:W,contain:Q}}var ae=D;e.exports=ae},function(e,t,n){n(12).__DEV__;var o=n(0),r=n(763),l=n(17).parsePercent,c=n(161),d=c.createScaleByModel,h=c.niceScaleExtent,f=n(160),m=n(111).getStackedDimension;function v(e,t){var n=this,r=n.getAngleAxis(),l=n.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),l.scale.setExtent(1/0,-1/0),e.eachSeries(function(e){if(e.coordinateSystem===n){var data=e.getData();o.each(data.mapDimension("radius",!0),function(e){l.scale.unionExtentFromData(data,m(data,e))}),o.each(data.mapDimension("angle",!0),function(e){r.scale.unionExtentFromData(data,m(data,e))})}}),h(r.scale,r.model),h(l.scale,l.model),"category"===r.type&&!r.onBand){var c=r.getExtent(),d=360/r.scale.count();r.inverse?c[1]+=d:c[1]-=d,r.setExtent(c[0],c[1])}}function y(e,t){if(e.type=t.get("type"),e.scale=d(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),"angleAxis"===t.mainType){e.inverse^=t.get("clockwise");var n=t.get("startAngle");e.setExtent(n,n+(e.inverse?-360:360))}t.axis=e,e.model=t}n(766);var x={dimensions:r.prototype.dimensions,create:function(e,t){var n=[];return e.eachComponent("polar",function(e,o){var c=new r(o);c.update=v;var d=c.getRadiusAxis(),h=c.getAngleAxis(),f=e.findAxisModel("radiusAxis"),m=e.findAxisModel("angleAxis");y(d,f),y(h,m),function(e,t,n){var o=t.get("center"),r=n.getWidth(),c=n.getHeight();e.cx=l(o[0],r),e.cy=l(o[1],c);var d=e.getRadiusAxis(),h=Math.min(r,c)/2,f=l(t.get("radius"),h);d.inverse?d.setExtent(f,0):d.setExtent(0,f)}(c,e,t),n.push(c),e.coordinateSystem=c,c.model=e}),e.eachSeries(function(t){if("polar"===t.get("coordinateSystem")){var n=e.queryComponents({mainType:"polar",index:t.get("polarIndex"),id:t.get("polarId")})[0];t.coordinateSystem=n.coordinateSystem}}),n}};f.register("polar",x)},function(e,t,n){var o=n(0),r=n(40),l=["cartesian2d","polar","singleAxis"];function c(e,t){e=e.slice();var n=o.map(e,r.capitalFirst);t=(t||[]).slice();var l=o.map(t,r.capitalFirst);return function(r,c){o.each(e,function(e,o){for(var d={name:e,capital:n[o]},h=0;h<t.length;h++)d[t[h]]=e+l[h];r.call(c,d)})}}var d=c(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]);t.isCoordSupported=function(e){return o.indexOf(l,e)>=0},t.createNameEach=c,t.eachAxisDim=d,t.createLinkedNodesFinder=function(e,t,n){return function(l){var c,d={nodes:[],records:{}};if(t(function(e){d.records[e.name]={}}),!l)return d;r(l,d);do{c=!1,e(h)}while(c);function h(e){!function(e,t){return o.indexOf(t.nodes,e)>=0}(e,d)&&function(e,r){var l=!1;return t(function(t){o.each(n(e,t)||[],function(e){r.records[t.name][e]&&(l=!0)})}),l}(e,d)&&(r(e,d),c=!0)}return d};function r(e,r){r.nodes.push(e),t(function(t){o.each(n(e,t)||[],function(e){r.records[t.name][e]=!0})})}}},function(e,t,n){n(12).__DEV__;var o=n(31),r=n(0),l=n(18),c=n(4),d=n(40),h=n(267),f=d.addCommas,m=d.encodeHTML;function v(e){c.defaultEmphasis(e,"label",["show"])}var y=o.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(option,e,t,n){this.mergeDefaultAndTheme(option,t),this.mergeOption(option,t,n.createdBySelf,!0)},isAnimationEnabled:function(){if(l.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},mergeOption:function(e,t,n,o){var l=this.constructor,c=this.mainType+"Model";n||t.eachSeries(function(e){var n=e.get(this.mainType,!0),d=e[c];n&&n.data?(d?d.mergeOption(n,t,!0):(o&&v(n),r.each(n.data,function(e){e instanceof Array?(v(e[0]),v(e[1])):v(e)}),d=new l(n,this,t),r.extend(d,{mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:!0}),d.__hostSeries=e),e[c]=d):e[c]=null},this)},formatTooltip:function(e){var data=this.getData(),t=this.getRawValue(e),n=r.isArray(t)?r.map(t,f).join(", "):f(t),o=data.getName(e),html=m(this.name);return(null!=t||o)&&(html+="<br />"),o&&(html+=m(o),null!=t&&(html+=" : ")),null!=t&&(html+=m(n)),html},getData:function(){return this._data},setData:function(data){this._data=data}});r.mixin(y,h);var x=y;e.exports=x},function(e,t,n){var o=n(0),r=n(17),l=n(111).isDimensionStacked,c=o.indexOf;function d(e,data,t,n,o,c){var d=[],h=l(data,n)?data.getCalculationInfo("stackResultDimension"):n,f=v(data,h,e),m=data.indicesOfNearest(h,f)[0];d[o]=data.get(t,m),d[c]=data.get(n,m);var y=r.getPrecision(data.get(n,m));return(y=Math.min(y,20))>=0&&(d[c]=+d[c].toFixed(y)),d}var h=o.curry,f={min:h(d,"min"),max:h(d,"max"),average:h(d,"average")};function m(e,data,t,n){var o={};return null!=e.valueIndex||null!=e.valueDim?(o.valueDataDim=null!=e.valueIndex?data.getDimension(e.valueIndex):e.valueDim,o.valueAxis=t.getAxis(function(e,t){var data=e.getData(),n=data.dimensions;t=data.getDimension(t);for(var i=0;i<n.length;i++){var o=data.getDimensionInfo(n[i]);if(o.name===t)return o.coordDim}}(n,o.valueDataDim)),o.baseAxis=t.getOtherAxis(o.valueAxis),o.baseDataDim=data.mapDimension(o.baseAxis.dim)):(o.baseAxis=n.getBaseAxis(),o.valueAxis=t.getOtherAxis(o.baseAxis),o.baseDataDim=data.mapDimension(o.baseAxis.dim),o.valueDataDim=data.mapDimension(o.valueAxis.dim)),o}function v(data,e,t){if("average"===t){var n=0,o=0;return data.each(e,function(e,t){isNaN(e)||(n+=e,o++)}),n/o}return"median"===t?data.getMedian(e):data.getDataExtent(e,!0)["max"===t?1:0]}t.dataTransform=function(e,t){var data=e.getData(),n=e.coordinateSystem;if(t&&!function(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}(t)&&!o.isArray(t.coord)&&n){var r=n.dimensions,l=m(t,data,n,e);if((t=o.clone(t)).type&&f[t.type]&&l.baseAxis&&l.valueAxis){var d=c(r,l.baseAxis.dim),h=c(r,l.valueAxis.dim);t.coord=f[t.type](data,l.baseDataDim,l.valueDataDim,d,h),t.value=t.coord[h]}else{for(var y=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],i=0;i<2;i++)f[y[i]]&&(y[i]=v(data,data.mapDimension(r[i]),y[i]));t.coord=y}}return t},t.getAxisInfo=m,t.dataFilter=function(e,t){return!(e&&e.containData&&t.coord&&!function(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}(t))||e.containData(t.coord)},t.dimValueGetter=function(e,t,n,o){return o<2?e.coord&&e.coord[o]:e.value},t.numCalculate=v},function(e,t,n){var o=n(31),r=n(0),l=o.extendComponentView({type:"marker",init:function(){this.markerGroupMap=r.createHashMap()},render:function(e,t,n){var o=this.markerGroupMap;o.each(function(e){e.__keep=!1});var r=this.type+"Model";t.eachSeries(function(e){var o=e[r];o&&this.renderSeries(e,o,t,n)},this),o.each(function(e){!e.__keep&&this.group.remove(e.group)},this)},renderSeries:function(){}});e.exports=l},function(e,t,n){var o=n(526).createElement,r=n(77),l=n(13),c=n(58),d=n(59),h=n(168),f=n(162),m=r.CMD,v=Array.prototype.join,y="none",x=Math.round,_=Math.sin,w=Math.cos,S=Math.PI,M=2*Math.PI,I=180/S,A=1e-4;function T(e){return x(1e4*e)/1e4}function D(e){return e<A&&e>-A}function L(e,t){t&&C(e,"transform","matrix("+v.call(t,",")+")")}function C(e,t,n){(!n||"linear"!==n.type&&"radial"!==n.type)&&e.setAttribute(t,n)}function P(e,style,t,n){if(function(style,e){var t=e?style.textFill:style.fill;return null!=t&&t!==y}(style,t)){var o=t?style.textFill:style.fill;o="transparent"===o?y:o,"none"!==e.getAttribute("clip-path")&&o===y&&(o="rgba(0, 0, 0, 0.002)"),C(e,"fill",o),C(e,"fill-opacity",null!=style.fillOpacity?style.fillOpacity*style.opacity:style.opacity)}else C(e,"fill",y);if(function(style,e){var t=e?style.textStroke:style.stroke;return null!=t&&t!==y}(style,t)){var r=t?style.textStroke:style.stroke;C(e,"stroke",r="transparent"===r?y:r),C(e,"stroke-width",(t?style.textStrokeWidth:style.lineWidth)/(!t&&style.strokeNoScale?n.getLineScale():1)),C(e,"paint-order",t?"stroke":"fill"),C(e,"stroke-opacity",null!=style.strokeOpacity?style.strokeOpacity:style.opacity),style.lineDash?(C(e,"stroke-dasharray",style.lineDash.join(",")),C(e,"stroke-dashoffset",x(style.lineDashOffset||0))):C(e,"stroke-dasharray",""),style.lineCap&&C(e,"stroke-linecap",style.lineCap),style.lineJoin&&C(e,"stroke-linejoin",style.lineJoin),style.miterLimit&&C(e,"stroke-miterlimit",style.miterLimit)}else C(e,"stroke",y)}var N={};N.brush=function(e){var style=e.style,t=e.__svgEl;t||(t=o("path"),e.__svgEl=t),e.path||e.createPathProxy();var path=e.path;if(e.__dirtyPath){path.beginPath(),path.subPixelOptimize=!1,e.buildPath(path,e.shape),e.__dirtyPath=!1;var n=function(path){for(var e=[],data=path.data,t=path.len(),i=0;i<t;){var n="",o=0;switch(data[i++]){case m.M:n="M",o=2;break;case m.L:n="L",o=2;break;case m.Q:n="Q",o=4;break;case m.C:n="C",o=6;break;case m.A:var r=data[i++],l=data[i++],c=data[i++],d=data[i++],h=data[i++],f=data[i++],v=data[i++],y=data[i++],A=Math.abs(f),L=D(A-M)&&!D(A),C=!1;C=A>=M||!D(A)&&(f>-S&&f<0||f>S)==!!y;var P=T(r+c*w(h)),N=T(l+d*_(h));L&&(f=y?M-1e-4:1e-4-M,C=!0,9===i&&e.push("M",P,N));var k=T(r+c*w(h+f)),O=T(l+d*_(h+f));e.push("A",T(c),T(d),x(v*I),+C,+y,k,O);break;case m.Z:n="Z";break;case m.R:k=T(data[i++]),O=T(data[i++]);var R=T(data[i++]),E=T(data[i++]);e.push("M",k,O,"L",k+R,O,"L",k+R,O+E,"L",k,O+E,"L",k,O)}n&&e.push(n);for(var z=0;z<o;z++)e.push(T(data[i++]))}return e.join(" ")}(path);n.indexOf("NaN")<0&&C(t,"d",n)}P(t,style,!1,e),L(t,e.transform),null!=style.text&&E(e,e.getBoundingRect())};var k={brush:function(e){var style=e.style,image=style.image;image instanceof HTMLImageElement&&(image=image.src);if(image){var t=style.x||0,n=style.y||0,r=style.width,l=style.height,c=e.__svgEl;c||(c=o("image"),e.__svgEl=c),image!==e.__imageSrc&&(!function(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}(c,"href",image),e.__imageSrc=image),C(c,"width",r),C(c,"height",l),C(c,"x",t),C(c,"y",n),L(c,e.transform),null!=style.text&&E(e,e.getBoundingRect())}}},O={},R=new l,E=function(e,rect,t){var style=e.style;e.__dirty&&h.normalizeTextStyle(style,!0);var text=style.text;if(null!=text){text+="";var n,r,l=e.__textSvgEl;l||(l=o("text"),e.__textSvgEl=l);var m=style.textPosition,v=style.textDistance,y=style.textAlign||"left";"number"==typeof style.fontSize&&(style.fontSize+="px");var x=style.font||[style.fontStyle||"",style.fontWeight||"",style.fontSize||"",style.fontFamily||""].join(" ")||d.DEFAULT_FONT,_=z(style.textVerticalAlign),w=(t=d.getBoundingRect(text,x,y,_,style.textPadding,style.textLineHeight)).lineHeight;if(m instanceof Array)n=rect.x+m[0],r=rect.y+m[1];else{var S=d.adjustTextPositionOnRect(m,rect,v);n=S.x,r=S.y,_=z(S.textVerticalAlign),y=S.textAlign}C(l,"alignment-baseline",_),x&&(l.style.font=x);var M=style.textPadding;if(C(l,"x",n),C(l,"y",r),P(l,style,!0,e),e instanceof f||e.style.transformText)L(l,e.transform);else{if(e.transform)R.copy(rect),R.applyTransform(e.transform),rect=R;else{var I=e.transformCoordToGlobal(rect.x,rect.y);rect.x=I[0],rect.y=I[1],e.transform=c.identity(c.create())}var A=style.textOrigin;"center"===A?(n=t.width/2+n,r=t.height/2+r):A&&(n=A[0]+n,r=A[1]+r);var T=-style.textRotation||0,D=c.create();c.rotate(D,D,T);I=[e.transform[4],e.transform[5]];c.translate(D,D,I),L(l,D)}var N=text.split("\n"),k=N.length,O=y;"left"===O?(O="start",M&&(n+=M[3])):"right"===O?(O="end",M&&(n-=M[1])):"center"===O&&(O="middle",M&&(n+=(M[3]-M[1])/2));var E=0;if("after-edge"===_?(E=-t.height+w,M&&(E-=M[2])):"middle"===_?(E=(-t.height+w)/2,M&&(r+=(M[0]-M[2])/2)):M&&(E+=M[0]),e.__text!==text||e.__textFont!==x){var V=e.__tspanList||[];e.__tspanList=V;for(var i=0;i<k;i++){(tspan=V[i])?tspan.innerHTML="":(tspan=V[i]=o("tspan"),l.appendChild(tspan),C(tspan,"alignment-baseline",_),C(tspan,"text-anchor",O)),C(tspan,"x",n),C(tspan,"y",r+i*w+E),tspan.appendChild(document.createTextNode(N[i]))}for(;i<V.length;i++)l.removeChild(V[i]);V.length=k,e.__text=text,e.__textFont=x}else if(e.__tspanList.length){var G=e.__tspanList.length;for(i=0;i<G;++i){var tspan;(tspan=e.__tspanList[i])&&(C(tspan,"x",n),C(tspan,"y",r+i*w+E))}}}};function z(e){return"middle"===e?"middle":"bottom"===e?"after-edge":"hanging"}O.drawRectText=E,O.brush=function(e){var style=e.style;null!=style.text&&(style.textPosition=[0,0],E(e,{x:style.x||0,y:style.y||0,width:0,height:0},e.getBoundingRect()))},t.path=N,t.image=k,t.text=O},function(e,t){var n="http://www.w3.org/2000/svg";t.createElement=function(e){return document.createElementNS(n,e)}},function(e,t,n){var o=n(526).createElement,r=n(0),l=n(8),c=n(112),d=n(162),h=n(525),f=h.path,m=h.image,v=h.text;function y(e,t,n,o,r){this._zrId=e,this._svgRoot=t,this._tagNames="string"==typeof n?[n]:n,this._markLabel=o,this._domName=r||"_dom",this.nextId=0}y.prototype.createElement=o,y.prototype.getDefs=function(e){var t=this._svgRoot,defs=this._svgRoot.getElementsByTagName("defs");return 0===defs.length?e?((defs=t.insertBefore(this.createElement("defs"),t.firstChild)).contains||(defs.contains=function(e){var t=defs.children;if(!t)return!1;for(var i=t.length-1;i>=0;--i)if(t[i]===e)return!0;return!1}),defs):null:defs[0]},y.prototype.update=function(element,e){if(element){var defs=this.getDefs(!1);if(element[this._domName]&&defs.contains(element[this._domName]))"function"==typeof e&&e(element);else{var t=this.add(element);t&&(element[this._domName]=t)}}},y.prototype.addDom=function(e){this.getDefs(!0).appendChild(e)},y.prototype.removeDom=function(element){var defs=this.getDefs(!1);defs&&element[this._domName]&&(defs.removeChild(element[this._domName]),element[this._domName]=null)},y.prototype.getDoms=function(){var defs=this.getDefs(!1);if(!defs)return[];var e=[];return r.each(this._tagNames,function(t){var n=defs.getElementsByTagName(t);e=e.concat([].slice.call(n))}),e},y.prototype.markAllUnused=function(){var e=this.getDoms(),t=this;r.each(e,function(e){e[t._markLabel]="0"})},y.prototype.markUsed=function(e){e&&(e[this._markLabel]="1")},y.prototype.removeUnused=function(){var defs=this.getDefs(!1);if(defs){var e=this.getDoms(),t=this;r.each(e,function(e){"1"!==e[t._markLabel]&&defs.removeChild(e)})}},y.prototype.getSvgProxy=function(e){return e instanceof l?f:e instanceof c?m:e instanceof d?v:f},y.prototype.getTextSvgElement=function(e){return e.__textSvgEl},y.prototype.getSvgElement=function(e){return e.__svgEl};var x=y;e.exports=x},,,,,,,,,function(e,t,n){var o=n(31);n(585),n(592),n(539),n(509);var r=n(594),l=n(595),c=n(596),d=n(597),h=n(540);o.registerLayout(r),o.registerVisual(l),o.registerProcessor(o.PRIORITY.PROCESSOR.STATISTIC,c),o.registerPreprocessor(d),h("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(e,t,n){var o=n(0),r=n(487),l=n(507),c=n(497).onIrrelevantElement,d=n(55),h=n(496),f=n(79).getUID;function m(e,t){var n=e.getItemStyle(),o=e.get("areaColor");return null!=o&&(n.fill=o),n}function v(e,t){t.eachChild(function(t){o.each(t.__regions,function(n){t.trigger(e.isSelected(n.name)?"emphasis":"normal")})})}function y(e,t){var n=new d.Group;this.uid=f("ec_map_draw"),this._controller=new r(e.getZr()),this._controllerHost={target:t?n:null},this.group=n,this._updateGroup=t,this._mouseDownFlag,this._mapName,this._initialized,n.add(this._regionsGroup=new d.Group),n.add(this._backgroundGroup=new d.Group)}y.prototype={constructor:y,draw:function(e,t,n,r,l){var c="geo"===e.mainType,data=e.getData&&e.getData();c&&t.eachComponent({mainType:"series",subType:"map"},function(t){data||t.getHostGeoModel()!==e||(data=t.getData())});var h=e.coordinateSystem;this._updateBackground(h);var f=this._regionsGroup,y=this.group,x=h.scale,_={position:h.position,scale:x};!f.childAt(0)||l?y.attr(_):d.updateProps(y,_,e),f.removeAll();var w=["itemStyle"],S=["emphasis","itemStyle"],M=["label"],I=["emphasis","label"],A=o.createHashMap();o.each(h.regions,function(t){var n=A.get(t.name)||A.set(t.name,new d.Group),r=new d.CompoundPath({shape:{paths:[]}});n.add(r);var l,h=(z=e.getRegionModel(t.name)||e).getModel(w),v=z.getModel(S),y=m(h),_=m(v),T=z.getModel(M),D=z.getModel(I);if(data){l=data.indexOfName(t.name);var L=data.getItemVisual(l,"color",!0);L&&(y.fill=L)}o.each(t.geometries,function(e){if("polygon"===e.type){r.shape.paths.push(new d.Polygon({shape:{points:e.exterior}}));for(var i=0;i<(e.interiors?e.interiors.length:0);i++)r.shape.paths.push(new d.Polygon({shape:{points:e.interiors[i]}}))}}),r.setStyle(y),r.style.strokeNoScale=!0,r.culling=!0;var C=T.get("show"),P=D.get("show"),N=data&&isNaN(data.get(data.mapDimension("value"),l)),k=data&&data.getItemLayout(l);if(c||N&&(C||P)||k&&k.showLabel){var O,R=c?t.name:l;(!data||l>=0)&&(O=e);var E=new d.Text({position:t.center.slice(),scale:[1/x[0],1/x[1]],z2:10,silent:!0});d.setLabelStyle(E.style,E.hoverStyle={},T,D,{labelFetcher:O,labelDataIndex:R,defaultText:t.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),n.add(E)}if(data)data.setItemGraphicEl(l,n);else{var z=e.getRegionModel(t.name);r.eventData={componentType:"geo",componentIndex:e.componentIndex,geoIndex:e.componentIndex,name:t.name,region:z&&z.option||{}}}(n.__regions||(n.__regions=[])).push(t),d.setHoverStyle(n,_,{hoverSilentOnTouch:!!e.get("selectedMode")}),f.add(n)}),this._updateController(e,t,n),function(e,t,n,r,l){n.off("click"),n.off("mousedown"),t.get("selectedMode")&&(n.on("mousedown",function(){e._mouseDownFlag=!0}),n.on("click",function(c){if(e._mouseDownFlag){e._mouseDownFlag=!1;for(var d=c.target;!d.__regions;)d=d.parent;if(d){var h={type:("geo"===t.mainType?"geo":"map")+"ToggleSelect",batch:o.map(d.__regions,function(e){return{name:e.name,from:l.uid}})};h[t.mainType+"Id"]=t.id,r.dispatchAction(h),v(t,n)}}}))}(this,e,f,n,r),v(e,f)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&h.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(e){var t=e.map;this._mapName!==t&&o.each(h.makeGraphic(t,this.uid),function(e){this._backgroundGroup.add(e)},this),this._mapName=t},_updateController:function(e,t,n){var r=e.coordinateSystem,d=this._controller,h=this._controllerHost;h.zoomLimit=e.get("scaleLimit"),h.zoom=r.getZoom(),d.enable(e.get("roam")||!1);var f=e.mainType;function m(){var t={type:"geoRoam",componentType:f};return t[f+"Id"]=e.id,t}d.off("pan").on("pan",function(e){this._mouseDownFlag=!1,l.updateViewOnPan(h,e.dx,e.dy),n.dispatchAction(o.extend(m(),{dx:e.dx,dy:e.dy}))},this),d.off("zoom").on("zoom",function(e){if(this._mouseDownFlag=!1,l.updateViewOnZoom(h,e.scale,e.originX,e.originY),n.dispatchAction(o.extend(m(),{zoom:e.scale,originX:e.originX,originY:e.originY})),this._updateGroup){var t=this.group.scale;this._regionsGroup.traverse(function(e){"text"===e.type&&e.attr("scale",[1/t[0],1/t[1]])})}},this),d.setPointerChecker(function(t,o,l){return r.getViewRectAfterRoam().contain(o,l)&&!c(t,n,e)})}};var x=y;e.exports=x},function(e,t,n){var o=n(31),r="\0_ec_interaction_mutex";function l(e){return e[r]||(e[r]={})}o.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),t.take=function(e,t,n){l(e)[t]=n},t.release=function(e,t,n){var o=l(e);o[t]===n&&(o[t]=null)},t.isTaken=function(e,t){return!!l(e)[t]}},function(e,t,n){var o=n(31),r=n(0),l=n(508).updateCenterAndZoom;o.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},function(t){var o=t.coordinateSystem;if("geo"===o.type){var c=l(o,e,t.get("scaleLimit"));t.setCenter&&t.setCenter(c.center),t.setZoom&&t.setZoom(c.zoom),"series"===n&&r.each(t.seriesGroup,function(e){e.setCenter(c.center),e.setZoom(c.zoom)})}})})},function(e,t,n){var o=n(31),r=n(0);e.exports=function(e,t){r.each(t,function(t){t.update="updateView",o.registerAction(t,function(n,o){var r={};return o.eachComponent({mainType:"series",subType:e,query:n},function(e){e[t.method]&&e[t.method](n.name,n.dataIndex);var data=e.getData();data.each(function(t){var n=data.getName(t);r[n]=e.isSelected(n)||!1})}),{name:n.name,selected:r}})})}},function(e,t,n){var o=n(0),r=n(4);e.exports=function(e,t){var n,l=[],c=e.seriesIndex;if(null==c||!(n=t.getSeriesByIndex(c)))return{point:[]};var data=n.getData(),d=r.queryDataIndex(data,e);if(null==d||d<0||o.isArray(d))return{point:[]};var h=data.getItemGraphicEl(d),f=n.coordinateSystem;if(n.getTooltipPosition)l=n.getTooltipPosition(d)||[];else if(f&&f.dataToPoint)l=f.dataToPoint(data.getValues(o.map(f.dimensions,function(e){return data.mapDimension(e)}),d,!0))||[];else if(h){var rect=h.getBoundingRect().clone();rect.applyTransform(h.transform),l=[rect.x+rect.width/2,rect.y+rect.height/2]}return{point:l,el:h}}},function(e,t,n){var o=n(0),r=n(18),l=(0,n(4).makeInner)(),c=o.each;function d(e,t,n){e.handler("leave",null,n)}function h(e,t,n,o){t.handler(e,n,o)}t.register=function(e,t,n){if(!r.node){var f=t.getZr();l(f).records||(l(f).records={}),function(e,t){function n(n,o){e.on(n,function(n){var r=function(e){var t={showTip:[],hideTip:[]},n=function(o){var r=t[o.type];r?r.push(o):(o.dispatchAction=n,e.dispatchAction(o))};return{dispatchAction:n,pendings:t}}(t);c(l(e).records,function(e){e&&o(e,n,r.dispatchAction)}),function(e,t){var n,o=e.showTip.length,r=e.hideTip.length;o?n=e.showTip[o-1]:r&&(n=e.hideTip[r-1]),n&&(n.dispatchAction=null,t.dispatchAction(n))}(r.pendings,t)})}l(e).initialized||(l(e).initialized=!0,n("click",o.curry(h,"click")),n("mousemove",o.curry(h,"mousemove")),n("globalout",d))}(f,t),(l(f).records[e]||(l(f).records[e]={})).handler=n}},t.unregister=function(e,t){if(!r.node){var n=t.getZr();(l(n).records||{})[e]&&(l(n).records[e]=null)}}},function(e,t,n){var o=n(55),r=n(512),l=n(499),c=n(544),d=n(482),h=r.extend({makeElOption:function(e,t,n,o,r){var d=n.axis,h=d.grid,v=o.get("type"),y=f(h,d).getOtherAxis(d).getGlobalExtent(),x=d.toGlobalCoord(d.dataToCoord(t,!0));if(v&&"none"!==v){var _=l.buildElStyle(o),w=m[v](d,x,y,_);w.style=_,e.graphicKey=w.type,e.pointer=w}var S=c.layout(h.model,n);l.buildCartesianSingleLabelElOption(t,e,S,n,o,r)},getHandleTransform:function(e,t,n){var o=c.layout(t.axis.grid.model,t,{labelInside:!1});return o.labelMargin=n.get("handle.margin"),{position:l.getTransformedPosition(t.axis,e,o),rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,o){var r=n.axis,l=r.grid,c=r.getGlobalExtent(!0),d=f(l,r).getOtherAxis(r).getGlobalExtent(),h="x"===r.dim?0:1,m=e.position;m[h]+=t[h],m[h]=Math.min(c[1],m[h]),m[h]=Math.max(c[0],m[h]);var v=(d[1]+d[0])/2,y=[v,v];y[h]=m[h];return{position:m,rotation:e.rotation,cursorPoint:y,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][h]}}});function f(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}var m={line:function(e,t,n,r){var c=l.makeLineShape([t,n[0]],[t,n[1]],v(e));return o.subPixelOptimizeLine({shape:c,style:r}),{type:"Line",shape:c}},shadow:function(e,t,n,o){var r=Math.max(1,e.getBandWidth()),span=n[1]-n[0];return{type:"Rect",shape:l.makeRectShape([t-r/2,n[0]],[r,span],v(e))}}};function v(e){return"x"===e.dim?0:1}d.registerAxisPointerClass("CartesianAxisPointer",h);var y=h;e.exports=y},function(e,t,n){var o=n(0);t.layout=function(e,t,n){n=n||{};var r=e.coordinateSystem,l=t.axis,c={},d=l.getAxesOnZeroOf()[0],h=l.position,f=d?"onZero":h,m=l.dim,rect=r.getRect(),v=[rect.x,rect.x+rect.width,rect.y,rect.y+rect.height],y={left:0,right:1,top:0,bottom:1,onZero:2},x=t.get("offset")||0,_="x"===m?[v[2]-x,v[3]+x]:[v[0]-x,v[1]+x];if(d){var w=d.toGlobalCoord(d.dataToCoord(0));_[y.onZero]=Math.max(Math.min(w,_[1]),_[0])}c.position=["y"===m?_[y[f]]:v[0],"x"===m?_[y[f]]:v[3]],c.rotation=Math.PI/2*("x"===m?0:1),c.labelDirection=c.tickDirection=c.nameDirection={top:-1,bottom:1,left:-1,right:1}[h],c.labelOffset=d?_[y[h]]-_[y.onZero]:0,t.get("axisTick.inside")&&(c.tickDirection=-c.tickDirection),o.retrieve(n.labelInside,t.get("axisLabel.inside"))&&(c.labelDirection=-c.labelDirection);var S=t.get("axisLabel.rotate");return c.labelRotate="top"===f?-S:S,c.z2=1,c}},function(e,t,n){n(605),n(608)},function(e,t,n){var o=n(0),r=o.each;function l(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}e.exports=function(option){var e=option&&option.visualMap;o.isArray(e)||(e=e?[e]:[]),r(e,function(e){if(e){l(e,"splitList")&&!l(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&o.isArray(t)&&r(t,function(e){o.isObject(e)&&(l(e,"start")&&!l(e,"min")&&(e.min=e.start),l(e,"end")&&!l(e,"max")&&(e.max=e.end))})}})}},function(e,t,n){n(56).registerSubTypeDefaulter("visualMap",function(option){return option.categories||(option.pieces?option.pieces.length>0:option.splitNumber>0)&&!option.calculable?"piecewise":"continuous"})},function(e,t,n){var o=n(31),r=n(0),l=n(500),c=n(483),d=o.PRIORITY.VISUAL.COMPONENT;function h(e,t,n,o){for(var r=t.targetVisuals[o],l=c.prepareVisualTypes(r),d={color:e.getData().getVisual("color")},i=0,h=l.length;i<h;i++){var f=l[i],m=r["opacity"===f?"__alphaForOpacity":f];m&&m.applyVisual(n,v,y)}return d.color;function v(e){return d[e]}function y(e,t){d[e]=t}}o.registerVisual(d,{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",function(t){var o=e.pipelineContext;!t.isTargetSeries(e)||o&&o.large||n.push(l.incrementalApplyVisual(t.stateList,t.targetVisuals,r.bind(t.getValueState,t),t.getDataDimension(e.getData())))}),n}}),o.registerVisual(d,{createOnAllSeries:!0,reset:function(e,t){var data=e.getData(),n=[];t.eachComponent("visualMap",function(t){if(t.isTargetSeries(e)){var o=t.getVisualMeta(r.bind(h,null,e,t))||{stops:[],outerColors:[]},l=t.getDataDimension(data),c=data.getDimensionInfo(l);null!=c&&(o.dimension=c.index,n.push(o))}}),e.getData().setVisual("visualMeta",n)}})},function(e,t,n){var o=n(31),r=n(0),l=n(18),c=n(550),d=n(483),h=n(500),f=n(4),m=n(17),v=d.mapVisual,y=d.eachVisual,x=r.isArray,_=r.each,w=m.asc,S=m.linearMap,M=r.noop,I=o.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(option,e,t){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(option,t)},optionUpdated:function(e,t){var n=this.option;l.canvasSupported||(n.realtime=!1),!t&&h.replaceVisualOption(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=r.bind(e,this),this.controllerVisuals=h.createVisualMappings(this.option.controller,t,e),this.targetVisuals=h.createVisualMappings(this.option.target,t,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries(function(e,n){t.push(n)}):t=f.normalizeToArray(e),t},eachTargetSeries:function(e,t){r.each(this.getTargetSeriesIndices(),function(n){e.call(t,this.ecModel.getSeriesByIndex(n))},this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries(function(n){n===e&&(t=!0)}),t},formatValueText:function(e,t,n){var o,l,option=this.option,c=option.precision,d=this.dataBound,h=option.formatter;return n=n||["<",">"],r.isArray(e)&&(e=e.slice(),o=!0),l=t?e:o?[f(e[0]),f(e[1])]:f(e),r.isString(h)?h.replace("{value}",o?l[0]:l).replace("{value2}",o?l[1]:l):r.isFunction(h)?o?h(e[0],e[1]):h(e):o?e[0]===d[0]?n[0]+" "+l[1]:e[1]===d[1]?n[1]+" "+l[0]:l[0]+" - "+l[1]:l;function f(e){return e===d[0]?"min":e===d[1]?"max":(+e).toFixed(Math.min(c,20))}},resetExtent:function(){var e=this.option,t=w([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension,n=e.dimensions;if(null!=t||n.length){if(null!=t)return e.getDimension(t);for(var o=e.dimensions,i=o.length-1;i>=0;i--){var r=o[i];if(!e.getDimensionInfo(r).isCalculationCoord)return r}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var e=this.ecModel,t=this.option,base={inRange:t.inRange,outOfRange:t.outOfRange},n=t.target||(t.target={}),o=t.controller||(t.controller={});r.merge(n,base),r.merge(o,base);var l=this.isCategory();function h(base){x(t.color)&&!base.inRange&&(base.inRange={color:t.color.slice().reverse()}),base.inRange=base.inRange||{color:e.get("gradientColor")},_(this.stateList,function(e){var t=base[e];if(r.isString(t)){var n=c.get(t,"active",l);n?(base[e]={},base[e][t]=n):delete base[e]}},this)}h.call(this,n),h.call(this,o),function(base,e,t){var n=base[e],o=base[t];n&&!o&&(o=base[t]={},_(n,function(e,t){if(d.isValidType(t)){var n=c.get(t,"inactive",l);null!=n&&(o[t]=n,"color"!==t||o.hasOwnProperty("opacity")||o.hasOwnProperty("colorAlpha")||(o.opacity=[0,0]))}}))}.call(this,n,"inRange","outOfRange"),function(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,n=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,o=this.get("inactiveColor");_(this.stateList,function(c){var d=this.itemSize,h=e[c];h||(h=e[c]={color:l?o:[o]}),null==h.symbol&&(h.symbol=t&&r.clone(t)||(l?"roundRect":["roundRect"])),null==h.symbolSize&&(h.symbolSize=n&&r.clone(n)||(l?d[0]:[d[0],d[0]])),h.symbol=v(h.symbol,function(symbol){return"none"===symbol||"square"===symbol?"roundRect":symbol});var f=h.symbolSize;if(null!=f){var m=-1/0;y(f,function(e){e>m&&(m=e)}),h.symbolSize=v(f,function(e){return S(e,[0,m],[0,d[0]],!0)})}},this)}.call(this,o)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:M,getValueState:M,getVisualMeta:M});e.exports=I},function(e,t,n){var o=n(0),r={get:function(e,t,n){var r=o.clone((l[e]||{})[t]);return n&&o.isArray(r)?r[r.length-1]:r}},l={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},c=r;e.exports=c},function(e,t,n){var o=n(31),r=n(0),l=n(55),c=n(40),d=n(110),h=n(483),f=o.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e,this.api=t,this.visualMapModel},render:function(e,t,n,o){this.visualMapModel=e,!1!==e.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(e){var t=this.visualMapModel,n=c.normalizeCssArray(t.get("padding")||0),rect=e.getBoundingRect();e.add(new l.Rect({z2:-1,silent:!0,shape:{x:rect.x-n[3],y:rect.y-n[0],width:rect.width+n[3]+n[1],height:rect.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},getControllerVisual:function(e,t,n){var o=(n=n||{}).forceState,l=this.visualMapModel,c={};if("symbol"===t&&(c.symbol=l.get("itemSymbol")),"color"===t){var d=l.get("contentColor");c.color=d}function f(e){return c[e]}function m(e,t){c[e]=t}var v=l.controllerVisuals[o||l.getValueState(e)],y=h.prepareVisualTypes(v);return r.each(y,function(o){var r=v[o];n.convertOpacityToAlpha&&"opacity"===o&&(o="colorAlpha",r=v.__alphaForOpacity),h.dependsOn(o,t)&&r&&r.applyVisual(e,f,m)}),c[t]},positionGroup:function(e){var t=this.visualMapModel,n=this.api;d.positionElement(e,t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:r.noop});e.exports=f},function(e,t,n){var o=n(0),r=n(110).getLayoutRect;t.getItemAlign=function(e,t,n){var o=e.option,l=o.align;if(null!=l&&"auto"!==l)return l;for(var c={width:t.getWidth(),height:t.getHeight()},d="horizontal"===o.orient?1:0,h=[["left","right","width"],["top","bottom","height"]],f=h[d],m=[0,null,10],v={},i=0;i<3;i++)v[h[1-d][i]]=m[i],v[f[i]]=2===i?n[0]:o[f[i]];var y=[["x","width",3],["y","height",0]][d],rect=r(v,c,o.padding);return f[(rect.margin[y[2]]||0)+rect[y[0]]+.5*rect[y[1]]<.5*c[y[1]]?0:1]},t.convertDataIndex=function(e){return o.each(e||[],function(t){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null)}),e}},function(e,t,n){n(31).registerAction({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(t){t.setSelected(e.selected)})})},function(e,t,n){var o=n(111).isDimensionStacked,map=n(0).map;t.prepareDataCoordInfo=function(e,data,t){var n,r=e.getBaseAxis(),l=e.getOtherAxis(r),c=function(e,t){var n=0,o=e.scale.getExtent();return"start"===t?n=o[0]:"end"===t?n=o[1]:o[0]>0?n=o[0]:o[1]<0&&(n=o[1]),n}(l,t),d=r.dim,h=l.dim,f=data.mapDimension(h),m=data.mapDimension(d),v="x"===h||"radius"===h?1:0,y=map(e.dimensions,function(e){return data.mapDimension(e)}),x=data.getCalculationInfo("stackResultDimension");return(n|=o(data,y[0]))&&(y[0]=x),(n|=o(data,y[1]))&&(y[1]=x),{dataDimsForPoint:y,valueStart:c,valueAxisDim:h,baseAxisDim:d,stacked:!!n,valueDim:f,baseDim:m,baseDataOffset:v,stackedOverDimension:data.getCalculationInfo("stackedOverDimension")}},t.getStackedOnPoint=function(e,t,data,n){var o=NaN;e.stacked&&(o=data.get(data.getCalculationInfo("stackedOverDimension"),n)),isNaN(o)&&(o=e.valueStart);var r=e.baseDataOffset,l=[];return l[r]=data.get(e.baseDim,n),l[1-r]=o,t.dataToPoint(l)}},function(e,t,n){var o=n(8),r=n(10),l=n(273),c=r.min,d=r.max,h=r.scaleAndAdd,f=r.copy,m=[],v=[],y=[];function x(p){return isNaN(p[0])||isNaN(p[1])}function _(e,t,n,o,l,_,w,S,M,I,A){return"none"!==I&&I?function(e,t,n,o,r,l,c,d,h,m,_){for(var w=0,S=n,M=0;M<o;M++){var p=t[S];if(S>=r||S<0)break;if(x(p)){if(_){S+=l;continue}break}if(S===n)e[l>0?"moveTo":"lineTo"](p[0],p[1]);else if(h>0){var I=t[w],A="y"===m?1:0,T=(p[A]-I[A])*h;f(v,I),v[A]=I[A]+T,f(y,p),y[A]=p[A]-T,e.bezierCurveTo(v[0],v[1],y[0],y[1],p[0],p[1])}else e.lineTo(p[0],p[1]);w=S,S+=l}return M}.apply(this,arguments):function(e,t,n,o,l,_,w,S,M,I,A){for(var T=0,D=n,L=0;L<o;L++){var p=t[D];if(D>=l||D<0)break;if(x(p)){if(A){D+=_;continue}break}if(D===n)e[_>0?"moveTo":"lineTo"](p[0],p[1]),f(v,p);else if(M>0){var C=D+_,P=t[C];if(A)for(;P&&x(t[C]);)P=t[C+=_];var N=.5,k=t[T],P=t[C];if(!P||x(P))f(y,p);else{var O,R;if(x(P)&&!A&&(P=p),r.sub(m,P,k),"x"===I||"y"===I){var E="x"===I?0:1;O=Math.abs(p[E]-k[E]),R=Math.abs(p[E]-P[E])}else O=r.dist(p,k),R=r.dist(p,P);h(y,p,m,-M*(1-(N=R/(R+O))))}c(v,v,S),d(v,v,w),c(y,y,S),d(y,y,w),e.bezierCurveTo(v[0],v[1],y[0],y[1],p[0],p[1]),h(v,p,m,M*N)}else e.lineTo(p[0],p[1]);T=D,D+=_}return L}.apply(this,arguments)}function w(e,t){var n=[1/0,1/0],o=[-1/0,-1/0];if(t)for(var i=0;i<e.length;i++){var r=e[i];r[0]<n[0]&&(n[0]=r[0]),r[1]<n[1]&&(n[1]=r[1]),r[0]>o[0]&&(o[0]=r[0]),r[1]>o[1]&&(o[1]=r[1])}return{min:t?n:o,max:t?o:n}}var S=o.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:l(o.prototype.brush),buildPath:function(e,t){var n=t.points,i=0,o=n.length,r=w(n,t.smoothConstraint);if(t.connectNulls){for(;o>0&&x(n[o-1]);o--);for(;i<o&&x(n[i]);i++);}for(;i<o;)i+=_(e,n,i,o,o,1,r.min,r.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),M=o.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:l(o.prototype.brush),buildPath:function(e,t){var n=t.points,o=t.stackedOnPoints,i=0,r=n.length,l=t.smoothMonotone,c=w(n,t.smoothConstraint),d=w(o,t.smoothConstraint);if(t.connectNulls){for(;r>0&&x(n[r-1]);r--);for(;i<r&&x(n[i]);i++);}for(;i<r;){var h=_(e,n,i,r,r,1,c.min,c.max,t.smooth,l,t.connectNulls);_(e,o,i+h-1,h,r,-1,d.min,d.max,t.stackedOnSmooth,l,t.connectNulls),i+=h+1,e.closePath()}}});t.Polyline=S,t.Polygon=M},function(e,t,n){var o=n(0),r=n(56),l=n(502),c=n(264),d=r.extend({type:"cartesian2dAxis",axis:null,init:function(){d.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){d.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){d.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function h(e,option){return option.type||(option.data?"category":"value")}o.merge(d.prototype,c);var f={offset:0};l("x",d,h,f),l("y",d,h,f);var m=d;e.exports=m},function(e,t,n){var o=n(0),r={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},l={};l.categoryAxis=o.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},r),l.valueAxis=o.merge({boundaryGap:[0,0],splitNumber:5},r),l.timeAxis=o.defaults({scale:!0,min:"dataMin",max:"dataMax"},l.valueAxis),l.logAxis=o.defaults({scale:!0,logBase:10},l.valueAxis);var c=l;e.exports=c},function(e,t,n){var o=n(31),r=n(0),l=n(265),c=l.layout,d=l.largeLayout;n(515),n(624),n(625),n(492),o.registerLayout(r.curry(c,"bar")),o.registerLayout(d),o.registerVisual({seriesType:"bar",reset:function(e){e.getData().setVisual("legendSymbol","roundRect")}})},function(e,t,n){var o=n(257),r=n(260),l=o.extend({type:"series.__base_bar__",getInitialData:function(option,e){return r(this.getSource(),this)},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var n=t.dataToPoint(t.clampData(e)),data=this.getData(),o=data.getLayout("offset"),r=data.getLayout("size");return n[t.getBaseAxis().isHorizontal()?0:1]+=o+r/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});e.exports=l},function(e,t,n){var o=n(55),r=n(514).getDefaultLabel;function l(style,e){"outside"===style.textPosition&&(style.textPosition=e)}t.setLabel=function(e,t,n,c,d,h,f){var m=n.getModel("label"),v=n.getModel("emphasis.label");o.setLabelStyle(e,t,m,v,{labelFetcher:d,labelDataIndex:h,defaultText:r(d.getData(),h),isRectText:!0,autoColor:c}),l(e),l(t)}},function(e,t,n){var o=n(0),r=o.each,l="\0__link_datas",c="\0__link_mainData";function d(e,t){if((data=this)[c]===data){var n=o.extend({},this[l]);n[this.dataType]=t,v(t,n,e)}else y(t,this.dataType,this[c],e);var data;return t}function h(e,t){return e.struct&&e.struct.update(this),t}function f(e,t){return r(t[l],function(data,n){data!==t&&y(data.cloneShallow(),n,t,e)}),t}function m(e){var t=this[c];return null==e||null==t?t:t[l][e]}function v(e,t,n){e[l]={},r(t,function(data,t){y(data,t,e,n)})}function y(data,e,t,n){t[l][e]=data,data[c]=t,data.dataType=e,n.struct&&(data[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=data),data.getLinkedData=m}var x=function(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,v(t,n,e),r(n,function(data){r(t.TRANSFERABLE_METHODS,function(t){data.wrapMethod(t,o.curry(d,e))})}),t.wrapMethod("cloneShallow",o.curry(f,e)),r(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,o.curry(h,e))}),o.assert(n[t.dataType]===t)};e.exports=x},function(e,t,n){var o=n(110);function r(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function l(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function c(e,t,n){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:n}function d(e,t,n){var o=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=o,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=o}function h(e,t){return e.parentNode===t.parentNode?1:2}t.init=function(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t,n,o=[e];t=o.pop();)if(n=t.children,t.isExpand&&n.length)for(var i=n.length-1;i>=0;i--){var r=n[i];r.hierNode={defaultAncestor:null,ancestor:r,prelim:0,modifier:0,change:0,shift:0,i:i,thread:null},o.push(r)}},t.firstWalk=function(e,t){var n=e.isExpand?e.children:[],o=e.parentNode.children,h=e.hierNode.i?o[e.hierNode.i-1]:null;if(n.length){!function(e){for(var t=e.children,n=t.length,o=0,r=0;--n>=0;){var l=t[n];l.hierNode.prelim+=o,l.hierNode.modifier+=o,r+=l.hierNode.change,o+=l.hierNode.shift+r}}(e);var f=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;h?(e.hierNode.prelim=h.hierNode.prelim+t(e,h),e.hierNode.modifier=e.hierNode.prelim-f):e.hierNode.prelim=f}else h&&(e.hierNode.prelim=h.hierNode.prelim+t(e,h));e.parentNode.hierNode.defaultAncestor=function(e,t,n,o){if(t){for(var h=e,f=e,m=f.parentNode.children[0],v=t,y=h.hierNode.modifier,x=f.hierNode.modifier,_=m.hierNode.modifier,w=v.hierNode.modifier;v=r(v),f=l(f),v&&f;){h=r(h),m=l(m),h.hierNode.ancestor=e;var S=v.hierNode.prelim+w-f.hierNode.prelim-x+o(v,f);S>0&&(d(c(v,e,n),e,S),x+=S,y+=S),w+=v.hierNode.modifier,x+=f.hierNode.modifier,y+=h.hierNode.modifier,_+=m.hierNode.modifier}v&&!r(h)&&(h.hierNode.thread=v,h.hierNode.modifier+=w-y),f&&!l(m)&&(m.hierNode.thread=f,m.hierNode.modifier+=x-_,n=e)}return n}(e,h,e.parentNode.hierNode.defaultAncestor||o[0],t)},t.secondWalk=function(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier},t.separation=function(e){return arguments.length?e:h},t.radialCoordinate=function(e,t){var n={};return e-=Math.PI/2,n.x=t*Math.cos(e),n.y=t*Math.sin(e),n},t.getViewRect=function(e,t){return o.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}},function(e,t,n){var o=n(0),r=n(159),l=n(662),c=n(561),d=n(165),h=n(160),f=n(260);e.exports=function(e,t,n,m,v){for(var y=new l(m),i=0;i<e.length;i++)y.addNode(o.retrieve(e[i].id,e[i].name,i),i);var x=[],_=[],w=0;for(i=0;i<t.length;i++){var link=t[i],source=link.source,S=link.target;y.addEdge(source,S,w)&&(_.push(link),x.push(o.retrieve(link.id,source+" > "+S)),w++)}var M,I=n.get("coordinateSystem");if("cartesian2d"===I||"polar"===I)M=f(e,n);else{var A=h.get(I),T=A&&"view"!==A.type&&A.dimensions||[];o.indexOf(T,"value")<0&&T.concat(["value"]);var D=d(e,{coordDimensions:T});(M=new r(D,n)).initData(e)}var L=new r(["value"],n);return L.initData(_,x),v&&v(M,L),c({mainData:M,struct:y,structAttr:"graph",datas:{node:M,edge:L},datasAttr:{node:"data",edge:"edgeData"}}),y.update(),y}},function(e,t,n){var o=n(31);o.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),o.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){})},function(e,t,n){var o=n(10);function r(e){e.eachEdge(function(e){var t=e.getModel().get("lineStyle.curveness")||0,n=o.clone(e.node1.getLayout()),r=o.clone(e.node2.getLayout()),l=[n,r];+t&&l.push([(n[0]+r[0])/2-(n[1]-r[1])*t,(n[1]+r[1])/2-(r[0]-n[0])*t]),e.setLayout(l)})}t.simpleLayout=function(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=e.getGraph();n.eachNode(function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])}),r(n)}},t.simpleLayoutEdge=r},function(e,t,n){var o=n(10);t.circularLayout=function(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var rect=t.getBoundingRect(),n=e.getData(),r=n.graph,l=0,c=n.getSum("value"),d=2*Math.PI/(c||n.count()),h=rect.width/2+rect.x,f=rect.height/2+rect.y,m=Math.min(rect.width,rect.height)/2;r.eachNode(function(e){var t=e.getValue("value");l+=d*(c?t:1)/2,e.setLayout([m*Math.cos(l)+h,m*Math.sin(l)+f]),l+=d*(c?t:1)/2}),n.setLayout({cx:h,cy:f}),r.eachEdge(function(e){var t,n=e.getModel().get("lineStyle.curveness")||0,r=o.clone(e.node1.getLayout()),l=o.clone(e.node2.getLayout()),c=(r[0]+l[0])/2,d=(r[1]+l[1])/2;+n&&(t=[h*(n*=3)+c*(1-n),f*n+d*(1-n)]),e.setLayout([r,l,t])})}}},function(e,t,n){var o=n(31),r=n(0),l=n(163),c=n(684);n(568),n(687),n(689);o.extendComponentView({type:"parallel",render:function(e,t,n){this._model=e,this._api=n,this._handlers||(this._handlers={},r.each(d,function(e,t){n.getZr().on(t,this._handlers[t]=r.bind(e,this))},this)),l.createOrUpdate(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},dispose:function(e,t){r.each(this._handlers,function(e,n){t.getZr().off(n,e)}),this._handlers=null},_throttledDispatchExpand:function(e){this._dispatchExpand(e)},_dispatchExpand:function(e){e&&this._api.dispatchAction(r.extend({type:"parallelAxisExpand"},e))}});var d={mousedown:function(e){h(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(h(this,"click")&&t){var n=[e.offsetX,e.offsetY];if(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2)>5)return;var o=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==o.behavior&&this._dispatchExpand({axisExpandWindow:o.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&h(this,"mousemove")){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),o=n.behavior;"jump"===o&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===o?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===o&&null})}}};function h(view,e){var t=view._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}o.registerPreprocessor(c)},function(e,t,n){var o=n(685);n(160).register("parallel",{create:function(e,t){var n=[];return e.eachComponent("parallel",function(r,l){var c=new o(r,e,t);c.name="parallel_"+l,c.resize(r,t),r.coordinateSystem=c,c.model=r,n.push(c)}),e.eachSeries(function(t){if("parallel"===t.get("coordinateSystem")){var n=e.queryComponents({mainType:"parallel",index:t.get("parallelIndex"),id:t.get("parallelId")})[0];t.coordinateSystem=n.coordinateSystem}}),n}})},function(e,t,n){var o=n(13),r=n(497).onIrrelevantElement,l=n(55);function c(rect){return o.create(rect)}t.makeRectPanelClipPath=function(rect){return rect=c(rect),function(e,t){return l.clipPointsByRect(e,rect)}},t.makeLinearBrushOtherExtent=function(rect,e){return rect=c(rect),function(t){var n=null!=e?e:t,o=n?rect.width:rect.height,base=n?rect.x:rect.y;return[base,base+(o||0)]}},t.makeRectIsTargetByCursor=function(rect,e,t){return rect=c(rect),function(n,o,l){return rect.contain(o[0],o[1])&&!r(n,e,t)}}},function(e,t,n){var o=n(486),r=n(0),l=n(114).getDimensionTypeByAxis,c={_baseAxisDim:null,getInitialData:function(option,e){var t,n,c=e.getComponent("xAxis",this.get("xAxisIndex")),d=e.getComponent("yAxis",this.get("yAxisIndex")),h=c.get("type"),f=d.get("type");"category"===h?(option.layout="horizontal",t=c.getOrdinalMeta(),n=!0):"category"===f?(option.layout="vertical",t=d.getOrdinalMeta(),n=!0):option.layout=option.layout||"horizontal";var m=["x","y"],v="horizontal"===option.layout?0:1,y=this._baseAxisDim=m[v],x=m[1-v],_=[c,d],w=_[v].get("type"),S=_[1-v].get("type"),data=option.data;if(data&&n){var M=[];r.each(data,function(e,t){var n;e.value&&r.isArray(e.value)?(n=e.value.slice(),e.value.unshift(t)):r.isArray(e)?(n=e.slice(),e.unshift(t)):n=e,M.push(n)}),option.data=M}var I=this.defaultValueDimensions;return o(this,{coordDimensions:[{name:y,type:l(w),ordinalMeta:t,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:x,type:l(S),dimsDef:I.slice()}],dimensionsCount:I.length+1})},getBaseAxis:function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis}};t.seriesModelMixin=c},function(e,t,n){var o=n(55),r=n(518),l=n(0),c=n(258).createSymbol,d=n(10),h=n(41);function f(e,t,n){o.Group.call(this),this.add(this.createLine(e,t,n)),this._updateEffectSymbol(e,t)}var m=f.prototype;m.createLine=function(e,t,n){return new r(e,t,n)},m._updateEffectSymbol=function(e,t){var n=e.getItemModel(t).getModel("effect"),o=n.get("symbolSize"),r=n.get("symbol");l.isArray(o)||(o=[o,o]);var d=n.get("color")||e.getItemVisual(t,"color"),symbol=this.childAt(1);this._symbolType!==r&&(this.remove(symbol),(symbol=c(r,-.5,-.5,1,1,d)).z2=100,symbol.culling=!0,this.add(symbol)),symbol&&(symbol.setStyle("shadowColor",d),symbol.setStyle(n.getItemStyle(["color"])),symbol.attr("scale",o),symbol.setColor(d),symbol.attr("scale",o),this._symbolType=r,this._updateEffectAnimation(e,n,t))},m._updateEffectAnimation=function(e,t,n){var symbol=this.childAt(1);if(symbol){var o=this,r=e.getItemLayout(n),c=1e3*t.get("period"),d=t.get("loop"),h=t.get("constantSpeed"),f=l.retrieve(t.get("delay"),function(t){return t/e.count()*c/3}),m="function"==typeof f;if(symbol.ignore=!0,this.updateAnimationPoints(symbol,r),h>0&&(c=this.getLineLength(symbol)/h*1e3),c!==this._period||d!==this._loop){symbol.stopAnimation();var v=f;m&&(v=f(n)),symbol.__t>0&&(v=-c*symbol.__t),symbol.__t=0;var y=symbol.animate("",d).when(c,{__t:1}).delay(v).during(function(){o.updateSymbolPosition(symbol)});d||y.done(function(){o.remove(symbol)}),y.start()}this._period=c,this._loop=d}},m.getLineLength=function(symbol){return d.dist(symbol.__p1,symbol.__cp1)+d.dist(symbol.__cp1,symbol.__p2)},m.updateAnimationPoints=function(symbol,e){symbol.__p1=e[0],symbol.__p2=e[1],symbol.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},m.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},m.updateSymbolPosition=function(symbol){var e=symbol.__p1,t=symbol.__p2,n=symbol.__cp1,o=symbol.__t,r=symbol.position,l=h.quadraticAt,c=h.quadraticDerivativeAt;r[0]=l(e[0],n[0],t[0],o),r[1]=l(e[1],n[1],t[1],o);var d=c(e[0],n[0],t[0],o),f=c(e[1],n[1],t[1],o);symbol.rotation=-Math.atan2(f,d)-Math.PI/2,symbol.ignore=!1},m.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)},l.inherits(f,o.Group);var v=f;e.exports=v},function(e,t,n){var o=n(55),r=n(0);function l(e,t,n){o.Group.call(this),this._createPolyline(e,t,n)}var c=l.prototype;c._createPolyline=function(e,t,n){var r=e.getItemLayout(t),line=new o.Polyline({shape:{points:r}});this.add(line),this._updateCommonStl(e,t,n)},c.updateData=function(e,t,n){var r=e.hostModel,line=this.childAt(0),l={shape:{points:e.getItemLayout(t)}};o.updateProps(line,l,r,t),this._updateCommonStl(e,t,n)},c._updateCommonStl=function(e,t,n){var line=this.childAt(0),l=e.getItemModel(t),c=e.getItemVisual(t,"color"),d=n&&n.lineStyle,h=n&&n.hoverLineStyle;n&&!e.hasItemOption||(d=l.getModel("lineStyle").getLineStyle(),h=l.getModel("emphasis.lineStyle").getLineStyle()),line.useStyle(r.defaults({strokeNoScale:!0,fill:"none",stroke:c},d)),line.hoverStyle=h,o.setHoverStyle(this)},c.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},r.inherits(l,o.Group);var d=l;e.exports=d},function(e,t,n){var o={seriesType:"lines",plan:n(164)(),reset:function(e){var t=e.coordinateSystem,n=e.get("polyline"),o=e.pipelineContext.large;return{progress:function(r,l){var c=[];if(o){var d,h=r.end-r.start;if(n){for(var f=0,i=r.start;i<r.end;i++)f+=e.getLineCoordsCount(i);d=new Float32Array(h+2*f)}else d=new Float32Array(4*h);var m=0,v=[];for(i=r.start;i<r.end;i++){var y=e.getLineCoords(i,c);n&&(d[m++]=y);for(var x=0;x<y;x++)v=t.dataToPoint(c[x],!1,v),d[m++]=v[0],d[m++]=v[1]}l.setLayout("linesPoints",d)}else for(i=r.start;i<r.end;i++){var _=l.getItemModel(i),w=(y=e.getLineCoords(i,c),[]);if(n)for(var S=0;S<y;S++)w.push(t.dataToPoint(c[S]));else{w[0]=t.dataToPoint(c[0]),w[1]=t.dataToPoint(c[1]);var M=_.get("lineStyle.curveness");+M&&(w[2]=[(w[0][0]+w[1][0])/2-(w[0][1]-w[1][1])*M,(w[0][1]+w[1][1])/2-(w[1][0]-w[0][0])*M])}l.setItemLayout(i,w)}}}}};e.exports=o},function(e,t,n){var o=n(31);n(730),n(733),n(734),n(488),n(735),o.extendComponentView({type:"single"})},function(e,t,n){var o=n(0);t.layout=function(e,t){t=t||{};var n=e.coordinateSystem,r=e.axis,l={},c=r.position,d=r.orient,rect=n.getRect(),h=[rect.x,rect.x+rect.width,rect.y,rect.y+rect.height],f={horizontal:{top:h[2],bottom:h[3]},vertical:{left:h[0],right:h[1]}};l.position=["vertical"===d?f.vertical[c]:h[0],"horizontal"===d?f.horizontal[c]:h[3]],l.rotation=Math.PI/2*{horizontal:0,vertical:1}[d],l.labelDirection=l.tickDirection=l.nameDirection={top:-1,bottom:1,right:1,left:-1}[c],e.get("axisTick.inside")&&(l.tickDirection=-l.tickDirection),o.retrieve(t.labelInside,e.get("axisLabel.inside"))&&(l.labelDirection=-l.labelDirection);var m=t.rotate;return null==m&&(m=e.get("axisLabel.rotate")),l.labelRotation="top"===c?-m:m,l.z2=1,l}},function(e,t,n){var o=n(31),r=n(0),l=n(57),c=n(4).isNameSpecified,d=o.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(option,e,t){this.mergeDefaultAndTheme(option,t),option.selected=option.selected||{}},mergeOption:function(option){d.superCall(this,"mergeOption",option)},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,i=0;i<e.length;i++){var n=e[i].get("name");if(this.isSelected(n)){this.select(n),t=!0;break}}!t&&this.select(e[0].get("name"))}},_updateData:function(e){var t=[],n=[];e.eachRawSeries(function(o){var r,l=o.name;if(n.push(l),o.legendDataProvider){var data=o.legendDataProvider(),d=data.mapArray(data.getName);e.isSeriesFiltered(o)||(n=n.concat(d)),d.length?t=t.concat(d):r=!0}else r=!0;r&&c(o)&&t.push(o.name)}),this._availableNames=n;var o=this.get("data")||t,d=r.map(o,function(e){return"string"!=typeof e&&"number"!=typeof e||(e={name:e}),new l(e,this,this.ecModel)},this);this._data=d},getData:function(){return this._data},select:function(e){var t=this.option.selected;if("single"===this.get("selectedMode")){var data=this._data;r.each(data,function(e){t[e.get("name")]=!1})}t[e]=!0},unSelect:function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},toggleSelected:function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},isSelected:function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&r.indexOf(this._availableNames,e)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}}),h=d;e.exports=h},function(e,t,n){n(12).__DEV__;var o=n(31),r=n(0),l=n(258).createSymbol,c=n(55),d=n(578).makeBackground,h=n(110),f=r.curry,m=r.each,v=c.Group,y=o.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new v),this._backgroundEl,this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},render:function(e,t,n){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var l=e.get("align");l&&"auto"!==l||(l="right"===e.get("left")&&"vertical"===e.get("orient")?"right":"left"),this.renderInner(l,e,t,n);var c=e.getBoxLayoutParams(),f={width:n.getWidth(),height:n.getHeight()},m=e.get("padding"),v=h.getLayoutRect(c,f,m),y=this.layoutInner(e,l,v,o),x=h.getLayoutRect(r.defaults({width:y.width,height:y.height},c),f,m);this.group.attr("position",[x.x-y.x,x.y-y.y]),this.group.add(this._backgroundEl=d(y,e))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(e,t,n,o){var l=this.getContentGroup(),c=r.createHashMap(),d=t.get("selectedMode"),h=[];n.eachRawSeries(function(e){!e.get("legendHoverLink")&&h.push(e.id)}),m(t.getData(),function(r,m){var y=r.get("name");if(this.newlineDisabled||""!==y&&"\n"!==y){var S=n.getSeriesByName(y)[0];if(!c.get(y))if(S){var data=S.getData(),M=data.getVisual("color");"function"==typeof M&&(M=M(S.getDataParams(0)));var I=data.getVisual("legendSymbol")||"roundRect",A=data.getVisual("symbol");this._createItem(y,m,r,t,I,A,e,M,d).on("click",f(x,y,o)).on("mouseover",f(_,S.name,null,o,h)).on("mouseout",f(w,S.name,null,o,h)),c.set(y,!0)}else n.eachRawSeries(function(n){if(!c.get(y)&&n.legendDataProvider){var data=n.legendDataProvider(),l=data.indexOfName(y);if(l<0)return;var v=data.getItemVisual(l,"color");this._createItem(y,m,r,t,"roundRect",null,e,v,d).on("click",f(x,y,o)).on("mouseover",f(_,null,y,o,h)).on("mouseout",f(w,null,y,o,h)),c.set(y,!0)}},this)}else l.add(new v({newline:!0}))},this)},_createItem:function(e,t,n,o,d,h,f,m,y){var x=o.get("itemWidth"),_=o.get("itemHeight"),w=o.get("inactiveColor"),S=o.get("symbolKeepAspect"),M=o.isSelected(e),I=new v,A=n.getModel("textStyle"),T=n.get("icon"),D=n.getModel("tooltip"),L=D.parentModel;if(d=T||d,I.add(l(d,0,0,x,_,M?m:w,null==S||S)),!T&&h&&(h!==d||"none"===h)){var C=.8*_;"none"===h&&(h="circle"),I.add(l(h,(x-C)/2,(_-C)/2,C,C,M?m:w,null==S||S))}var P="left"===f?x+5:-5,N=f,k=o.get("formatter"),content=e;"string"==typeof k&&k?content=k.replace("{name}",null!=e?e:""):"function"==typeof k&&(content=k(e)),I.add(new c.Text({style:c.setTextStyle({},A,{text:content,x:P,y:_/2,textFill:M?A.getTextColor():w,textAlign:N,textVerticalAlign:"middle"})}));var O=new c.Rect({shape:I.getBoundingRect(),invisible:!0,tooltip:D.get("show")?r.extend({content:e,formatter:L.get("formatter",!0)||function(){return e},formatterParams:{componentType:"legend",legendIndex:o.componentIndex,name:e,$vars:["name"]}},D.option):null});return I.add(O),I.eachChild(function(e){e.silent=!0}),O.silent=!y,this.getContentGroup().add(I),c.setHoverStyle(I),I.__legendDataIndex=t,I},layoutInner:function(e,t,n){var o=this.getContentGroup();h.box(e.get("orient"),o,e.get("itemGap"),n.width,n.height);var r=o.getBoundingRect();return o.attr("position",[-r.x,-r.y]),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function x(e,t){t.dispatchAction({type:"legendToggleSelect",name:e})}function _(e,t,n,o){var r=n.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:o})}function w(e,t,n,o){var r=n.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:o})}e.exports=y},function(e,t,n){var o=n(110),r=o.getLayoutRect,l=o.box,c=o.positionElement,d=n(40),h=n(55);t.layout=function(e,t,n){var o=t.getBoxLayoutParams(),d=t.get("padding"),h={width:n.getWidth(),height:n.getHeight()},rect=r(o,h,d);l(t.get("orient"),e,t.get("itemGap"),rect.width,rect.height),c(e,o,h,d)},t.makeBackground=function(rect,e){var t=d.normalizeCssArray(e.get("padding")),style=e.getItemStyle(["color","opacity"]);return style.fill=e.get("backgroundColor"),rect=new h.Rect({shape:{x:rect.x-t[3],y:rect.y-t[0],width:rect.width+t[1]+t[3],height:rect.height+t[0]+t[2],r:e.get("borderRadius")},style:style,silent:!0,z2:-1})}},function(e,t,n){n(12).__DEV__;var o=n(0),r=n(55),l=n(4),c=n(569),d=o.each,h=o.indexOf,f=o.curry,m=["dataToPoint","pointToData"],v=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function y(option,e,t){var n=this._targetInfoList=[],o={},r=w(e,option);d(S,function(e,l){(!t||!t.include||h(t.include,l)>=0)&&e(r,n,o)})}var x=y.prototype;function _(e){return e[0]>e[1]&&e.reverse(),e}function w(e,option){return l.parseFinder(e,option,{includeMainTypes:v})}x.setOutputRanges=function(e,t){this.matchOutputRanges(e,t,function(area,e,t){if((area.coordRanges||(area.coordRanges=[])).push(e),!area.coordRange){area.coordRange=e;var n=A[area.brushType](0,t,e);area.__rangeOffset={offset:D[area.brushType](n.values,area.range,[1,1]),xyMinMax:n.xyMinMax}}})},x.matchOutputRanges=function(e,t,n){d(e,function(area){var e=this.findTargetInfo(area,t);e&&!0!==e&&o.each(e.coordSyses,function(e){var o=A[area.brushType](1,e,area.range);n(area,o.values,e,t)})},this)},x.setInputRanges=function(e,t){d(e,function(area){var e,n,o,r,l,c=this.findTargetInfo(area,t);if(area.range=area.range||[],c&&!0!==c){area.panelId=c.panelId;var d=A[area.brushType](0,c.coordSys,area.coordRange),h=area.__rangeOffset;area.range=h?D[area.brushType](d.values,h.offset,(e=d.xyMinMax,n=h.xyMinMax,o=C(e),r=C(n),l=[o[0]/r[0],o[1]/r[1]],isNaN(l[0])&&(l[0]=1),isNaN(l[1])&&(l[1]=1),l)):d.values}},this)},x.makePanelOpts=function(e,t){return o.map(this._targetInfoList,function(n){var rect=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t&&t(n),clipPath:c.makeRectPanelClipPath(rect),isTargetByCursor:c.makeRectIsTargetByCursor(rect,e,n.coordSysModel),getLinearBrushOtherExtent:c.makeLinearBrushOtherExtent(rect)}})},x.controlSeries=function(area,e,t){var n=this.findTargetInfo(area,t);return!0===n||n&&h(n.coordSyses,e.coordinateSystem)>=0},x.findTargetInfo=function(area,e){for(var t=this._targetInfoList,n=w(e,area),i=0;i<t.length;i++){var o=t[i],r=area.panelId;if(r){if(o.panelId===r)return o}else for(i=0;i<M.length;i++)if(M[i](n,o))return o}return!0};var S={grid:function(e,t){var n=e.xAxisModels,r=e.yAxisModels,l=e.gridModels,c=o.createHashMap(),f={},m={};(n||r||l)&&(d(n,function(e){var t=e.axis.grid.model;c.set(t.id,t),f[t.id]=!0}),d(r,function(e){var t=e.axis.grid.model;c.set(t.id,t),m[t.id]=!0}),d(l,function(e){c.set(e.id,e),f[e.id]=!0,m[e.id]=!0}),c.each(function(e){var o=e.coordinateSystem,l=[];d(o.getCartesians(),function(e,t){(h(n,e.getAxis("x").model)>=0||h(r,e.getAxis("y").model)>=0)&&l.push(e)}),t.push({panelId:"grid--"+e.id,gridModel:e,coordSysModel:e,coordSys:l[0],coordSyses:l,getPanelRect:I.grid,xAxisDeclared:f[e.id],yAxisDeclared:m[e.id]})}))},geo:function(e,t){d(e.geoModels,function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:I.geo})})}},M=[function(e,t){var n=e.xAxisModel,o=e.yAxisModel,r=e.gridModel;return!r&&n&&(r=n.axis.grid.model),!r&&o&&(r=o.axis.grid.model),r&&r===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],I={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var e=this.coordSys,rect=e.getBoundingRect().clone();return rect.applyTransform(r.getTransform(e)),rect}},A={lineX:f(T,0),lineY:f(T,1),rect:function(e,t,n){var o=t[m[e]]([n[0][0],n[1][0]]),r=t[m[e]]([n[0][1],n[1][1]]),l=[_([o[0],r[0]]),_([o[1],r[1]])];return{values:l,xyMinMax:l}},polygon:function(e,t,n){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:o.map(n,function(n){var p=t[m[e]](n);return r[0][0]=Math.min(r[0][0],p[0]),r[1][0]=Math.min(r[1][0],p[1]),r[0][1]=Math.max(r[0][1],p[0]),r[1][1]=Math.max(r[1][1],p[1]),p}),xyMinMax:r}}};function T(e,t,n,r){var l=n.getAxis(["x","y"][e]),c=_(o.map([0,1],function(i){return t?l.coordToData(l.toLocalCoord(r[i])):l.toGlobalCoord(l.dataToCoord(r[i]))})),d=[];return d[e]=c,d[1-e]=[NaN,NaN],{values:c,xyMinMax:d}}var D={lineX:f(L,0),lineY:f(L,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return o.map(e,function(e,o){return[e[0]-n[0]*t[o][0],e[1]-n[1]*t[o][1]]})}};function L(e,t,n,o){return[t[0]-o[e]*n[0],t[1]-o[e]*n[1]]}function C(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var P=y;e.exports=P},function(e,t,n){n(56).registerSubTypeDefaulter("dataZoom",function(){return"slider"})},function(e,t,n){var o=n(31),r=n(0),l=r.createHashMap,c=r.each;o.registerProcessor({getTargetSeries:function(e){var t=l();return e.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(e,n,o){var r=o.getAxisProxy(e.name,n);c(r.getTargetSeriesModels(),function(e){t.set(e.uid,e)})})}),t},modifyOutputEnd:!0,overallReset:function(e,t){e.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(e,n,o){o.getAxisProxy(e.name,n).reset(o,t)}),e.eachTargetAxis(function(e,n,o){o.getAxisProxy(e.name,n).filterData(o,t)})}),e.eachComponent("dataZoom",function(e){var t=e.findRepresentativeAxisProxy(),n=t.getDataPercentWindow(),o=t.getDataValueWindow();e.setRawRange({start:n[0],end:n[1],startValue:o[0],endValue:o[1]},!0)})}})},function(e,t,n){var o=n(31),r=n(0),l=n(521);o.registerAction("dataZoom",function(e,t){var n=l.createLinkedNodesFinder(r.bind(t.eachComponent,t,"dataZoom"),l.eachAxisDim,function(e,t){return e.get(t.axisIndex)}),o=[];t.eachComponent({mainType:"dataZoom",query:e},function(e,t){o.push.apply(o,n(e).nodes)}),r.each(o,function(t,n){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})},function(e,t,n){var o=n(0).each,r="\0_ec_hist_store";function l(e){var t=e[r];return t||(t=e[r]=[{}]),t}t.push=function(e,t){var n=l(e);o(t,function(t,o){for(var i=n.length-1;i>=0&&!n[i][o];i--);if(i<0){var r=e.queryComponents({mainType:"dataZoom",subType:"select",id:o})[0];if(r){var l=r.getPercentRange();n[0][o]={dataZoomId:o,start:l[0],end:l[1]}}}}),n.push(t)},t.pop=function(e){var t=l(e),head=t[t.length-1];t.length>1&&t.pop();var n={};return o(head,function(e,o){for(var i=t.length-1;i>=0;i--)if(e=t[i][o]){n[o]=e;break}}),n},t.clear=function(e){e[r]=null},t.count=function(e){return l(e).length}},function(e,t,n){var o,r=n(18),l="urn:schemas-microsoft-com:vml",c="undefined"==typeof window?null:window,d=!1,h=c&&c.document;if(h&&!r.canvasSupported)try{!h.namespaces.zrvml&&h.namespaces.add("zrvml",l),o=function(e){return h.createElement("<zrvml:"+e+' class="zrvml">')}}catch(e){o=function(e){return h.createElement("<"+e+' xmlns="'+l+'" class="zrvml">')}}t.doc=h,t.createNode=function(e){return o(e)},t.initVML=function(){if(!d&&h){d=!0;var e=h.styleSheets;e.length<31?h.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):e[0].addRule(".zrvml","behavior:url(#default#VML)")}}},function(e,t,n){var o=n(0),r=n(486),l=n(257),c=n(40),d=c.encodeHTML,h=c.addCommas,f=n(506),m=n(76).retrieveRawAttr,v=n(496),y=l.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(option){for(var data=r(this,["value"]),e=data.mapDimension("value"),t=o.createHashMap(),n=[],l=[],i=0,c=data.count();i<c;i++){var d=data.getName(i);t.set(d,!0),n.push({name:d,value:data.get(e,i),selected:m(data,i,"selected")})}var h=v.load(this.getMapType(),this.option.nameMap);return o.each(h.regions,function(e){var o=e.name;t.get(o)||(n.push({name:o}),l.push(o))}),this.updateSelectedMap(n),data.appendValues([],l),data},getHostGeoModel:function(){var e=this.option.geoIndex;return null!=e?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(e){var data=this.getData();return data.get(data.mapDimension("value"),e)},getRegionModel:function(e){var data=this.getData();return data.getItemModel(data.indexOfName(e))},formatTooltip:function(e){for(var data=this.getData(),t=h(this.getRawValue(e)),n=data.getName(e),o=this.seriesGroup,r=[],i=0;i<o.length;i++){var l=o[i].originalData.indexOfName(n),c=data.mapDimension("value");isNaN(o[i].originalData.get(c,l))||r.push(d(o[i].name))}return r.join(", ")+"<br />"+d(n+" : "+t)},getTooltipPosition:function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,o=n.getRegion(t);return o&&n.dataToPoint(o.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});o.mixin(y,f);var x=y;e.exports=x},function(e,t,n){var o=n(0).each,r=n(278),l=n(4).makeInner,c=n(587),d=n(588),h=n(589),f=n(590),m=l(),v={load:function(e,t){var n=m(t).parsed;if(n)return n;var l,v=t.specialAreas||{},x=t.geoJSON;try{l=x?r(x):[]}catch(e){throw new Error("Invalid geoJson format\n"+e.message)}return o(l,function(t){var n=t.name;d(e,t),h(e,t),f(e,t);var o=v[n];o&&t.transformTo(o.left,o.top,o.width,o.height)}),c(e,l),m(t).parsed={regions:l,boundingRect:y(l)}}};function y(e){for(var rect,i=0;i<e.length;i++){var t=e[i].getBoundingRect();(rect=rect||t.clone()).union(t)}return rect}e.exports=v},function(e,t,n){for(var o=n(0),r=n(279),l=[126,25],c=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],i=0;i<c.length;i++)for(var d=0;d<c[i].length;d++)c[i][d][0]/=10.5,c[i][d][1]/=-14,c[i][d][0]+=l[0],c[i][d][1]+=l[1];e.exports=function(e,t){"china"===e&&t.push(new r("",o.map(c,function(e){return{type:"polygon",exterior:e}}),l))}},function(e,t){var n={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};e.exports=function(e,t){if("china"===e){var o=n[t.name];if(o){var r=t.center;r[0]+=o[0]/10.5,r[1]+=-o[1]/14}}}},function(e,t){var n={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};e.exports=function(e,t){if("world"===e){var o=n[t.name];if(o){var r=t.center;r[0]=o[0],r[1]=o[1]}}}},function(e,t){var n=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];e.exports=function(e,t){"china"===e&&""===t.name&&t.geometries.push({type:"polygon",exterior:n[0]})}},function(e,t,n){var o=n(275),r=o.parseSVG,l=o.makeViewBoxTransform,c=n(62),d=n(172),h=n(0),f=h.assert,m=h.createHashMap,v=n(13),y=(0,n(4).makeInner)(),x={load:function(e,t){var n=y(t).originRoot;if(n)return{root:n,boundingRect:y(t).boundingRect};var o=_(t);return y(t).originRoot=o.root,y(t).boundingRect=o.boundingRect,o},makeGraphic:function(e,t,n){var o=y(t),r=o.rootMap||(o.rootMap=m()),l=r.get(n);if(l)return l;var c=o.originRoot,d=o.boundingRect;return o.originRootHostKey?l=_(t,d).root:(o.originRootHostKey=n,l=c),r.set(n,l)},removeGraphic:function(e,t,n){var o=y(t),r=o.rootMap;r&&r.removeKey(n),n===o.originRootHostKey&&(o.originRootHostKey=null)}};function _(e,t){var n,o,h=e.svgXML;try{o=(n=h&&r(h,{ignoreViewBox:!0,ignoreRootClip:!0})||{}).root,f(null!=o)}catch(e){throw new Error("Invalid svg format\n"+e.message)}var m=n.width,y=n.height,x=n.viewBoxRect;if(t||(t=null==m||null==y?o.getBoundingRect():new v(0,0,0,0),null!=m&&(t.width=m),null!=y&&(t.height=y)),x){var _=l(x,t.width,t.height),w=o;(o=new c).add(w),w.scale=_.scale,w.position=_.position}return o.setClipPath(new d({shape:t.plain()})),{root:o,boundingRect:t}}e.exports=x},function(e,t,n){var o=n(31),r=n(0),l=n(55),c=n(537),d="__seriesMapHighDown",h="__seriesMapCallKey",f=o.extendChartView({type:"map",render:function(e,t,n,o){if(!o||"mapToggleSelect"!==o.type||o.from!==this.uid){var r=this.group;if(r.removeAll(),!e.getHostGeoModel()){if(o&&"geoRoam"===o.type&&"series"===o.componentType&&o.seriesId===e.id)(l=this._mapDraw)&&r.add(l.group);else if(e.needsDrawMap){var l=this._mapDraw||new c(n,!0);r.add(l.group),l.draw(e,t,n,this,o),this._mapDraw=l}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(e,t,n){var o=e.originalData,c=this.group;o.each(o.mapDimension("value"),function(t,n){if(!isNaN(t)){var f=o.getItemLayout(n);if(f&&f.point){var y=f.point,x=f.offset,circle=new l.Circle({style:{fill:e.getData().getVisual("color")},shape:{cx:y[0]+9*x,cy:y[1],r:3},silent:!0,z2:8+(x?0:l.Z2_EMPHASIS_LIFT+1)});if(!x){var _=e.mainSeries.getData(),w=o.getName(n),S=_.indexOfName(w),M=o.getItemModel(n),I=M.getModel("label"),A=M.getModel("emphasis.label"),T=_.getItemGraphicEl(S),D=r.retrieve2(e.getFormattedLabel(S,"normal"),w),L=r.retrieve2(e.getFormattedLabel(S,"emphasis"),D),C=T[d],P=Math.random();if(!C){C=T[d]={};var N=r.curry(m,!0),k=r.curry(m,!1);T.on("mouseover",N).on("mouseout",k).on("emphasis",N).on("normal",k)}T[h]=P,r.extend(C,{recordVersion:P,circle:circle,labelModel:I,hoverLabelModel:A,emphasisText:L,normalText:D}),v(C,!1)}c.add(circle)}}})}});function m(e){var t=this[d];t&&t.recordVersion===this[h]&&v(t,e)}function v(e,t){var circle=e.circle,n=e.labelModel,o=e.hoverLabelModel,r=e.emphasisText,c=e.normalText;t?(circle.style.extendFrom(l.setTextStyle({},o,{text:o.get("show")?r:null},{isRectText:!0,useInsideStyle:!1},!0)),circle.__mapOriginalZ2=circle.z2,circle.z2+=l.Z2_EMPHASIS_LIFT):(l.setTextStyle(circle.style,n,{text:n.get("show")?c:null,textPosition:n.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),circle.dirty(!1),null!=circle.__mapOriginalZ2&&(circle.z2=circle.__mapOriginalZ2,circle.__mapOriginalZ2=null))}e.exports=f},function(e,t,n){var o=n(0),r=n(13),l=n(510),c=n(496);function d(e,map,t,n){l.call(this,e),this.map=map;var source=c.load(map,t);this._nameCoordMap=source.nameCoordMap,this._regionsMap=source.regionsMap,this._invertLongitute=null==n||n,this.regions=source.regions,this._rect=source.boundingRect}function h(e,t,n,o){var r=n.geoModel,l=n.seriesModel,c=r?r.coordinateSystem:l?l.coordinateSystem||(l.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return c===this?c[e](o):null}d.prototype={constructor:d,type:"geo",dimensions:["lng","lat"],containCoord:function(e){for(var t=this.regions,i=0;i<t.length;i++)if(t[i].contain(e))return!0;return!1},transformTo:function(e,t,n,o){var rect=this.getBoundingRect(),l=this._invertLongitute;rect=rect.clone(),l&&(rect.y=-rect.y-rect.height);var c=this._rawTransformable;if(c.transform=rect.calculateTransform(new r(e,t,n,o)),c.decomposeTransform(),l){var d=c.scale;d[1]=-d[1]}c.updateTransform(),this._updateTransform()},getRegion:function(e){return this._regionsMap.get(e)},getRegionByCoord:function(e){for(var t=this.regions,i=0;i<t.length;i++)if(t[i].contain(e))return t[i]},addGeoCoord:function(e,t){this._nameCoordMap.set(e,t)},getGeoCoord:function(e){return this._nameCoordMap.get(e)},getBoundingRect:function(){return this._rect},dataToPoint:function(data,e,t){if("string"==typeof data&&(data=this.getGeoCoord(data)),data)return l.prototype.dataToPoint.call(this,data,e,t)},convertToPixel:o.curry(h,"dataToPoint"),convertFromPixel:o.curry(h,"pointToData")},o.mixin(d,l);var f=d;e.exports=f},function(e,t,n){var o=n(0);e.exports=function(e){var t={};e.eachSeriesByType("map",function(n){var r=n.getMapType();if(!n.getHostGeoModel()&&!t[r]){var l={};o.each(n.seriesGroup,function(t){var n=t.coordinateSystem,data=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&data.each(data.mapDimension("value"),function(e,t){var o=data.getName(t),r=n.getRegion(o);if(r&&!isNaN(e)){var c=l[o]||0,d=n.dataToPoint(r.center);l[o]=c+1,data.setItemLayout(t,{point:d,offset:c})}})});var data=n.getData();data.each(function(e){var t=data.getName(e),n=data.getItemLayout(e)||{};n.showLabel=!l[t],data.setItemLayout(e,n)}),t[r]=!0}})}},function(e,t){e.exports=function(e){e.eachSeriesByType("map",function(e){var t=e.get("color"),n=e.getModel("itemStyle"),o=n.get("areaColor"),r=n.get("color")||t[e.seriesIndex%t.length];e.getData().setVisual({areaColor:o,color:r})})}},function(e,t,n){var o=n(0);e.exports=function(e){var t={};e.eachSeriesByType("map",function(e){var n=e.getHostGeoModel(),o=n?"o"+n.id:"i"+e.getMapType();(t[o]=t[o]||[]).push(e)}),o.each(t,function(e,t){for(var n,r,l,data=(n=o.map(e,function(e){return e.getData()}),r=e[0].get("mapValueCalculation"),l={},o.each(n,function(data){data.each(data.mapDimension("value"),function(e,t){var n="ec-"+data.getName(t);l[n]=l[n]||[],isNaN(e)||l[n].push(e)})}),n[0].map(n[0].mapDimension("value"),function(e,t){for(var o,c="ec-"+n[0].getName(t),d=0,h=1/0,f=-1/0,m=l[c].length,i=0;i<m;i++)h=Math.min(h,l[c][i]),f=Math.max(f,l[c][i]),d+=l[c][i];return o="min"===r?h:"max"===r?f:"average"===r?d/m:d,0===m?NaN:o})),i=0;i<e.length;i++)e[i].originalData=e[i].getData();for(i=0;i<e.length;i++)e[i].seriesGroup=e,e[i].needsDrawMap=0===i&&!e[i].getHostGeoModel(),e[i].setData(data.cloneShallow()),e[i].mainSeries=e[0]})}},function(e,t,n){var o=n(0);e.exports=function(option){var e=[];o.each(option.series,function(t){t&&"map"===t.type&&(e.push(t),t.map=t.map||t.mapType,o.defaults(t,t.mapLocation))})}},function(e,t,n){var o=n(0),r=n(4).makeInner,l=n(498),c=n(541),d=o.each,h=o.curry,f=r();function m(e,t,n,r,l){var c=e.axis;if(!c.scale.isBlank()&&c.containData(t))if(e.involveSeries){var h=function(e,t){var n=t.axis,o=n.dim,r=e,l=[],c=Number.MAX_VALUE,h=-1;return d(t.seriesModels,function(t,f){var m,v,y=t.getData().mapDimension(o,!0);if(t.getAxisTooltipData){var x=t.getAxisTooltipData(y,e,n);v=x.dataIndices,m=x.nestestValue}else{if(!(v=t.getData().indicesOfNearest(y[0],e,"category"===n.type?.5:null)).length)return;m=t.getData().get(y[0],v[0])}if(null!=m&&isFinite(m)){var _=e-m,w=Math.abs(_);w<=c&&((w<c||_>=0&&h<0)&&(c=w,h=_,r=m,l.length=0),d(v,function(e){l.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})}))}}),{payloadBatch:l,snapToValue:r}}(t,e),f=h.payloadBatch,m=h.snapToValue;f[0]&&null==l.seriesIndex&&o.extend(l,f[0]),!r&&e.snap&&c.containData(m)&&null!=m&&(t=m),n.showPointer(e,t,f,l),n.showTooltip(e,h,m)}else n.showPointer(e,t)}function v(e,t,n,o){e[t.key]={value:n,payloadBatch:o}}function y(e,t,n,o){var r=n.payloadBatch,c=t.axis,d=c.model,h=t.axisPointerModel;if(t.triggerTooltip&&r.length){var f=t.coordSys.model,m=l.makeKey(f),v=e.map[m];v||(v=e.map[m]={coordSysId:f.id,coordSysIndex:f.componentIndex,coordSysType:f.type,coordSysMainType:f.mainType,dataByAxis:[]},e.list.push(v)),v.dataByAxis.push({axisDim:c.dim,axisIndex:d.componentIndex,axisType:d.type,axisId:d.id,value:o,valueLabelOpt:{precision:h.get("label.precision"),formatter:h.get("label.formatter")},seriesDataIndices:r.slice()})}}function x(e){var t=e.axis.model,n={},o=n.axisDim=e.axis.dim;return n.axisIndex=n[o+"AxisIndex"]=t.componentIndex,n.axisName=n[o+"AxisName"]=t.name,n.axisId=n[o+"AxisId"]=t.id,n}function _(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}e.exports=function(e,t,n){var r=e.currTrigger,l=[e.x,e.y],w=e,S=e.dispatchAction||o.bind(n.dispatchAction,n),M=t.getComponent("axisPointer").coordSysAxesInfo;if(M){_(l)&&(l=c({seriesIndex:w.seriesIndex,dataIndex:w.dataIndex},t).point);var I=_(l),A=w.axesInfo,T=M.axesInfo,D="leave"===r||_(l),L={},C={},P={list:[],map:{}},N={showPointer:h(v,C),showTooltip:h(y,P)};d(M.coordSysMap,function(e,t){var n=I||e.containPoint(l);d(M.coordSysAxesInfo[t],function(e,t){var o=e.axis,r=function(e,t){for(var i=0;i<(e||[]).length;i++){var n=e[i];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}(A,e);if(!D&&n&&(!A||r)){var c=r&&r.value;null!=c||I||(c=o.pointToData(l)),null!=c&&m(e,c,N,!1,L)}})});var k={};return d(T,function(e,t){var n=e.linkGroup;n&&!C[t]&&d(n.axesInfo,function(t,o){var r=C[o];if(t!==e&&r){var l=r.value;n.mapper&&(l=e.axis.scale.parse(n.mapper(l,x(t),x(e)))),k[e.key]=l}})}),d(k,function(e,t){m(T[t],e,N,!0,L)}),function(e,t,n){var o=n.axesInfo=[];d(t,function(t,n){var option=t.axisPointerModel.option,r=e[n];r?(!t.useHandle&&(option.status="show"),option.value=r.value,option.seriesDataIndices=(r.payloadBatch||[]).slice()):!t.useHandle&&(option.status="hide"),"show"===option.status&&o.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:option.value})})}(C,T,L),function(e,t,n,o){if(!_(t)&&e.list.length){var r=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};o({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:e.list})}else o({type:"hideTip"})}(P,l,e,S),function(e,t,n){var r=n.getZr(),l=f(r).axisPointerLastHighlights||{},c=f(r).axisPointerLastHighlights={};d(e,function(e,t){var option=e.axisPointerModel.option;"show"===option.status&&d(option.seriesDataIndices,function(e){var t=e.seriesIndex+" | "+e.dataIndex;c[t]=e})});var h=[],m=[];o.each(l,function(e,t){!c[t]&&m.push(e)}),o.each(c,function(e,t){!l[t]&&h.push(e)}),m.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,batch:m}),h.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,batch:h})}(T,0,n),L}}},function(e,t,n){var o=n(31).extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});e.exports=o},function(e,t,n){var o=n(31),r=n(542),l=o.extendComponentView({type:"axisPointer",render:function(e,t,n){var o=t.getComponent("tooltip"),l=e.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";r.register("axisPointer",n,function(e,t,n){"none"!==l&&("leave"===e||l.indexOf(e)>=0)&&n({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})})},remove:function(e,t){r.unregister(t.getZr(),"axisPointer"),l.superApply(this._model,"remove",arguments)},dispose:function(e,t){r.unregister("axisPointer",t),l.superApply(this._model,"dispose",arguments)}}),c=l;e.exports=c},function(e,t,n){var o=n(31).extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});e.exports=o},function(e,t,n){var o=n(31),r=n(0),l=n(18),c=n(603),d=n(604),h=n(40),f=n(17),m=n(55),v=n(541),y=n(110),x=n(57),_=n(542),w=n(161),S=n(499),M=n(4).getTooltipRenderMode,I=r.bind,A=r.each,T=f.parsePercent,D=new m.Rect({shape:{x:-1,y:-1,width:2,height:2}}),L=o.extendComponentView({type:"tooltip",init:function(e,t){if(!l.node){var n,o=e.getComponent("tooltip").get("renderMode");this._renderMode=M(o),"html"===this._renderMode?(n=new c(t.getDom(),t),this._newLine="<br/>"):(n=new d(t),this._newLine="\n"),this._tooltipContent=n}},render:function(e,t,n){if(!l.node){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=e.get("alwaysShowContent");var o=this._tooltipContent;o.update(),o.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var e=this._tooltipModel.get("triggerOn");_.register("itemTooltip",this._api,I(function(t,n,o){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(n,o):"leave"===t&&this._hide(o))},this))},_keepShow:function(){var e=this._tooltipModel,t=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){o.manuallyShowTip(e,t,n,{x:o._lastX,y:o._lastY})})}},manuallyShowTip:function(e,t,n,o){if(o.from!==this.uid&&!l.node){var r=P(o,n);this._ticket="";var c=o.dataByCoordSys;if(o.tooltip&&null!=o.x&&null!=o.y){var d=D;d.position=[o.x,o.y],d.update(),d.tooltip=o.tooltip,this._tryShow({offsetX:o.x,offsetY:o.y,target:d},r)}else if(c)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,event:{},dataByCoordSys:o.dataByCoordSys,tooltipOption:o.tooltipOption},r);else if(null!=o.seriesIndex){if(this._manuallyAxisShowTip(e,t,n,o))return;var h=v(o,t),f=h.point[0],m=h.point[1];null!=f&&null!=m&&this._tryShow({offsetX:f,offsetY:m,position:o.position,target:h.el,event:{}},r)}else null!=o.x&&null!=o.y&&(n.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:n.getZr().findHover(o.x,o.y).target,event:{}},r))}},manuallyHideTip:function(e,t,n,o){var r=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&r.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,o.from!==this.uid&&this._hide(P(o,n))},_manuallyAxisShowTip:function(e,t,n,o){var r=o.seriesIndex,l=o.dataIndex,c=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=r&&null!=l&&null!=c){var d=t.getSeriesByIndex(r);if(d)if("axis"===(e=C([d.getData().getItemModel(l),d,(d.coordinateSystem||{}).model,e])).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:r,dataIndex:l,position:o.position}),!0}},_tryShow:function(e,t){var n=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var o=e.dataByCoordSys;o&&o.length?this._showAxisTooltip(o,e):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(e,n,t)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(e,n,t)):(this._lastDataByCoordSys=null,this._hide(t))}},_showOrMove:function(e,t){var n=e.get("showDelay");t=r.bind(t,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(t,n):t()},_showAxisTooltip:function(e,t){var n=this._ecModel,o=this._tooltipModel,l=[t.offsetX,t.offsetY],c=[],d=[],f=C([t.tooltipOption,o]),m=this._renderMode,v=this._newLine,y={};A(e,function(e){A(e.dataByAxis,function(e){var t=n.getComponent(e.axisDim+"Axis",e.axisIndex),o=e.value,l=[];if(t&&null!=o){var f=S.getValueLabel(o,t.axis,n,e.seriesDataIndices,e.valueLabelOpt);r.each(e.seriesDataIndices,function(c){var h=n.getSeriesByIndex(c.seriesIndex),v=c.dataIndexInside,x=h&&h.getDataParams(v);if(x.axisDim=e.axisDim,x.axisIndex=e.axisIndex,x.axisType=e.axisType,x.axisId=e.axisId,x.axisValue=w.getAxisRawValue(t.axis,o),x.axisValueLabel=f,x){d.push(x);var html,_=h.formatTooltip(v,!0,null,m);if(r.isObject(_)){html=_.html;var S=_.markers;r.merge(y,S)}else html=_;l.push(html)}});var x=f;"html"!==m?c.push(l.join(v)):c.push((x?h.encodeHTML(x)+v:"")+l.join(v))}})},this),c.reverse(),c=c.join(this._newLine+this._newLine);var x=t.position;this._showOrMove(f,function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(f,x,l[0],l[1],this._tooltipContent,d):this._showTooltipContent(f,c,d,Math.random(),l[0],l[1],x,void 0,y)})},_showSeriesItemTooltip:function(e,t,n){var o=this._ecModel,l=t.seriesIndex,c=o.getSeriesByIndex(l),d=t.dataModel||c,h=t.dataIndex,f=t.dataType,data=d.getData(),m=C([data.getItemModel(h),d,c&&(c.coordinateSystem||{}).model,this._tooltipModel]),v=m.get("trigger");if(null==v||"item"===v){var y,x,_=d.getDataParams(h,f),w=d.formatTooltip(h,!1,f,this._renderMode);r.isObject(w)?(y=w.html,x=w.markers):(y=w,x=null);var S="item_"+d.name+"_"+h;this._showOrMove(m,function(){this._showTooltipContent(m,y,_,S,e.offsetX,e.offsetY,e.position,e.target,x)}),n({type:"showTip",dataIndexInside:h,dataIndex:data.getRawIndex(h),seriesIndex:l,from:this.uid})}},_showComponentItemTooltip:function(e,t,n){var o=t.tooltip;if("string"==typeof o){o={content:o,formatter:o}}var r=new x(o,this._tooltipModel,this._ecModel),l=r.get("content"),c=Math.random();this._showOrMove(r,function(){this._showTooltipContent(r,l,r.get("formatterParams")||{},c,e.offsetX,e.offsetY,e.position,t)}),n({type:"showTip",from:this.uid})},_showTooltipContent:function(e,t,n,o,r,l,c,d,f){if(this._ticket="",e.get("showContent")&&e.get("show")){var m=this._tooltipContent,v=e.get("formatter");c=c||e.get("position");var html=t;if(v&&"string"==typeof v)html=h.formatTpl(v,n,!0);else if("function"==typeof v){var y=I(function(t,html){t===this._ticket&&(m.setContent(html,f,e),this._updatePosition(e,c,r,l,m,n,d))},this);this._ticket=o,html=v(n,o,y)}m.setContent(html,f,e),m.show(e),this._updatePosition(e,c,r,l,m,n,d)}},_updatePosition:function(e,t,n,o,content,l,c){var d=this._api.getWidth(),h=this._api.getHeight();t=t||e.get("position");var f=content.getSize(),m=e.get("align"),v=e.get("verticalAlign"),rect=c&&c.getBoundingRect().clone();if(c&&rect.applyTransform(c.transform),"function"==typeof t&&(t=t([n,o],l,content.el,rect,{viewSize:[d,h],contentSize:f.slice()})),r.isArray(t))n=T(t[0],d),o=T(t[1],h);else if(r.isObject(t)){t.width=f[0],t.height=f[1];var x=y.getLayoutRect(t,{width:d,height:h});n=x.x,o=x.y,m=null,v=null}else if("string"==typeof t&&c){var _=function(e,rect,t){var n=t[0],o=t[1],r=0,l=0,c=rect.width,d=rect.height;switch(e){case"inside":r=rect.x+c/2-n/2,l=rect.y+d/2-o/2;break;case"top":r=rect.x+c/2-n/2,l=rect.y-o-5;break;case"bottom":r=rect.x+c/2-n/2,l=rect.y+d+5;break;case"left":r=rect.x-n-5,l=rect.y+d/2-o/2;break;case"right":r=rect.x+c+5,l=rect.y+d/2-o/2}return[r,l]}(t,rect,f);n=_[0],o=_[1]}else{_=function(e,t,content,n,o,r,l){var c=content.getOuterSize(),d=c.width,h=c.height;null!=r&&(e+d+r>n?e-=d+r:e+=r);null!=l&&(t+h+l>o?t-=h+l:t+=l);return[e,t]}(n,o,content,d,h,m?null:20,v?null:20);n=_[0],o=_[1]}if(m&&(n-=N(m)?f[0]/2:"right"===m?f[0]:0),v&&(o-=N(v)?f[1]/2:"bottom"===v?f[1]:0),e.get("confine")){_=function(e,t,content,n,o){var r=content.getOuterSize(),l=r.width,c=r.height;return e=Math.min(e+l,n)-l,t=Math.min(t+c,o)-c,e=Math.max(e,0),t=Math.max(t,0),[e,t]}(n,o,content,d,h);n=_[0],o=_[1]}content.moveTo(n,o)},_updateContentNotChangedOnAxis:function(e){var t=this._lastDataByCoordSys,n=!!t&&t.length===e.length;return n&&A(t,function(t,o){var r=t.dataByAxis||{},l=(e[o]||{}).dataByAxis||[];(n&=r.length===l.length)&&A(r,function(e,t){var o=l[t]||{},r=e.seriesDataIndices||[],c=o.seriesDataIndices||[];(n&=e.value===o.value&&e.axisType===o.axisType&&e.axisId===o.axisId&&r.length===c.length)&&A(r,function(e,t){var o=c[t];n&=e.seriesIndex===o.seriesIndex&&e.dataIndex===o.dataIndex})})}),this._lastDataByCoordSys=e,!!n},_hide:function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},dispose:function(e,t){l.node||(this._tooltipContent.hide(),_.unregister("itemTooltip",t))}});function C(e){for(var t=e.pop();e.length;){var n=e.pop();n&&(x.isInstance(n)&&(n=n.get("tooltip",!0)),"string"==typeof n&&(n={formatter:n}),t=new x(n,t,t.ecModel))}return t}function P(e,t){return e.dispatchAction||r.bind(t.dispatchAction,t)}function N(e){return"center"===e||"middle"===e}e.exports=L},function(e,t,n){var o=n(0),r=n(75),l=n(74),c=n(18),d=n(40),h=o.each,f=d.toCamelCase,m=["","-webkit-","-moz-","-o-"];function v(e){var t,n,l=[],v=e.get("transitionDuration"),y=e.get("backgroundColor"),x=e.getModel("textStyle"),_=e.get("padding");return v&&l.push((n="left "+(t=v)+"s cubic-bezier(0.23, 1, 0.32, 1),top "+t+"s cubic-bezier(0.23, 1, 0.32, 1)",o.map(m,function(e){return e+"transition:"+n}).join(";"))),y&&(c.canvasSupported?l.push("background-Color:"+y):(l.push("background-Color:#"+r.toHex(y)),l.push("filter:alpha(opacity=70)"))),h(["width","color","radius"],function(t){var n="border-"+t,o=f(n),r=e.get(o);null!=r&&l.push(n+":"+r+("color"===t?"":"px"))}),l.push(function(e){var t=[],n=e.get("fontSize"),o=e.getTextColor();return o&&t.push("color:"+o),t.push("font:"+e.getFont()),n&&t.push("line-height:"+Math.round(3*n/2)+"px"),h(["decoration","align"],function(n){var o=e.get(n);o&&t.push("text-"+n+":"+o)}),t.join(";")}(x)),null!=_&&l.push("padding:"+d.normalizeCssArray(_).join("px ")+"px"),l.join(";")+";"}function y(e,t){if(c.wxa)return null;var n=document.createElement("div"),o=this._zr=t.getZr();this.el=n,this._x=t.getWidth()/2,this._y=t.getHeight()/2,e.appendChild(n),this._container=e,this._show=!1,this._hideTimeout;var r=this;n.onmouseenter=function(){r._enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0},n.onmousemove=function(t){if(t=t||window.event,!r._enterable){var n=o.handler;l.normalizeEvent(e,t,!0),n.dispatch("mousemove",t)}},n.onmouseleave=function(){r._enterable&&r._show&&r.hideLater(r._hideDelay),r._inContent=!1}}y.prototype={constructor:y,_enterable:!0,update:function(){var e=this._container,t=e.currentStyle||document.defaultView.getComputedStyle(e),n=e.style;"absolute"!==n.position&&"absolute"!==t.position&&(n.position="relative")},show:function(e){clearTimeout(this._hideTimeout);var t=this.el;t.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+v(e)+";left:"+this._x+"px;top:"+this._y+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",t.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(content){this.el.innerHTML=null==content?"":content},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,t){var n,o=this._zr;o&&o.painter&&(n=o.painter.getViewportRootOffset())&&(e+=n.offsetLeft,t+=n.offsetTop);var style=this.el.style;style.left=e+"px",style.top=t+"px",this._x=e,this._y=t},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(time){!this._show||this._inContent&&this._enterable||(time?(this._hideDelay=time,this._show=!1,this._hideTimeout=setTimeout(o.bind(this.hide,this),time)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var e=this.el.clientWidth,t=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(this.el);n&&(e+=parseInt(n.paddingLeft,10)+parseInt(n.paddingRight,10)+parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),t+=parseInt(n.paddingTop,10)+parseInt(n.paddingBottom,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:e,height:t}}};var x=y;e.exports=x},function(e,t,n){var o=n(0),r=n(162);function l(e){this._zr=e.getZr(),this._show=!1,this._hideTimeout}l.prototype={constructor:l,_enterable:!0,update:function(){},show:function(e){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(content,e,t){this.el&&this._zr.remove(this.el);for(var n={},text=content,o=text.indexOf("{marker");o>=0;){var l=text.indexOf("|}"),c=text.substr(o+"{marker".length,l-o-"{marker".length);c.indexOf("sub")>-1?n["marker"+c]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:e[c],textOffset:[3,0]}:n["marker"+c]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:e[c]},o=(text=text.substr(l+1)).indexOf("{marker")}this.el=new r({style:{rich:n,text:content,textLineHeight:20,textBackgroundColor:t.get("backgroundColor"),textBorderRadius:t.get("borderRadius"),textFill:t.get("textStyle.color"),textPadding:t.get("padding")},z:t.get("z")}),this._zr.add(this.el);var d=this;this.el.on("mouseover",function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0}),this.el.on("mouseout",function(){d._enterable&&d._show&&d.hideLater(d._hideDelay),d._inContent=!1})},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el.getBoundingRect();return[e.width,e.height]},moveTo:function(e,t){this.el&&this.el.attr("position",[e,t])},hide:function(){this.el.hide(),this._show=!1},hideLater:function(time){!this._show||this._inContent&&this._enterable||(time?(this._hideDelay=time,this._show=!1,this._hideTimeout=setTimeout(o.bind(this.hide,this),time)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){return this.getSize()}};var c=l;e.exports=c},function(e,t,n){var o=n(31),r=n(546);n(547),n(548),n(606),n(607),n(553),o.registerPreprocessor(r)},function(e,t,n){var o=n(0),r=n(549),l=n(17),c=[20,140],d=r.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,t){d.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){d.superApply(this,"resetItemSize",arguments);var e=this.itemSize;"horizontal"===this._orient&&e.reverse(),(null==e[0]||isNaN(e[0]))&&(e[0]=c[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=c[1])},_resetRange:function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):o.isArray(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},completeVisualOption:function(){r.prototype.completeVisualOption.apply(this,arguments),o.each(this.stateList,function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)},this)},setSelected:function(e){this.option.range=e.slice(),this._resetRange()},getSelected:function(){var e=this.getExtent(),t=l.asc((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},getValueState:function(e){var t=this.option.range,n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(n){var o=[],data=n.getData();data.each(this.getDataDimension(data),function(t,n){e[0]<=t&&t<=e[1]&&o.push(n)},this),t.push({seriesId:n.id,dataIndex:o})},this),t},getVisualMeta:function(e){var t=h(this,"outOfRange",this.getExtent()),n=h(this,"inRange",this.option.range.slice()),o=[];function r(t,n){o.push({value:t,color:e(t,n)})}for(var l=0,c=0,d=n.length,f=t.length;c<f&&(!n.length||t[c]<=n[0]);c++)t[c]<n[l]&&r(t[c],"outOfRange");for(var m=1;l<d;l++,m=0)m&&o.length&&r(n[l],"outOfRange"),r(n[l],"inRange");for(m=1;c<f;c++)(!n.length||n[n.length-1]<t[c])&&(m&&(o.length&&r(o[o.length-1].value,"outOfRange"),m=0),r(t[c],"outOfRange"));var v=o.length;return{stops:o,outerColors:[v?o[0].color:"transparent",v?o[v-1].color:"transparent"]}}});function h(e,t,n){if(n[0]===n[1])return n.slice();for(var o=(n[1]-n[0])/200,r=n[0],l=[],i=0;i<=200&&r<n[1];i++)l.push(r),r+=o;return l.push(n[1]),l}var f=d;e.exports=f},function(e,t,n){var o=n(0),r=n(173),l=n(74),c=n(551),d=n(55),h=n(17),f=n(489),m=n(552),v=n(4),y=h.linearMap,x=o.each,_=Math.min,w=Math.max,S=12,M=6,I=c.extend({type:"visualMap.continuous",init:function(){I.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(e,t,n,o){o&&"selectDataRange"===o.type&&o.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,n){if(t){var text=t[1-n];text=null!=text?text+"":"";var o=this.visualMapModel,r=o.get("textGap"),l=o.itemSize,c=this._shapes.barGroup,h=this._applyTransform([l[0]/2,0===n?-r:l[1]+r],c),f=this._applyTransform(0===n?"bottom":"top",c),m=this._orient,v=this.visualMapModel.textStyleModel;this.group.add(new d.Text({style:{x:h[0],y:h[1],textVerticalAlign:"horizontal"===m?"middle":f,textAlign:"horizontal"===m?f:"center",text:text,textFont:v.getFont(),textFill:v.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel,n=this._shapes,r=t.itemSize,l=this._orient,c=this._useHandle,d=m.getItemAlign(t,this.api,r),h=n.barGroup=this._createBarGroup(d);h.add(n.outOfRange=A()),h.add(n.inRange=A(null,c?D(this._orient):null,o.bind(this._dragHandle,this,"all",!1),o.bind(this._dragHandle,this,"all",!0)));var f=t.textStyleModel.getTextRect(""),v=w(f.width,f.height);c&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(h,0,r,v,l,d),this._createHandle(h,1,r,v,l,d)),this._createIndicator(h,r,v,l),e.add(h)},_createHandle:function(e,t,n,r,c){var h=o.bind(this._dragHandle,this,t,!1),f=o.bind(this._dragHandle,this,t,!0),m=A(function(e,t){return 0===e?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}(t,r),D(this._orient),h,f);m.position[0]=n[0],e.add(m);var v=this.visualMapModel.textStyleModel,y=new d.Text({draggable:!0,drift:h,onmousemove:function(e){l.stop(e.event)},ondragend:f,style:{x:0,y:0,text:"",textFont:v.getFont(),textFill:v.getTextColor()}});this.group.add(y);var x=["horizontal"===c?r/2:1.5*r,"horizontal"===c?0===t?-1.5*r:1.5*r:0===t?-r/2:r/2],_=this._shapes;_.handleThumbs[t]=m,_.handleLabelPoints[t]=x,_.handleLabels[t]=y},_createIndicator:function(e,t,n,o){var r=A([[0,0]],"move");r.position[0]=t[0],r.attr({invisible:!0,silent:!0}),e.add(r);var l=this.visualMapModel.textStyleModel,c=new d.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:l.getFont(),textFill:l.getTextColor()}});this.group.add(c);var h=["horizontal"===o?n/2:M+3,0],f=this._shapes;f.indicator=r,f.indicatorLabel=c,f.indicatorLabelPoint=h},_dragHandle:function(e,t,n,o){if(this._useHandle){if(this._dragging=!t,!t){var r=this._applyTransform([n,o],this._shapes.barGroup,!0);this._updateInterval(e,r[1]),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():T(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),o=[0,e.itemSize[1]];this._handleEnds=[y(t[0],n,o,!0),y(t[1],n,o,!0)]},_updateInterval:function(e,t){t=t||0;var n=this.visualMapModel,o=this._handleEnds,r=[0,n.itemSize[1]];f(t,o,r,e,0);var l=n.getExtent();this._dataInterval=[y(o[0],r,l,!0),y(o[1],r,l,!0)]},_updateView:function(e){var t=this.visualMapModel,n=t.getExtent(),o=this._shapes,r=[0,t.itemSize[1]],l=e?r:this._handleEnds,c=this._createBarVisual(this._dataInterval,n,l,"inRange"),d=this._createBarVisual(n,n,r,"outOfRange");o.inRange.setStyle({fill:c.barColor,opacity:c.opacity}).setShape("points",c.barPoints),o.outOfRange.setStyle({fill:d.barColor,opacity:d.opacity}).setShape("points",d.barPoints),this._updateHandle(l,c)},_createBarVisual:function(e,t,n,o){var l={forceState:o,convertOpacityToAlpha:!0},c=this._makeColorGradient(e,l),d=[this.getControllerVisual(e[0],"symbolSize",l),this.getControllerVisual(e[1],"symbolSize",l)],h=this._createBarPoints(n,d);return{barColor:new r(0,0,0,1,c),barPoints:h,handlesColor:[c[0].color,c[c.length-1].color]}},_makeColorGradient:function(e,t){var n=[],o=(e[1]-e[0])/100;n.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var i=1;i<100;i++){var r=e[0]+o*i;if(r>e[1])break;n.push({color:this.getControllerVisual(r,"color",t),offset:i/100})}return n.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),n},_createBarPoints:function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new d.Group("horizontal"!==t||n?"horizontal"===t&&n?{scale:"bottom"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||n?{scale:"left"===e?[1,1]:[-1,1]}:{scale:"left"===e?[1,-1]:[-1,-1]}:{scale:"bottom"===e?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var n=this._shapes,o=this.visualMapModel,r=n.handleThumbs,l=n.handleLabels;x([0,1],function(c){var h=r[c];h.setStyle("fill",t.handlesColor[c]),h.position[1]=e[c];var f=d.applyTransform(n.handleLabelPoints[c],d.getTransform(h,this.group));l[c].setStyle({x:f[0],y:f[1],text:o.formatValueText(this._dataInterval[c]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===c?"bottom":"top":"left",n.barGroup)})},this)}},_showIndicator:function(e,t,n,o){var r=this.visualMapModel,l=r.getExtent(),c=r.itemSize,h=[0,c[1]],f=y(e,l,h,!0),m=this._shapes,v=m.indicator;if(v){v.position[1]=f,v.attr("invisible",!1),v.setShape("points",function(e,t,n,o){return e?[[0,-_(t,w(n,0))],[M,0],[0,_(t,w(o-n,0))]]:[[0,0],[5,-5],[5,5]]}(!!n,o,f,c[1]));var x=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0});v.setStyle("fill",x);var S=d.applyTransform(m.indicatorLabelPoint,d.getTransform(v,this.group)),I=m.indicatorLabel;I.attr("invisible",!1);var A=this._applyTransform("left",m.barGroup),T=this._orient;I.setStyle({text:(n||"")+r.formatValueText(t),textVerticalAlign:"horizontal"===T?A:"middle",textAlign:"horizontal"===T?"center":A,x:S[0],y:S[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,o=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);o[1]=_(w(0,o[1]),n[1]),e._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=n[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var n=this.visualMapModel,o=n.itemSize;if(n.option.hoverLink){var r=[0,o[1]],l=n.getExtent();e=_(w(r[0],e),r[1]);var c=function(e,t,n){var o=S/2,r=e.get("hoverLinkDataSize");r&&(o=y(r,t,n,!0)/2);return o}(n,l,r),d=[e-c,e+c],h=y(e,r,l,!0),f=[y(d[0],r,l,!0),y(d[1],r,l,!0)];d[0]<r[0]&&(f[0]=-1/0),d[1]>r[1]&&(f[1]=1/0),t&&(f[0]===-1/0?this._showIndicator(h,f[1],"< ",c):f[1]===1/0?this._showIndicator(h,f[0],"> ",c):this._showIndicator(h,h," ",c));var x=this._hoverLinkDataIndices,M=[];(t||T(n))&&(M=this._hoverLinkDataIndices=n.findTargetDataIndices(f));var I=v.compressBatches(x,M);this._dispatchHighDown("downplay",m.convertDataIndex(I[0])),this._dispatchHighDown("highlight",m.convertDataIndex(I[1]))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,n=this.visualMapModel;if(t&&null!=t.dataIndex){var o=this.ecModel.getSeriesByIndex(t.seriesIndex);if(n.isTargetSeries(o)){var data=o.getData(t.dataType),r=data.get(n.getDataDimension(data),t.dataIndex,!0);isNaN(r)||this._showIndicator(r,r)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",m.convertDataIndex(e)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,element,t,n){var r=d.getTransform(element,n?null:this.group);return d[o.isArray(e)?"applyTransform":"transformDirection"](e,r,t)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function A(e,cursor,t,n){return new d.Polygon({shape:{points:e},draggable:!!t,cursor:cursor,drift:t,onmousemove:function(e){l.stop(e.event)},ondragend:n})}function T(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function D(e){return"vertical"===e?"ns-resize":"ew-resize"}var L=I;e.exports=L},function(e,t,n){var o=n(31),r=n(546);n(547),n(548),n(609),n(610),n(553),o.registerPreprocessor(r)},function(e,t,n){n(12).__DEV__;var o=n(0),r=n(549),l=n(483),c=n(550),d=n(17).reformIntervals,h=r.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(e,t){h.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();f[this._mode].call(this),this._resetSelected(e,t);var r=this.option.categories;this.resetVisual(function(e,t){"categories"===n?(e.mappingMethod="category",e.categories=o.clone(r)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=o.map(this._pieceList,function(e){e=o.clone(e);return"inRange"!==t&&(e.visual=null),e}))})},completeVisualOption:function(){var option=this.option,e={},t=l.listVisualTypes(),n=this.isCategory();function d(e,t,n){return e&&e[t]&&(o.isObject(e[t])?e[t].hasOwnProperty(n):e[t]===n)}o.each(option.pieces,function(n){o.each(t,function(t){n.hasOwnProperty(t)&&(e[t]=1)})}),o.each(e,function(e,t){var r=0;o.each(this.stateList,function(e){r|=d(option,e,t)||d(option.target,e,t)},this),!r&&o.each(this.stateList,function(e){(option[e]||(option[e]={}))[t]=c.get(t,"inRange"===e?"active":"inactive",n)})},this),r.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(e,t){var n=this.option,r=this._pieceList,l=(t?n:e).selected||{};if(n.selected=l,o.each(r,function(e,t){var n=this.getSelectedMapKey(e);l.hasOwnProperty(n)||(l[n]=!0)},this),"single"===n.selectedMode){var c=!1;o.each(r,function(e,t){var n=this.getSelectedMapKey(e);l[n]&&(c?l[n]=!1:c=!0)},this)}},getSelectedMapKey:function(e){return"categories"===this._mode?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var option=this.option;return option.pieces&&option.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=o.clone(e)},getValueState:function(e){var t=l.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(n){var o=[],data=n.getData();data.each(this.getDataDimension(data),function(t,n){l.findPieceIndex(t,this._pieceList)===e&&o.push(n)},this),t.push({seriesId:n.id,dataIndex:o})},this),t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},getVisualMeta:function(e){if(!this.isCategory()){var t=[],n=[],r=this,l=this._pieceList.slice();if(l.length){var c=l[0].interval[0];c!==-1/0&&l.unshift({interval:[-1/0,c]}),(c=l[l.length-1].interval[1])!==1/0&&l.push({interval:[c,1/0]})}else l.push({interval:[-1/0,1/0]});var d=-1/0;return o.each(l,function(e){var t=e.interval;t&&(t[0]>d&&h([d,t[0]],"outOfRange"),h(t.slice()),d=t[1])},this),{stops:t,outerColors:n}}function h(o,l){var c=r.getRepresentValue({interval:o});l||(l=r.getValueState(c));var d=e(c,l);o[0]===-1/0?n[0]=d:o[1]===1/0?n[1]=d:t.push({value:o[0],color:d},{value:o[1],color:d})}}}),f={splitNumber:function(){var e=this.option,t=this._pieceList,n=Math.min(e.precision,20),r=this.getExtent(),l=e.splitNumber;l=Math.max(parseInt(l,10),1),e.splitNumber=l;for(var c=(r[1]-r[0])/l;+c.toFixed(n)!==c&&n<5;)n++;e.precision=n,c=+c.toFixed(n);var h=0;e.minOpen&&t.push({index:h++,interval:[-1/0,r[0]],close:[0,0]});for(var f=r[0],m=h+l;h<m;f+=c){var v=h===l-1?r[1]:f+c;t.push({index:h++,interval:[f,v],close:[1,1]})}e.maxOpen&&t.push({index:h++,interval:[r[1],1/0],close:[0,0]}),d(t),o.each(t,function(e){e.text=this.formatValueText(e.interval)},this)},categories:function(){var e=this.option;o.each(e.categories,function(e){this._pieceList.push({text:this.formatValueText(e,!0),value:e})},this),m(e,this._pieceList)},pieces:function(){var e=this.option,t=this._pieceList;o.each(e.pieces,function(e,n){o.isObject(e)||(e={value:e});var r={text:"",index:n};if(null!=e.label&&(r.text=e.label),e.hasOwnProperty("value")){var c=r.value=e.value;r.interval=[c,c],r.close=[1,1]}else{for(var d=r.interval=[],h=r.close=[0,0],f=[1,0,1],m=[-1/0,1/0],v=[],y=0;y<2;y++){for(var x=[["gte","gt","min"],["lte","lt","max"]][y],i=0;i<3&&null==d[y];i++)d[y]=e[x[i]],h[y]=f[i],v[y]=2===i;null==d[y]&&(d[y]=m[y])}v[0]&&d[1]===1/0&&(h[0]=0),v[1]&&d[0]===-1/0&&(h[1]=0),d[0]===d[1]&&h[0]&&h[1]&&(r.value=d[0])}r.visual=l.retrieveVisuals(e),t.push(r)},this),m(e,t),d(t),o.each(t,function(e){var t=e.close,n=[["<",""][t[1]],[">",""][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,n)},this)}};function m(e,t){var n=e.inverse;("vertical"===e.orient?!n:n)&&t.reverse()}var v=h;e.exports=v},function(e,t,n){var o=n(0),r=n(551),l=n(55),c=n(258).createSymbol,d=n(110),h=n(552),f=r.extend({type:"visualMap.piecewise",doRender:function(){var e=this.group;e.removeAll();var t=this.visualMapModel,n=t.get("textGap"),r=t.textStyleModel,c=r.getFont(),h=r.getTextColor(),f=this._getItemAlign(),m=t.itemSize,v=this._getViewData(),y=v.endsText,x=o.retrieve(t.get("showLabel",!0),!y);y&&this._renderEndsText(e,y[0],m,x,f),o.each(v.viewPieceList,function(r){var d=r.piece,v=new l.Group;v.onclick=o.bind(this._onItemClick,this,d),this._enableHoverLink(v,r.indexInModelPieceList);var y=t.getRepresentValue(d);if(this._createItemSymbol(v,y,[0,0,m[0],m[1]]),x){var _=this.visualMapModel.getValueState(y);v.add(new l.Text({style:{x:"right"===f?-n:m[0]+n,y:m[1]/2,text:d.text,textVerticalAlign:"middle",textAlign:f,textFont:c,textFill:h,opacity:"outOfRange"===_?.5:1}}))}e.add(v)},this),y&&this._renderEndsText(e,y[1],m,x,f),d.box(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(e,t){function n(e){var n=this.visualMapModel;n.option.hoverLink&&this.api.dispatchAction({type:e,batch:h.convertDataIndex(n.findTargetDataIndices(t))})}e.on("mouseover",o.bind(n,this,"highlight")).on("mouseout",o.bind(n,this,"downplay"))},_getItemAlign:function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return h.getItemAlign(e,this.api,e.itemSize);var n=t.align;return n&&"auto"!==n||(n="left"),n},_renderEndsText:function(e,text,t,n,o){if(text){var r=new l.Group,c=this.visualMapModel.textStyleModel;r.add(new l.Text({style:{x:n?"right"===o?t[0]:0:t[0]/2,y:t[1]/2,textVerticalAlign:"middle",textAlign:n?o:"center",text:text,textFont:c.getFont(),textFill:c.getTextColor()}})),e.add(r)}},_getViewData:function(){var e=this.visualMapModel,t=o.map(e.getPieceList(),function(e,t){return{piece:e,indexInModelPieceList:t}}),n=e.get("text"),r=e.get("orient"),l=e.get("inverse");return("horizontal"===r?l:!l)?t.reverse():n&&(n=n.slice().reverse()),{viewPieceList:t,endsText:n}},_createItemSymbol:function(e,t,n){e.add(c(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color")))},_onItemClick:function(e){var t=this.visualMapModel,option=t.option,n=o.clone(option.selected),r=t.getSelectedMapKey(e);"single"===option.selectedMode?(n[r]=!0,o.each(n,function(e,t){n[t]=t===r})):n[r]=!n[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})}});e.exports=f},function(e,t,n){var o,r,l;r=[t,n(612)],void 0===(l="function"==typeof(o=function(e,t){var n=function(e){"undefined"!=typeof console&&console&&console.error&&console.error(e)};t?t.registerMap?t.registerMap("china",{type:"FeatureCollection",features:[{id:"710000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@\\sNnxXZGMcl^G@W"],["@@\\p|WoYGIj@"],["@@@V^RqBbAnTXeRzLI"],["@@EEkWq@"],["@@fced"]],encodeOffsets:[[[122886,24033]],[[123335,22980]],[[122375,24193]],[[122518,24117]],[[124427,22618]],[[124862,26043]]]},properties:{cp:[121.509062,25.044332],name:"",childNum:6}},{id:"130000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@o~Z]rc_Gs`jnsNX_M`nUKsyrucJe"],["@@U`Tsm"],["@@odeVDJjJ|dzFt~KIv|r}onb}`Rnd^lnl]}Li`^pDc`ZqvFNTHOIbBpXRnndOOQgFo|gSWbosx|hYhgfmnTSpdYUjlp|kfwXjz~qbT@|oMzvZrVwfTqs{SrlNdiGJlr}~KWzRlmL@|q]SvKcwpnWlkT}J~TdpddBVtEP@~k\\rW_FDjYrbG{|rb|H`pkvGpuARhgTS]yEPxXOgIwB|NmHDyIuDdFOhOi`ww^kHtFu{Z}@ULgOw^VbsmA]]wRRlub{DuTQfVna@@yIKfxV@tJ]eRfe|rHA|h~llTbobbx^zSjAyhk`PEFYrqiWi^[|O@xO\\ta\\tt{XjRb^fK[dYfTyuUSy@OiaVcaxXcWUQwsqEH|YQoyMoPmWOv{vISphpjdeQjX[n`Yp@UcM`RKhEbplNutEtqnsgAioHqCXhfgu~WPG^}GC^ziMMTrMc|O_|morDkO\\mJfl@catR^juKUFyVqVadBqPBmamVd^KKonYgXhqaLdupKkhq}Hy]qgo^ZEi`{nOlWhgF[kO_iUtGyl}M}jpEC~FtoQiHkk{m"]],encodeOffsets:[[[119712,40641]],[[121616,39981]],[[116462,37237]]]},properties:{cp:[114.502461,38.045474],name:"",childNum:3}},{id:"140000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@Sra}yWixelokiVZcoTSmnehZg{gtwpXaThp{EhRPPmcmQWoAaJPGSMEruY_dCo]_jK~^kmk]cmQ~_apm~qu{JLs}EycI{IiCfUcp]vD@SMwuYYDbch]nkoQdaM~eDtT@@ZcW|WqOJmlvOIqVD[mI~cehi]~qXen}v[]_`Iobs^}tpW|Fsxd{v|LLV`_bS^|dzY|dzpZbK}tPYznvXnzUdJNMXZ_tldI{NehXnYGRDj|CKqfi~OQ@BTltXh|Mz"],encodeOffsets:[[116874,41716]]},properties:{cp:[112.549248,37.857014],name:"",childNum:1}},{id:"150000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@^hMw\\fWluDw\\M[bEn}VcsPqFB|SC|kHdisPE^Ppy_YtShQaHwsOnsiqjUSi]WgWAR`h]yxm~zf}pf|rozrKSu"],["@@sKCGS|Xgp{X{ZyohA}fd_YHoMQq|`XxcQstF^it[hAil|yY|DoG\\TrLguYRO\\^bGVg^ujjk@]lVnqYNyNqDYyosNuxZ}F~UfdIx\\GzOpqy@q@IBzsZdzzCDf@KtVAdX{uUhWekfSHKOCQmJmnN~Gj`YQoDg^`t^xRrHxD|wFjwd_djTW|tqUB~FCUpNOKOjjYp{S\\TVDKtKcFlUFMOi}EFxQErWrh\\talDJ|[PllGPW^H]prRn|orwLVnIujkmoncX^Bh`VU}xRj[^xN[~xQ[`HExx^wN|MrdYpoRzNyDs~bcf`Ln|Tcar`[|DxEldHI`\\~Rtf^eMptgjyLVP|VVjpE|c|tKf{FXo\\o}ukX{uUqly[oi{LFLfKoqNwc`uetOjKJqmosqehqsuH{kHRbN@VuAyllISCio^HCzg^_}gnUIm]jvVeuhwqAaW_jjioQRt@r[l^GOUOBXkk|e]olkVqtajgU^RLnXBz^~wfvypVMEyxp]vvn@V~MEtjyDXxGQuv_iaBwwD{tmQ{EJKP@sCT}wyg}T[kSBXHtSa[P]kGQMq}E\\@gQuFTJ]|mvYua^WoazotCLimHTdwsRg}QA[{duQAMxVvMOmlct[w_jbS_QZ_lwgOie`YYLqI[uTsb[b[fcnC[Qm^mJVmL[{_F{A}WuahB{TQqIZYc|MLeVUK_QWk_ZX\\uUlGTDOrdz]]}UTxgckfWgi\\HkE{etcGahUiiWscCk]w|a}wVaGnM{AJxhPwWOFz^TShQgvBHoul_oGa{q{|HaqZiCE`Xq[l}@OFUsAccocS}IS~lkXmodxuL^T{r@KnkQyXL~}kqIHjoqTt|rSex[eMyupN~yN{gWs_SA@RP}jerLD{iC"]],encodeOffsets:[[[127444,52594]],[[113793,40312]]]},properties:{cp:[111.670801,40.818311],name:"",childNum:2}},{id:"210000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@L@@sa"],["@@MnNm"],["@@dc"],["@@eC@b"],["@@fXwkbr`qg"],["@@^jtWQ"],["@@~Y]c"],["@@G`N^_ZM"],["@@iXBY"],["@@YZ"],["@@L_{Epf"],["@@^WqCT\\"],["@@\\[t|_"],["@@m`n_"],["@@x{q_^Giip"],["@@@^BntaU]xPhKV@Y~|EvsL^pGl]xx_fTcPCTVjbgHsddHt`BGJj[hjeXdlwhSVZ^ycPqDMHkvV[WY`XlR`LUVfK{NZdYJRrSA|gbvX~B|E`\\|KUnnI]nR\\Dmbaba\\atSv\\JKrZ_ZfjhPkx`YRIjJcVf~sCNEhmsHyS\\\\RZkISfq[^\\PMupzExanyoluqeW^L}rkqWPUPJooU}[@XDXmGUC{^cjk[qLcuxzZfBWYveCW{^q^sOtCGDr@wKVi}xi]{cOWYa_HoqrLys[OSOMisZFCPq{[Pg}\\ghOk^FMoEqqZFohP{~TlNY{Ps{VUewkVJJmdhcffdF~ed`sxEdQd^~H\\LKpVezNPRJSha[ghwmBhI|VV|p]NBL`bKVpoNZKxpw|EMnzEQIZZNBFmWtZuD|lnPmadaCLkQaOQyA"]],encodeOffsets:[[[123686,41445]],[[126019,40435]],[[124393,40128]],[[126117,39963]],[[125322,40140]],[[126686,40700]],[[126041,40374]],[[125584,40168]],[[125453,40165]],[[125362,40214]],[[125280,40291]],[[125774,39997]],[[125976,40496]],[[125822,39993]],[[125509,40217]],[[122731,40949]]]},properties:{cp:[123.429096,41.796767],name:"",childNum:16}},{id:"220000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@pPClFbbzwBGZilYSgk^SqdRS\\cZiCuXoR}M^oR}oUFuuXHlEmTDufXXAeyYwdvK\\rlid]|DVHWnCW@\\~VppIOVOrXql~K]XrfkvzpmbwyFovNO[_\\erRJYlQ[YTGztngFkMGia`\\xsdkNnuNUuP@vRY\\G~RhQxtcSGnjKDspybXp]vbZu{n^ISEvRh@[~FNrRHl^Ovxs]TsGWATJx~StD@jlWvzZCHAxiukdGgetqmcOzycE}|cZku[oxGikfeT@SUwpiFM^`@vefhePtOlUgzU`l}Uv_i^iB~Egc|DC_mrBxMdYxDVgcw\\YlOvLjM_aW`zM\\swqSAqkRwx^k\\]nr}hM{yMzysnVGXio`Ud\\imBDEhLG{WaYRj}ccjoUb{h{KGslyi`HAe^GK}i\\c]vZm|[M}T`mFKbXQHof{]eptGYnVY^ydkZWWUa~USbwGiW^qFuNEwUtWPuqEzwAVXRQ`GMehccdW_Y\\~GmBuT_LqT^rme\\PpZZbyuybQef]UhDCmvaNSkCwncfv~YG"],encodeOffsets:[[130196,42528]]},properties:{cp:[125.3245,43.886841],name:"",childNum:1}},{id:"230000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@TLyqpqe{~oyen}s`qiXG]plp]F^fkzBUv@"],["@@UNHL|g|apVidd~iQZXb|HKFgCAnjc[V_pjWHUmtyzzNN|g~mq^[lw]xQlrBTxr[tN_yX`biNKuPkZ[xdhUCwZcNAwqnD`{ChdF}Aj]j`Vu~_kVyhVkPsOfgef@u_cNEojVxT@SefjlwH\\pvlYd{F~dyzPndsrhfHcvlwjFGDYyuXikqOLI|FRns|CzxAbfudTrFWAm|sFN}U@muu^owFzNUzouxe]}AyWmKQ]ifX|sZt|Ulk^p{fllWAPVPH]k\\@qsQpRiji`bXrBgxfvuUi^v~JmVpVWrnPBXhX^TjVrijtmtPGxbgRsT`ZozO]FOvpcGsxDR{AEOrx|bWm~DVjNNGxCSt}]SmtuNgTu}BMaQGlG|tvgrrfptnrILisPf_vdxMprLeKVY]I]Kj|p\\kznV|vWlrxm~lEQjOSyQv`cwZS]BzeeOSfmPzmgsJqvUOn_@P}[@g}gWXusNAeLydlVpQsYHe`rFWxkdv|I|NqReUBQ}Lk@unTcf^XmHWxJw_^WroK~CfNwXnexLlOACGYDJg_@A@wqCNKQ[gOWuZJuEWK_d_}}vyuU@grDgCdMFYxwCGR{]L{qqB|c}F}RspgQNqRwnKSeYR@{SJ}D]grjqWham~S]"]],encodeOffsets:[[[127123,51780]],[[134456,44547]]]},properties:{cp:[126.642464,45.756967],name:"",childNum:2}},{id:"320000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@cPi`ZRu\\]~Y`^phbnaTbe{ZNpHr|^mjhSEb\\afv`sz^lkljtgDX|iZB}GLcjayBFC^ctsH]j{sHMQnDDajgiDbPufjDk`dPOhwGPobrYaH]rlwr_{DB_duk|FCyr{XFyekBMvpm`r@hgxnlOtdJlVJqvnO^JZQ}m]Dq}R^ItyQMNtRLhs}OGZzA\\jFOHYJvHNianFQlNMBNtpdfqmQbuJulwhrYxcitjKOCoy`VTa_]^]afYJmY`ZQafusN_k}m[DRLiXyNiNodHcs}~wbCtOPrE^ogIKphM`o"],encodeOffsets:[[121740,32276]]},properties:{cp:[118.767413,32.041544],name:"",childNum:1}},{id:"330000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@E^dQ]K"],["@@jX^j"],["@@sfbU"],["@@qP\\xz[ck"],["@@RFX}[s_"],["@@Cb\\}"],["@@e|v\\la{u"],["@@v~u}"],["@@QxF}"],["@@nvso"],["@@rSkUEj"],["@@biZP"],["@@p[}INf"],["@@"],["@@dnb"],["@@rSBnR"],["@@g~h}"],["@@FlEk"],["@@OdPc"],["@@v[u\\"],["@@FjL~wyoo~sL\\"],["@@eaN"],["@@\\nq]L\\Q"],["@@A["],["@@Kxv"],["@@@hlIk]"],["@@pW{o||j"],["@@Md|_mC"],["@@XylDXtH"],["@@hl[LykAvyfw^E"],["@@fpMusR"],["@@_ma~LZ"],["@@iMxZ"],["@@ZcYd"],["@@Z~dOSo|AqZv"],["@@@`ENv"],["@@|TY{"],["@@@n@m"],["@@XWkCT\\"],["@@wZRkWO"],["@@XGr\\Xq{"],["@@TGLHmUC"],["@@ax~}dtGcpMjMzjWKQ__BipZgfNrq]NHyLBHqihtv_[mYLQmdMgjcKBco\\xKdg[~xuKsc\\bfSkZB{aMfzfgne@S\\ChiqiAuA_WO\\lttCt`PZuXBsyekOHuXB]\\FpkWt|@Lr~WIZWx`prOgtZ}]FKwsPlU[}Rvn`hq\\nQRWb_rtFIkPJJTC@PzPChl~nmfimntuZjLEFixIhhst"],["@@o\\VzRZ}y"],["@@@mGIan[jfLGr"]],encodeOffsets:[[[125592,31553]],[[125785,31436]],[[125729,31431]],[[125513,31380]],[[125223,30438]],[[125115,30114]],[[124815,29155]],[[124419,28746]],[[124095,28635]],[[124005,28609]],[[125e3,30713]],[[125111,30698]],[[125078,30682]],[[125150,30684]],[[124014,28103]],[[125008,31331]],[[125411,31468]],[[125329,31479]],[[125626,30916]],[[125417,30956]],[[125254,30976]],[[125199,30997]],[[125095,31058]],[[125083,30915]],[[124885,31015]],[[125218,30798]],[[124867,30838]],[[124755,30788]],[[124802,30809]],[[125267,30657]],[[125218,30578]],[[125200,30562]],[[124968,30474]],[[125167,30396]],[[124955,29879]],[[124714,29781]],[[124762,29462]],[[124325,28754]],[[123990,28459]],[[125366,31477]],[[125115,30363]],[[125369,31139]],[[122495,31878]],[[125329,30690]],[[125192,30787]]]},properties:{cp:[120.153576,30.287459],name:"",childNum:45}},{id:"340000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@^iuLX^"],["@@eEhl"],["@@ZmkwhgBqzgthEz|WzqDEl{vcA`C`|qxkq^GbZqpaOHxgPcOl_iCveaOjChibCCmRVA|t^iGtsd]DEzAbidK~HAYj{WChsikkly]_teu[bFaTign{]GqoMY|faSNIm_ma]upZ_{Cgr[_YjOd[I[Q_ngLmvBJhpcO]i]jtsggJwjEFKiYvsmnjemn}kgDOyO@DSIIOjNTtNyrqsWFXmwRIfoGuyH{AFnuPzVd^doG{Sx}KOEds[^Xrxv`KtCvlofzNY~L_|]Flg`benpUh~_rs~c]|rc~`{{iJjz`T]u}fQl{skloNdjzDvoQHIrbtH~BmlRV_TLnHDLLlalK\\RvDcJbt[D@hh~ktz@dbYhZvHr\\JuxAT|dmO[GlpSJLvcPmlwKhgAOmK"]],encodeOffsets:[[[121722,32278]],[[119475,30423]],[[119168,35472]]]},properties:{cp:[117.283042,31.86119],name:"",childNum:3}},{id:"350000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@zht]"],["@@aj^~GO"],["@@edC}}i"],["@@@vPGsQ"],["@@sBzddW]Q"],["@@SQ{"],["@@NVucW"],["@@qptBAq"],["@@[mu"],["@@Q\\pD]_"],["@@jSwUadpF"],["@@eX~"],["@@AjvFso"],["@@fT_\\v|bajZy"],["@@IjJi"],["@@wJIxAoNe{M"],["@@KeZ"],["@@kEh~cwBkUplI~MebNgZacpPhIQqGj|Ug[Kyv@OptEF\\@AV{XBycppohqqLs^qlhHMCeGDzPOkJAueiSWQcSSWACeRRCZ^dlstjDZpuHoLUjjW^@mOwyJyD}fZdazNjDtjZS~cmxOPlSL|AMgIJ`QFh|J@z|UEttr]MHtAkvsq^abvdfSDZ^xPsrvjJdAdxqAZRMnZYXJyqK@{sXloEY^AvWGPlzftAvWYO_sDss[kPX`BBvjvjx[L[FV`Ip}ccZEoPB@DmzBRWl`]ZTcGHm@_kxXCIbqKOAwaLW[GINxDB_JGsE@uPcuMuwBI]zGguck\\_"]],encodeOffsets:[[[123250,27563]],[[122541,27268]],[[123020,27189]],[[122916,27125]],[[122887,26845]],[[122808,26762]],[[122568,25912]],[[122778,26197]],[[122515,26757]],[[122816,26587]],[[123388,27005]],[[122450,26243]],[[122578,25962]],[[121255,25103]],[[120987,24903]],[[122339,25802]],[[121042,25093]],[[122439,26024]]]},properties:{cp:[119.306239,26.075302],name:"",childNum:18}},{id:"360000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@gMD~e^\\^jcZzdalJ`oz@uYHajlZ[|h}^UpOltQ\\a|CnOjtdF`@SvHXDQgWiPrNltZoCCxrpV{f_Y`_eqAot`@oDXfkp|s\\DSfHn^DhyJhxLPwGT~w|TFnc]xe{vOEmB|GvzHpeJQxnWEXtrwF|MibDTm[r_gmQu~V\\OkxtLE^~Pqo_wmNQYBrwcBciIuqtwO]YCTecaub]trluBGsN^qssFV{OER_IJhNBK{TkOPwnd}TYisCiMP|UHvheoFTu\\OSsMiaXh{gu^gm[zkKNl{XSv_JbVkVPMxl~GBKyV~`gsfIle|~udjuTlXf`Jd[\\L"],encodeOffsets:[[116689,26234]]},properties:{cp:[115.892151,28.676493],name:"",childNum:1}},{id:"370000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@Xjd]{K"],["@@itbFHy"],["@@HlGk"],["@@TGy"],["@@KU"],["@@WdXc"],["@@PtOs"],["@@LnXhc"],["@@ppVu]Or"],["@@cdzAUa"],["@@udRhnCI"],["@@oIpR"],["@@{fzKM]ZFY]phr^Gz~grlLocvKbgrWhmZpL]LcUnbAnrOAcbUrUEzVLBkbnbhBX@LywClZ|ZWyFYMf~C`_RzwfQnnyINo|sTJULVjDzXPnPL_TBBAfaM{M`dmBjjPM|c^dufPkMl]Lb}su^ke{lCMrD]NFsmoHyG{{rnEZGFjWuCuh^KxC`C\\bx_NCBIy\\kxGDyFQKt]CgASedcuYfyMmhUWpSyGwMPqzKGY@Bm@IogZuTMx}CVK{P_Kpqtkk]gTwosMANMRkmEbMjGuIZGPE[iBEuDP~t]GQMsNPzsUg{J]Qr~C^nR~YI]PumrI[xeLvsY~}ugp_SRP~CydwkSsX|t`ATDda^lDY`v\\ebZHROMFWp["]],encodeOffsets:[[[123806,39303]],[[123821,39266]],[[123742,39256]],[[123702,39203]],[[123649,39066]],[[123847,38933]],[[123580,38839]],[[123894,37288]],[[123043,36624]],[[123344,38676]],[[123522,38857]],[[123628,38858]],[[118260,36742]]]},properties:{cp:[117.000923,36.675807],name:"",childNum:13}},{id:"410000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@LPswIxcEPtXx@QGYfa[u_XC]kbcCSBSi_}mYTtxlczD}OQT[hv~}ZlPRnhctknUdKuIoTkH\\PcnS{wBIv[GquYgZca@ys}lgg@C\\asIduCQ[LkbkKKCGKmS`UQnk}AGsqaJGRpCuyiMcplk|tRkev~^S_iyjI||_d}q^{d}tq`g}VomfaoTTjtRyK{ju{t}uRivGJFjyqQFewixGwYpXUykwZXlKzOjchtoDHr|J}JZ_iPq{tZpkQ]MfaQp]uFunADp}AjmcEaoSDIz^KLi[aAzzD|[gfd|`~oDCsUMhTSDruZEvPZW~tEybos~]tapJ_`^\\u~mfWr}^gjdfJ}\\nCWxJRumFdM{\\d\\Y@@SsC}fNcbpRml^gdaCZZxvNT@uC^n|lGlRjspED}Fio~N~zkHVsj`Pl\\EhgXPk|m"],encodeOffsets:[[118256,37017]]},properties:{cp:[113.665412,34.757975],name:"",childNum:1}},{id:"420000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@AB"],["@@lskt"],["@@}{rap\\{CyyBb\\jKL]JyCTpbdFin~BCoBmvE^vRobeN^RlYo|sOrjY`~II{GqpCgyl{yPLkWxYlzVWoZHxjwfxGNXlEiIHujQ~v|svi|FhQsSiBgE^{nOU}ZMeypukDsL_uwWq]\\tcFxOKwgIzCg]mGeTC[t{loWeC@ps_Bprf_``Z|eioMqowDDYpsYk}s[cYHKQy]wwxXvRHMcdDSyt[b\\}pIyxNo|Hmj~TujCAwRlbT_[InM\\[Tko@AwyaY\\azknewEuoj_UcF[WvPwhuyBF`RqJUw\\i{jEPfQQ{fL~wXgtHdfJd]HJEoUHhwQsXmgve]DmPoCc_hhYrUeD_N~`z]pQv\\rCTnkaodJqPb|JfX_Z}N_^aypCKLMwrIxjb[n^hYV}^LmJ{JVxsxxMIf\\dDv_~DALVH"]],encodeOffsets:[[[113712,34e3]],[[115612,30507]],[[113649,34054]]]},properties:{cp:[114.298572,30.584355],name:"",childNum:3}},{id:"430000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@nFTs"],["@@XrCORTooQy[BEXaGITxpxedGGhM_U}}pczfgAVM"],["@@KACQBUAtOwD]JiSmbylXHHC^AyuuA^{CJ^[~Nsk]~O@VmQ{jnf~oMuZmZcSCQr}Nrmjr@rTWSsdHz^yUiDYlu{hT}mD[OtM`PDiUUBhedyo`pfmjP~kZaZsdwj@w~^kKvNmX\\aqvF@Vw}S@j}prgNJDK|^LXPEXd^~uMRhsRe`ofI\\iymncjGXeOFi|[jVxrIQ_EzANzLU`cxOTuRLdVi`pvF~dgwb[ZbzxB@plS\\[NmJ\\`SiOBxDivS}inG{pMwzJoToTzCcdP[uWMBrnZ`GA\\pXhRCWGuTI}_EgisPDm{b[RskPRoOV~]{g\\YkbiGZv@py_IkbcydYi[]f]C}Nh"]],encodeOffsets:[[[115640,30489]],[[112543,27312]],[[116690,26230]]]},properties:{cp:[112.982279,28.19409],name:"",childNum:3}},{id:"440000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@QdAua"],["@@lxDLo"],["@@sbhNLo"],["@@"],["@@WltO[["],["@@Kr]S"],["@@eI]y"],["@@I|Mym"],["@@LSY"],["@@nvBui`"],["@@zdJw"],["@@"],["@@ayAJIx@HAmVofuo"],["@@sAZ~Ph"],["@@vmhQ"],["@@HdSjD}waruZqadYM"],["@@el\\LqqU"],["@@~rMo\\"],["@@f^C"],["@@PojXxQXNv"],["@@go[~tly"],["@@EC"],["@@OP"],["@@wg[VMpaDJG{OBABhlmtPyUucdw_bcmGO|KPI@oo}WCUIIEAwXJL]ZMflntFFk^kfg}Faf`vXxlpqiXRD}@ZsxAR~ETtZfHA\\S^wkRzal|ENZTpBh\\uXtKLG|E~rOvd]nVRpMFbwE\\]ID|]CALvBaF~GEYzkahlVI^CxPsBV@RN]_eavSivc}p}kJeth_x_xN@H}wkNO]ly_WI`uTxYkMjJwn\\hv]h|gWbdNTtP[SvrCZaGubo~zCIzxPn@]V}iiVpKGvYoCsitiayYDm}|m[wZxUO}No_qtqwYtUmRC|KR]GAxHO|mdiYYWOetzTE\\}jYdTXgWOjYQi"]],encodeOffsets:[[[117381,22988]],[[116552,22934]],[[116790,22617]],[[116973,22545]],[[116444,22536]],[[116931,22515]],[[116496,22490]],[[116453,22449]],[[113301,21439]],[[118726,21604]],[[118709,21486]],[[113210,20816]],[[115482,22082]],[[113171,21585]],[[113199,21590]],[[115232,22102]],[[115739,22373]],[[115134,22184]],[[113056,21175]],[[119573,21271]],[[119957,24020]],[[115859,22356]],[[116561,22649]],[[116285,22746]]]},properties:{cp:[113.280637,23.125178],name:"",childNum:24}},{id:"450000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@HTQA"],["@@LDCzGnrt@Sx~O\\Obw^oLfbIlTBFgaYtVSKnMJEoC^Q^fQzlzU@pn]sxtx@~Jbgk{~c`rV\\la`LCbxErOv[H[~|aBsdAzNsbab`hoFVloRzppSNd`aFDC~nS|gvZkCjzV]LFZgPkiniqczYqRDTdnYYvNp}emi||QFovgem^ucgu}F{HKsLSr[AgoSYM{FbkylQx]T[BGeYSsFQ}BwtY@~CQWjrokwWmcihK~he]llEEsm`gK_sUhOnc`yCezYwa[M]X_]UBdyT^dP`KeR[~udltWoRM\\z}zdv{XF_LTmulkiqfA\\DcFycH_hLc}rn`@VLh\\k~i|gtT^xvKVGrAbUuMJVOqXSl_juYBG^EGzEkN[kducdnYpAy{`]TbkvhJ"]],encodeOffsets:[[[111707,21520]],[[107619,25527]]]},properties:{cp:[108.320004,22.82402],name:"",childNum:2}},{id:"460000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@ilXCrkm@E}[gf\\vjNRZzHb_"],encodeOffsets:[[112750,20508]]},properties:{cp:[110.33119,20.031971],name:"",childNum:1}},{id:"510000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@LqKr"],["@@[V_pGr~SfyimHH}siaX@itTJJJyJ`OhuhIyCjmwZGTiSsOBfNmsPa{M{E^Hj}gYpaeuowHjMpMumni{fk\\oqCwEZKAy{mLwOSimRIrKBSsFe]fY_PRcueCbobdIHgtrnyPtfoaXxlBowz_{WiEGhuFIxfY]EyFw@gRGvW`Jwi]twOa[]`iLLabbTc}hhBH|kSyiata`UhOLk}FosJmlunJWYAetTGbo{wodOxNPHKv]|BoZ``m~n]w@sru~Io[@qgzaKtV[^@sZpwDneQqGCS]xqOQzti{WzWpJXcFLiVjx}\\NGeJAHfu~dEMA|bhGCMAvV_VwQjZeXQuZqDoy`LgdppZIhzfKpIN|z]FURMGMkir}`mnRozwV]lTUIddh\\cGM}ByFVvwxBtCHN~^u^s{TADJZ~Sn|WzPOb|Q@RSdiez]HqkIQs[ExXl|XwnmErtDcQE^l}Qtoqk@Bw^^RsTQPJvz^fLGCdtRtOfDPbMXZ@Q]ds__PrGeZqBhtOtE[h|YZsxUt|ONbgJy^dY]zgCR`zAjCLR@k\\YW}z@Z}o]^N}NPy`SATeVamdUwv\\uYpZmWh{}WwgaCN[gXx[NLUrxR^JknDX{U~ET{PZcjF@pgB{uyhoDWFGDzkPq]eKxP|[xJsNInYmDuEbee_v}}qTRsM@}aawvZw\\Z{^"]],encodeOffsets:[[[108815,30935]],[[110617,31811]]]},properties:{cp:[104.065735,30.659462],name:"",childNum:2}},{id:"520000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@G\\lYin"],["@@q|mctVS"],["@@hIsNgHHh_ugSJH|styMDetA{b\\}Gu\\PFqwaDK_bmM[q|hlaI}@swtwm^oDyVkyRe]R[DpJiVFImNLbYbWsbpkiTZHq`_JaeKpx]aP[Pw}T@sqmHyBn]KGgT{HdOjXWrLyzALby_qMrohwVw]Kx|`drcbe`ITFrJk_l_p`ohpa^}D^Xy`d[KvJPhhCr^wZLbrzOIlMMretw|mKjSStEtqFTExOKYPVgmVZwVlzTlct{GAge~daSbaKKj_^\\bPx^sxjI_XHuQh@}GNlT`V~Rtb`tFDu[MfqGHyAztMFe|R_GkChZetov`xbDn{E}ZxNEREn[Pv@{~rABEO|UZ~UfJsB`sfv~dqu[[sbzFhW\\Ios}R]DgVGjmpU[rbNu}`niXda_ftQQgRv}]WcFOWK]{LCIMhqo~@i~TUx@Erub[nWuMLl]x}"]],encodeOffsets:[[[112158,27383]],[[112105,27474]],[[112095,27476]]]},properties:{cp:[106.713478,26.578343],name:"",childNum:3}},{id:"530000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@[x}RHYsniEoYa{cgsAwzFjw}Dx}Ul@HFoJnupTFxaXclHAkhWUs}teSt}FdjZT\\D}OU~GDTsdBuo~ttDizXghhmzR`hrOYmfncbw\\zlvWgmBbkeeZkIKueTsVesbadNpyBElGCwepQpCARQ^u_cPhlsPnD^Upv}BPjxSwlfvq|`HvindhemFyqSX_tryvLzcjnklDzM|cF\\\\JDzKEh~CDhMn^ZafypFk]qla~qljNHNQVE^yM{JLoeygJYoohcKz_prCYvRWfYixRU`UuBNDHgaB{NFcv}eGBIfHM~[iwjUKEdWIoXyXj|sRyPr^wTDHrRmfCoxYt@]\\UsLbyhr@\\pJ}vqt@^xm}n_Y_pA^{LuGOMwPpcx|apHSfsBZXKkESrEFskViTLn{uxhNNJkyPaqKYx]DqgOgILu\\_gz]W~C]bogp_o`kl`IqESJ_fadqc_w{L^xUxgpqN`rzaKBzyKXqiWPcG|Gk_^|_zBZocmhhc\\lMFlyHF]HA^it`kT~WlPzUCNVv[jD[}zmsSh{jl}[gKU@m_~qf^f}Qg^\\A_bW[F{Zgm@|kHU}eBPynGILdW}g{aqaZ`"],encodeOffsets:[[104636,22969]]},properties:{cp:[102.712251,25.040609],name:"",childNum:1}},{id:"540000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@hxxVAar_w~uSqOj]QZUDoYM[Lq{VWVi]yhUadcQ~MxccaSyFkuRqQaG{F@KariVgLaftB^MLhJcxwf]Y|QLnad\\od`tQ|C^J{jrl`[t|StPKd]s_vVjsc_|Avw`aaaeSMw@T\\@oxAstKzr^nG{]G~bgVjzlhfOfdB]pjTOtn}dddYteJ}Alc@sAwxUuzE~ANHdg[ccJVSk^b[}]Nmg@Bg}FyLCI[[Ed{NyCkH@TZAZcvZ|WZqgW|ieZYVqdqbcR@cRGeeQ}J[K|ojNEBnwC]gsgg`JrUtui\\sRb|^kfiM@GMnabOk{\\eMfm{GyWQ}IZsZsTvgsN@@wUTTWxqZobs[cvBM|kTzNYnprRS~VVMBae~Auh`@Ba|zDIIK}r_Ma~SKeBnW|U}LJrl`b`Q@sI@wsQ`{TTSYo|[MWi@Mhp]jOplwscbUWavquSMzeo_^gs@~RiB\\qTGPofQPb{ZIhnszCUmLUoj_u^@tMRgghez\\z~PnMBknKLzuLDzmdFzhgFyb@ymNZRJLYVtt_yz]hz{Xc|qfOgHNPKUxx[xvCT^}sd_KgLBon|H@xBpfAzRxFkRz~[HnVucmMxxB^WdkpwIna~JlxhgTC^errdP|W^LaTWRU[QhlLA\\qR"],encodeOffsets:[[90849,37210]]},properties:{cp:[91.132212,29.660361],name:"",childNum:1}},{id:"610000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@pG}jz{kjBg\\s]jEstRdwW_{jGZ`ec~BgzpYTW|fcuF@NXLRM[|Jkc`sYW@KIcVymWumZyO~sLaYocyZ{yc]{Ta`U_KK{u|cdUYOuFYvCqTSNgVtDCp}cEFGUKB}C`wBc[^axwQOENwwo[_KnK]_dg]m\\iakX{|ZKlhLt[@EtZmJMtIw\\{OwLgBrOlyCHEXCgpzb`wIvA|ho@EiYdOS|}F@oAO{tfFWBh^Wx{@FnP|@^bclYi^Mic[vgv@lJsn|u~a]tJpKKf~UbyIn^MThkoh`[tRd_XPrlXiLHqQCbAJ`dYjiZvRVKkjGePZmK[`shodtK{BpJJY@pHVKepWftsAqCkopHuK@oHhxenSrqRbzylEpx~@dK^mSj"],encodeOffsets:[[110234,38774]]},properties:{cp:[108.948024,34.263161],name:"",childNum:1}},{id:"620000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@VuUv"],["@@Ett~nkh`QdwAbJDgqBqjlISHbjBaZKJO[|ADx}NHUnrkkpYkMJn[aG[rc}aQxOgsPMnUsncZsKvAtYKdnFwJELatf`hwe|bj}GA~W`MCtLqdfObttu`^ZE`[@szCGRRmfwgG@pzJMmhVyuO{LfUGq\\IIoA|Lcspgt_\\LYngRiHLlUuQjYiZ_cIaBDRrGKjWkOqW\\aQ\\sg_plgSN]mJazV}LeLoIs^bztmEacecN\\dNj]jZkda]@O{mE|@Xwg]AXcwQsV_\\wWhRoVDbhx~Zg|XnYoZv[uxcVbnUSfB_TzOM~M]^pY~y@X~Z[l@QKDiByQ_Dhy^Z]cIzahMPs{Vwt[}X\\gsFsPAgpfYHqOdL\\it^cRHmrYBIouuI]vSQ{U}Q|UZ\\vPNHyAmwVm`]bH`ILvHDlt_JJmDgarYi~NpAbszMzQdvT|Ha|wKxivr^lfPJv}n\\hv|\\Nz]QTIl}vEFIqTvVjwGNOPyVZsoHiYw[\\Xc]jqvm^RgIAtENU\\mQcoII_mkljYzi}Ms}Vm_[n}eUI{DojqYhTo]xMq`B~j@@}tPVufCtG]lUKqDrnN|gVv|WcBUsL@eCDyycYtyAJ@r@rzoPyH[JwcVe}E~U{v@pWxns^wWcJivFc~ceX\\JwksAfL}waoZDMl]eaoF]wYRrvyLFLze]gx}|KK}xklL]cfRtvPoH{tK"]],encodeOffsets:[[[108619,36299]],[[108589,36341]]]},properties:{cp:[103.823557,36.058039],name:"",childNum:2}},{id:"630000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@InJm"],["@@COs~@@i}Ar_Nw^pSZgrpiC|JV~f\\m`Un~Nt~jyZiknl`JJpdRn[VMFsBJhQ]nuri^d[Wx\\ZjGtpYzUOPMxHiUSurJEFukr{V}O_SR^yM{[u[gtOYkq]juwDPGGuRcNyytaBMoj}ZqbhAnII`ksCGUyCy@BnzGMOJV{LzVR|TbuvJvhHAaONwLmIPscBJK`aQAmOVSQt]]xA@lrspRk~]FRdsCqFnmx{WkwWF\\tRJlGr^yfjcZ|M@R{aPuX{Tm}YICB|St]vs}MAfsPYcc~msPSi^oAecPekgyUih}aH^|H]mqyLstBwnHSS@xNTfbbb_xuB{`dtiUu`^tcLOsTs{\\_kqi|I]D{R_scp[cbKmR{Ze^wxdIgM]]snA{e`\\YjqbL@EH|bRrQvlETzdbhw{LRdcbVgz^jUX|UrK\\NpZCVYRi^rPT}|brqbiGQxPml[s\\U\\fNx|xsZPSqF`VVZL`dIqr\\oFh]Cl\\tTgQHbElbC|Ck[KlATUvdTGsDveOg"]],encodeOffsets:[[[105308,37219]],[[95370,40081]]]},properties:{cp:[101.778916,36.623178],name:"",childNum:2}},{id:"640000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@KO]QZhvKqS[HnL]c@}woFk{zPByt@@]Yv_ssiLsKDN_X}B~Haif{xge_bsKFIxmELcZsuBLtYdmVtNmtOPhRw~bdq\\H\\bImlNZloqlVmG~QCw{A\\PKNYbFkCsks_\\kJirrAhCU_BixnaM~pOuseQ^dkKwlL~{L~hw^fKyEKzuqQxZ^Epb^fkNCYpxbK~eBltxI[Wf}ddEujIdXx]mtwRXvzZCrMzMZrmUk^Fhiibj"],["@@mfwwMrv@G"]],encodeOffsets:[[[109366,40242]],[[108600,36303]]]},properties:{cp:[106.278179,38.46637],name:"",childNum:2}},{id:"650000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@QX~BjvKXvOi@~ce_E}Qxg@syXo{uXf`CGXMQe|JREjcU_MOFzx[]EP}TBOE}`crudZwGZH}Z|MbakxnMmqCLrVk^UvQkL\\lD{DkaFaGRhSs[Dk^gETc_KYUU_rETOtYw{uMxL[t\\nkOwTFBUww[mG~QyCFmZVQXSbKSX{Kcqqf]DUhgwk}IbmJxolcX]AwwNndvUmG\\}QylEwQyBeoAw@{GpmAKLh`ctWSDu\\wwwVLOMGhPerd{W|yg^yzs`s|}m`x^}HYAn~fzgDIAEYospD[{]uJqU|Sox[kZYrwkrXGbaDA[IB_pDKwbmNfVviHQF{YGdO{P^bl[vtE~hu`HVwW@{Nn{{le^eXj\\c\\q[xob|ZdoG\\CnnxOTxMOv~FR~Nq[nPvb{~npHYfmcDoMSsVWB|XJFY]NAfJrDD`mz\\~D{vJlbpNXW|MTPfKSE`C~hlk~}FafdUXvatjdnrh\\]pLrzPbD\\ZjoLZq\\Lfs|ze{hKTi`u"],encodeOffsets:[[88824,50096]]},properties:{cp:[87.617733,43.792818],name:"",childNum:1}},{id:"110000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@Otmit_Hd`{bwYrS]oqGtm_SoaFLgQN_dV@Zom_\\cxoRcfeogToJu|wPXnOrNzRpZ{GrFtxRVXdWbwUdbjnGnzSeZczi]QaiW|u[qb[swP@P{\\AjX\\MKpA[Hu}}"],encodeOffsets:[[120023,41045]]},properties:{cp:[116.405285,39.904989],name:"",childNum:1}},{id:"120000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@gXEFO_lgzAXe{]gitgIjakSk}{gBqGf{aU^fI{YNkZRoYgcsb@dekI[nlPqCnp{`{PNdqSNNyj]DH]~HOX}xgpgWrDGp^LrzWxZ^T\\|~@IzbjezvLmV_NW~zbvGZmDM~~"],encodeOffsets:[[120237,41215]]},properties:{cp:[117.190182,39.125596],name:"",childNum:1}},{id:"310000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@Epxc"],["@@"],["@@MA"],["@@QpEC"],["@@bEIm"],["@@^sYDCG@h_pA{oloYj@`gQhr|^MvtbeRYr]"]],encodeOffsets:[[[124702,32062]],[[124547,32200]],[[124808,31991]],[[124726,32110]],[[124903,32376]],[[124438,32149]]]},properties:{cp:[121.472644,31.231706],name:"",childNum:6}},{id:"500000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@vjG~nGezT}qHq^CIjp\\_Y|[Yxuxbb@~NQtS~r~uf`faJn]j@a{FgLk{Y|WtJxqNKLD|s`]`M~Y`WeI{aOIrap^bmlSqDu[Rw`y_}`MfCVqZgg`dpDOCn^ufnhWtxRGgpVFIG^IcecGshxW}KeXsbkFLgTkN}Gyw\\onmzj@cWj_m~Mvaq\\oVnbqefE^Q~vpE}zcLgEyat\\\\vr_ou_n_AtIVeY}{VPFAB}q@|Ou\\FmQFMw}]|FmCawu_psfgYDHl`{QEfNysBzGrHeN\\CvEs_saQ}_UxqNHd^RweJEvHgFXj`|ypxkAwWpbeOsmzwqChUQlF^lafansrEvfQdUVfv^eftETA\\sJnQTjPxK|nBzLYFDxvr[ehvNoNixGpzbfZo~hGi]F||NbtOMneAtPTLjpYQ|SHYxinzDJgvPg_zIIIISsN"],["@@ifjN@s"]],encodeOffsets:[[[109628,30765]],[[111725,31320]]]},properties:{cp:[106.504962,29.533155],name:"",childNum:2}},{id:"810000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@AlBk"],["@@mn"],["@@EpFo"],["@@eaplEhj[]C@ljuBXAI[yDU]W`wZkmcMpv}IoJlcafKXJmhItSHnErc"],["@@rMUwASe"]],encodeOffsets:[[[117111,23002]],[[117072,22876]],[[117045,22887]],[[116975,23082]],[[116882,22747]]]},properties:{cp:[114.173355,22.320048],name:"",childNum:5}},{id:"820000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@kds"],encodeOffsets:[[116279,22639]]},properties:{cp:[113.54909,22.198951],name:"",childNum:1}}],UTF8Encoding:!0}):n("ECharts Map is not loaded"):n("ECharts is not Loaded")})?o.apply(t,r):o)||(e.exports=l)},function(e,t,n){var o=n(31);!function(){for(var e in o){if(null==o||!o.hasOwnProperty(e)||"default"===e||"__esModule"===e)return;t[e]=o[e]}}();var r=n(276);!function(){for(var e in r){if(null==r||!r.hasOwnProperty(e)||"default"===e||"__esModule"===e)return;t[e]=r[e]}}(),n(274),n(613),n(558),n(627),n(632),n(636),n(536),n(646),n(652),n(660),n(675),n(679),n(683),n(695),n(701),n(706),n(712),n(716),n(722),n(726),n(729),n(740),n(746),n(752),n(753),n(754),n(511),n(488),n(761),n(773),n(567),n(574),n(776),n(784),n(513),n(788),n(545),n(795),n(798),n(801),n(804),n(813),n(824),n(827)},function(e,t,n){var o=n(31);n(614),n(615);var r=n(484),l=n(491),c=n(617);n(492),o.registerVisual(r("line","circle","line")),o.registerLayout(l("line")),o.registerProcessor(o.PRIORITY.PROCESSOR.STATISTIC,c("line"))},function(e,t,n){n(12).__DEV__;var o=n(260),r=n(257).extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(option,e){return o(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});e.exports=r},function(e,t,n){n(12).__DEV__;var o=n(0),r=n(490),l=n(501),c=n(616),d=n(55),h=n(4),f=n(555),m=f.Polyline,v=f.Polygon,y=n(259),x=n(17).round,_=n(554),w=_.prepareDataCoordInfo,S=_.getStackedOnPoint;function M(e,t){if(e.length===t.length){for(var i=0;i<e.length;i++){var n=e[i],o=t[i];if(n[0]!==o[0]||n[1]!==o[1])return}return!0}}function I(e){return"number"==typeof e?e:e?.5:0}function A(e){var t=e.getGlobalExtent();if(e.onBand){var n=e.getBandWidth()/2-1,o=t[1]>t[0]?1:-1;t[0]+=o*n,t[1]-=o*n}return t}function T(e,t,n,o){return"polar"===e.type?function(e,t,n,o){var r=e.getAngleAxis(),l=e.getRadiusAxis().getExtent().slice();l[0]>l[1]&&l.reverse();var c=r.getExtent(),h=Math.PI/180;n&&(l[0]-=.5,l[1]+=.5);var f=new d.Sector({shape:{cx:x(e.cx,1),cy:x(e.cy,1),r0:x(l[0],1),r:x(l[1],1),startAngle:-c[0]*h,endAngle:-c[1]*h,clockwise:r.inverse}});return t&&(f.shape.endAngle=-c[0]*h,d.initProps(f,{shape:{endAngle:-c[1]*h}},o)),f}(e,t,n,o):function(e,t,n,o){var r=A(e.getAxis("x")),l=A(e.getAxis("y")),c=e.getBaseAxis().isHorizontal(),h=Math.min(r[0],r[1]),f=Math.min(l[0],l[1]),m=Math.max(r[0],r[1])-h,v=Math.max(l[0],l[1])-f;if(n)h-=.5,m+=.5,f-=.5,v+=.5;else{var y=o.get("lineStyle.width")||2,x=o.get("clipOverflow")?y/2:Math.max(m,v);c?(f-=x,v+=2*x):(h-=x,m+=2*x)}var _=new d.Rect({shape:{x:h,y:f,width:m,height:v}});return t&&(_.shape[c?"width":"height"]=0,d.initProps(_,{shape:{width:m,height:v}},o)),_}(e,t,n,o)}function D(e,t,n){for(var o=t.getBaseAxis(),r="x"===o.dim||"radius"===o.dim?0:1,l=[],i=0;i<e.length-1;i++){var c=e[i+1],d=e[i];l.push(d);var h=[];switch(n){case"end":h[r]=c[r],h[1-r]=d[1-r],l.push(h);break;case"middle":var f=(d[r]+c[r])/2,m=[];h[r]=m[r]=f,h[1-r]=d[1-r],m[1-r]=c[1-r],l.push(h),l.push(m);break;default:h[r]=d[r],h[1-r]=c[1-r],l.push(h)}}return e[i]&&l.push(e[i]),l}function L(e,data,t){var n=e.get("showAllSymbol"),r="auto"===n;if(!n||r){var c=t.getAxesByScale("ordinal")[0];if(c&&(!r||!function(e,data){var t=e.getExtent(),n=Math.abs(t[1]-t[0])/e.scale.count();isNaN(n)&&(n=0);for(var o=data.count(),r=Math.max(1,Math.round(o/5)),c=0;c<o;c+=r)if(1.5*l.getSymbolSize(data,c)[e.isHorizontal()?1:0]>n)return!1;return!0}(c,data))){var d=data.mapDimension(c.dim),h={};return o.each(c.getViewLabels(),function(e){h[e.tickValue]=1}),function(e){return!h.hasOwnProperty(data.get(d,e))}}}}var C=y.extend({type:"line",init:function(){var e=new d.Group,t=new r;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,t,n){var r=e.coordinateSystem,l=this.group,data=e.getData(),c=e.getModel("lineStyle"),h=e.getModel("areaStyle"),f=data.mapArray(data.getItemLayout),m="polar"===r.type,v=this._coordSys,y=this._symbolDraw,polyline=this._polyline,polygon=this._polygon,x=this._lineGroup,_=e.get("animation"),A=!h.isEmpty(),C=h.get("origin"),P=function(e,data,t){if(!t.valueDim)return[];for(var n=[],o=0,r=data.count();o<r;o++)n.push(S(t,e,data,o));return n}(r,data,w(r,data,C)),N=e.get("showSymbol"),k=N&&!m&&L(e,data,r),O=this._data;O&&O.eachItemGraphicEl(function(e,t){e.__temp&&(l.remove(e),O.setItemGraphicEl(t,null))}),N||y.remove(),l.add(x);var R=!m&&e.get("step");polyline&&v.type===r.type&&R===this._step?(A&&!polygon?polygon=this._newPolygon(f,P,r,_):polygon&&!A&&(x.remove(polygon),polygon=this._polygon=null),x.setClipPath(T(r,!1,!1,e)),N&&y.updateData(data,{isIgnore:k,clipShape:T(r,!1,!0,e)}),data.eachItemGraphicEl(function(e){e.stopAnimation(!0)}),M(this._stackedOnPoints,P)&&M(this._points,f)||(_?this._updateAnimation(data,P,r,n,R,C):(R&&(f=D(f,r,R),P=D(P,r,R)),polyline.setShape({points:f}),polygon&&polygon.setShape({points:f,stackedOnPoints:P})))):(N&&y.updateData(data,{isIgnore:k,clipShape:T(r,!1,!0,e)}),R&&(f=D(f,r,R),P=D(P,r,R)),polyline=this._newPolyline(f,r,_),A&&(polygon=this._newPolygon(f,P,r,_)),x.setClipPath(T(r,!0,!1,e)));var E=function(data,e){var t=data.getVisual("visualMeta");if(t&&t.length&&data.count()&&"cartesian2d"===e.type){for(var n,r,i=t.length-1;i>=0;i--){var l=t[i].dimension,c=data.dimensions[l],h=data.getDimensionInfo(c);if("x"===(n=h&&h.coordDim)||"y"===n){r=t[i];break}}if(r){var f=e.getAxis(n),m=o.map(r.stops,function(e){return{coord:f.toGlobalCoord(f.dataToCoord(e.value)),color:e.color}}),v=m.length,y=r.outerColors.slice();v&&m[0].coord>m[v-1].coord&&(m.reverse(),y.reverse());var x=m[0].coord-10,_=m[v-1].coord+10,w=_-x;if(w<.001)return"transparent";o.each(m,function(e){e.offset=(e.coord-x)/w}),m.push({offset:v?m[v-1].offset:.5,color:y[1]||"transparent"}),m.unshift({offset:v?m[0].offset:.5,color:y[0]||"transparent"});var S=new d.LinearGradient(0,0,0,0,m,!0);return S[n]=x,S[n+"2"]=_,S}}}(data,r)||data.getVisual("color");polyline.useStyle(o.defaults(c.getLineStyle(),{fill:"none",stroke:E,lineJoin:"bevel"}));var z=e.get("smooth");if(z=I(e.get("smooth")),polyline.setShape({smooth:z,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")}),polygon){var V=data.getCalculationInfo("stackedOnSeries"),G=0;polygon.useStyle(o.defaults(h.getAreaStyle(),{fill:E,opacity:.7,lineJoin:"bevel"})),V&&(G=I(V.get("smooth"))),polygon.setShape({smooth:z,stackedOnSmooth:G,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=data,this._coordSys=r,this._stackedOnPoints=P,this._points=f,this._step=R,this._valueOrigin=C},dispose:function(){},highlight:function(e,t,n,o){var data=e.getData(),r=h.queryDataIndex(data,o);if(!(r instanceof Array)&&null!=r&&r>=0){var symbol=data.getItemGraphicEl(r);if(!symbol){var c=data.getItemLayout(r);if(!c)return;(symbol=new l(data,r)).position=c,symbol.setZ(e.get("zlevel"),e.get("z")),symbol.ignore=isNaN(c[0])||isNaN(c[1]),symbol.__temp=!0,data.setItemGraphicEl(r,symbol),symbol.stopSymbolAnimation(!0),this.group.add(symbol)}symbol.highlight()}else y.prototype.highlight.call(this,e,t,n,o)},downplay:function(e,t,n,o){var data=e.getData(),r=h.queryDataIndex(data,o);if(null!=r&&r>=0){var symbol=data.getItemGraphicEl(r);symbol&&(symbol.__temp?(data.setItemGraphicEl(r,null),this.group.remove(symbol)):symbol.downplay())}else y.prototype.downplay.call(this,e,t,n,o)},_newPolyline:function(e){var polyline=this._polyline;return polyline&&this._lineGroup.remove(polyline),polyline=new m({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(polyline),this._polyline=polyline,polyline},_newPolygon:function(e,t){var polygon=this._polygon;return polygon&&this._lineGroup.remove(polygon),polygon=new v({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(polygon),this._polygon=polygon,polygon},_updateAnimation:function(data,e,t,n,o,r){var polyline=this._polyline,polygon=this._polygon,l=data.hostModel,h=c(this._data,data,this._stackedOnPoints,e,this._coordSys,t,this._valueOrigin,r),f=h.current,m=h.stackedOnCurrent,v=h.next,y=h.stackedOnNext;o&&(f=D(h.current,t,o),m=D(h.stackedOnCurrent,t,o),v=D(h.next,t,o),y=D(h.stackedOnNext,t,o)),polyline.shape.__points=h.current,polyline.shape.points=f,d.updateProps(polyline,{shape:{points:v}},l),polygon&&(polygon.setShape({points:f,stackedOnPoints:m}),d.updateProps(polygon,{shape:{points:v,stackedOnPoints:y}},l));for(var x=[],_=h.status,i=0;i<_.length;i++){if("="===_[i].cmd){var w=data.getItemGraphicEl(_[i].idx1);w&&x.push({el:w,ptIdx:i})}}polyline.animators&&polyline.animators.length&&polyline.animators[0].during(function(){for(var i=0;i<x.length;i++){x[i].el.attr("position",polyline.shape.__points[x[i].ptIdx])}})},remove:function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(e,o){e.__temp&&(t.remove(e),n.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});e.exports=C},function(e,t,n){var o=n(554),r=o.prepareDataCoordInfo,l=o.getStackedOnPoint;e.exports=function(e,t,n,o,c,d,h,f){for(var m=function(e,t){var n=[];return t.diff(e).add(function(e){n.push({cmd:"+",idx:e})}).update(function(e,t){n.push({cmd:"=",idx:t,idx1:e})}).remove(function(e){n.push({cmd:"-",idx:e})}).execute(),n}(e,t),v=[],y=[],x=[],_=[],w=[],S=[],M=[],I=r(c,t,h),A=r(d,e,f),i=0;i<m.length;i++){var T=m[i],D=!0;switch(T.cmd){case"=":var L=e.getItemLayout(T.idx),C=t.getItemLayout(T.idx1);(isNaN(L[0])||isNaN(L[1]))&&(L=C.slice()),v.push(L),y.push(C),x.push(n[T.idx]),_.push(o[T.idx1]),M.push(t.getRawIndex(T.idx1));break;case"+":var P=T.idx;v.push(c.dataToPoint([t.get(I.dataDimsForPoint[0],P),t.get(I.dataDimsForPoint[1],P)])),y.push(t.getItemLayout(P).slice()),x.push(l(I,c,t,P)),_.push(o[P]),M.push(t.getRawIndex(P));break;case"-":P=T.idx;var N=e.getRawIndex(P);N!==P?(v.push(e.getItemLayout(P)),y.push(d.dataToPoint([e.get(A.dataDimsForPoint[0],P),e.get(A.dataDimsForPoint[1],P)])),x.push(n[P]),_.push(l(A,d,e,P)),M.push(N)):D=!1}D&&(w.push(T),S.push(S.length))}S.sort(function(a,b){return M[a]-M[b]});var k=[],O=[],R=[],E=[],z=[];for(i=0;i<S.length;i++)P=S[i],k[i]=v[P],O[i]=y[P],R[i]=x[P],E[i]=_[P],z[i]=w[P];return{current:k,next:O,stackedOnCurrent:R,stackedOnNext:E,status:z}}},function(e,t){var n={average:function(e){for(var t=0,n=0,i=0;i<e.length;i++)isNaN(e[i])||(t+=e[i],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i]||0;return t},max:function(e){for(var t=-1/0,i=0;i<e.length;i++)e[i]>t&&(t=e[i]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,i=0;i<e.length;i++)e[i]<t&&(t=e[i]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},o=function(e,t){return Math.round(e.length/2)};e.exports=function(e){return{seriesType:e,modifyOutputEnd:!0,reset:function(e,t,r){var data=e.getData(),l=e.get("sampling"),c=e.coordinateSystem;if("cartesian2d"===c.type&&l){var d,h=c.getBaseAxis(),f=c.getOtherAxis(h),m=h.getExtent(),v=m[1]-m[0],y=Math.round(data.count()/v);y>1&&("string"==typeof l?d=n[l]:"function"==typeof l&&(d=l),d&&e.setData(data.downSample(data.mapDimension(f.dim),1/y,d,o)))}}}}},function(e,t,n){var o=n(0),r=n(619);function l(e){r.call(this,e)}l.prototype={constructor:l,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},containData:function(data){return this.getAxis("x").containData(data[0])&&this.getAxis("y").containData(data[1])},dataToPoint:function(data,e,t){var n=this.getAxis("x"),o=this.getAxis("y");return(t=t||[])[0]=n.toGlobalCoord(n.dataToCoord(data[0])),t[1]=o.toGlobalCoord(o.dataToCoord(data[1])),t},clampData:function(data,e){var t=this.getAxis("x").scale,n=this.getAxis("y").scale,o=t.getExtent(),r=n.getExtent(),l=t.parse(data[0]),c=n.parse(data[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),e[1]=Math.min(Math.max(Math.min(r[0],r[1]),c),Math.max(r[0],r[1])),e},pointToData:function(e,t){var n=this.getAxis("x"),o=this.getAxis("y");return(t=t||[])[0]=n.coordToData(n.toLocalCoord(e[0])),t[1]=o.coordToData(o.toLocalCoord(e[1])),t},getOtherAxis:function(e){return this.getAxis("x"===e.dim?"y":"x")}},o.inherits(l,r);var c=l;e.exports=c},function(e,t,n){var o=n(0);function r(e){return this._axes[e]}var l=function(e){this._axes={},this._dimList=[],this.name=e||""};l.prototype={constructor:l,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return o.map(this._dimList,r,this)},getAxesByScale:function(e){return e=e.toLowerCase(),o.filter(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(input,e){for(var t=this._dimList,output=input instanceof Array?[]:{},i=0;i<t.length;i++){var n=t[i],o=this._axes[n];output[n]=o[e](input[n])}return output}};var c=l;e.exports=c},function(e,t,n){var o=n(0),r=n(261),l=function(e,t,n,o,l){r.call(this,e,t,n),this.type=o||"value",this.position=l||"bottom"};l.prototype={constructor:l,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},getGlobalExtent:function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},toLocalCoord:null,toGlobalCoord:null},o.inherits(l,r);var c=l;e.exports=c},function(e,t,n){n(556);var o=n(56).extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});e.exports=o},function(e,t,n){n(556),n(623)},function(e,t,n){var o=n(0),r=n(55),l=n(481),c=n(482),d=n(544),h=["axisLine","axisTickLabel","axisName"],f=["splitArea","splitLine"],m=c.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,n,c){this.group.removeAll();var v=this._axisGroup;if(this._axisGroup=new r.Group,this.group.add(this._axisGroup),e.get("show")){var y=e.getCoordSysModel(),x=d.layout(y,e),_=new l(e,x);o.each(h,_.add,_),this._axisGroup.add(_.getGroup()),o.each(f,function(t){e.get(t+".show")&&this["_"+t](e,y)},this),r.groupTransition(v,this._axisGroup,e),m.superCall(this,"render",e,t,n,c)}},remove:function(){this._splitAreaColors=null},_splitLine:function(e,t){var n=e.axis;if(!n.scale.isBlank()){var l=e.getModel("splitLine"),c=l.getModel("lineStyle"),d=c.get("color");d=o.isArray(d)?d:[d];for(var h=t.coordinateSystem.getRect(),f=n.isHorizontal(),m=0,v=n.getTicksCoords({tickModel:l}),y=[],x=[],_=c.getLineStyle(),i=0;i<v.length;i++){var w=n.toGlobalCoord(v[i].coord);f?(y[0]=w,y[1]=h.y,x[0]=w,x[1]=h.y+h.height):(y[0]=h.x,y[1]=w,x[0]=h.x+h.width,x[1]=w);var S=m++%d.length,M=v[i].tickValue;this._axisGroup.add(new r.Line(r.subPixelOptimizeLine({anid:null!=M?"line_"+v[i].tickValue:null,shape:{x1:y[0],y1:y[1],x2:x[0],y2:x[1]},style:o.defaults({stroke:d[S]},_),silent:!0})))}}},_splitArea:function(e,t){var n=e.axis;if(!n.scale.isBlank()){var l=e.getModel("splitArea"),c=l.getModel("areaStyle"),d=c.get("color"),h=t.coordinateSystem.getRect(),f=n.getTicksCoords({tickModel:l,clamp:!0});if(f.length){var m=d.length,v=this._splitAreaColors,y=o.createHashMap(),x=0;if(v)for(var i=0;i<f.length;i++){var _=v.get(f[i].tickValue);if(null!=_){x=(_+(m-1)*i)%m;break}}var w=n.toGlobalCoord(f[0].coord),S=c.getAreaStyle();d=o.isArray(d)?d:[d];for(i=1;i<f.length;i++){var M,I,A,T,D=n.toGlobalCoord(f[i].coord);n.isHorizontal()?(M=w,I=h.y,A=D-M,T=h.height,w=M+A):(M=h.x,I=w,A=h.width,w=I+(T=D-I));var L=f[i-1].tickValue;null!=L&&y.set(L,x),this._axisGroup.add(new r.Rect({anid:null!=L?"area_"+L:null,shape:{x:M,y:I,width:A,height:T},style:o.defaults({fill:d[x]},S),silent:!0})),x=(x+1)%m}this._splitAreaColors=y}}}});m.extend({type:"xAxis"}),m.extend({type:"yAxis"})},function(e,t,n){var o=n(559).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e}});e.exports=o},function(e,t,n){n(12).__DEV__;var o=n(31),r=n(0),l=n(55),c=n(560).setLabel,d=n(57),h=n(626),f=n(8),m=["itemStyle","barBorderWidth"];r.extend(d.prototype,h);var v=o.extendChartView({type:"bar",render:function(e,t,n){this._updateDrawMode(e);var o=e.get("coordinateSystem");return"cartesian2d"!==o&&"polar"!==o||(this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n)),this.group},incrementalPrepareRender:function(e,t,n){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,n,o){this._incrementalRenderLarge(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e,t,n){var o,r=this.group,data=e.getData(),c=this._data,d=e.coordinateSystem,h=d.getBaseAxis();"cartesian2d"===d.type?o=h.isHorizontal():"polar"===d.type&&(o="angle"===h.dim);var f=e.isAnimationEnabled()?e:null;data.diff(c).add(function(t){if(data.hasValue(t)){var n=data.getItemModel(t),l=w[d.type](data,t,n),c=y[d.type](data,t,n,l,o,f);data.setItemGraphicEl(t,c),r.add(c),S(c,data,t,n,l,e,o,"polar"===d.type)}}).update(function(t,n){var h=c.getItemGraphicEl(n);if(data.hasValue(t)){var m=data.getItemModel(t),v=w[d.type](data,t,m);h?l.updateProps(h,{shape:v},f,t):h=y[d.type](data,t,m,v,o,f,!0),data.setItemGraphicEl(t,h),r.add(h),S(h,data,t,m,v,e,o,"polar"===d.type)}else r.remove(h)}).remove(function(e){var t=c.getItemGraphicEl(e);"cartesian2d"===d.type?t&&x(e,f,t):t&&_(e,f,t)}).execute(),this._data=data},_renderLarge:function(e,t,n){this._clear(),I(e,this.group)},_incrementalRenderLarge:function(e,t){I(t,this.group,!0)},dispose:r.noop,remove:function(e){this._clear(e)},_clear:function(e){var t=this.group,data=this._data;e&&e.get("animation")&&data&&!this._isLargeDraw?data.eachItemGraphicEl(function(t){"sector"===t.type?_(t.dataIndex,e,t):x(t.dataIndex,e,t)}):t.removeAll(),this._data=null}}),y={cartesian2d:function(data,e,t,n,o,c,d){var rect=new l.Rect({shape:r.extend({},n)});if(c){var h=o?"height":"width",f={};rect.shape[h]=0,f[h]=n[h],l[d?"updateProps":"initProps"](rect,{shape:f},c,e)}return rect},polar:function(data,e,t,n,o,c,d){var h=n.startAngle<n.endAngle,f=new l.Sector({shape:r.defaults({clockwise:h},n)});if(c){var m=o?"r":"endAngle",v={};f.shape[m]=o?0:n.startAngle,v[m]=n[m],l[d?"updateProps":"initProps"](f,{shape:v},c,e)}return f}};function x(e,t,n){n.style.text=null,l.updateProps(n,{shape:{width:0}},t,e,function(){n.parent&&n.parent.remove(n)})}function _(e,t,n){n.style.text=null,l.updateProps(n,{shape:{r:n.shape.r0}},t,e,function(){n.parent&&n.parent.remove(n)})}var w={cartesian2d:function(data,e,t){var n=data.getItemLayout(e),o=function(e,t){var n=e.get(m)||0;return Math.min(n,Math.abs(t.width),Math.abs(t.height))}(t,n),r=n.width>0?1:-1,l=n.height>0?1:-1;return{x:n.x+r*o/2,y:n.y+l*o/2,width:n.width-r*o,height:n.height-l*o}},polar:function(data,e,t){var n=data.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle}}};function S(e,data,t,n,o,d,h,f){var m=data.getItemVisual(t,"color"),v=data.getItemVisual(t,"opacity"),y=n.getModel("itemStyle"),x=n.getModel("emphasis.itemStyle").getBarItemStyle();f||e.setShape("r",y.get("barBorderRadius")||0),e.useStyle(r.defaults({fill:m,opacity:v},y.getBarItemStyle()));var _=n.getShallow("cursor");_&&e.attr("cursor",_);var w=h?o.height>0?"bottom":"top":o.width>0?"left":"right";f||c(e.style,x,n,m,d,t,w),l.setHoverStyle(e,x)}var M=f.extend({type:"largeBar",shape:{points:[]},buildPath:function(e,t){for(var n=t.points,o=this.__startPoint,r=this.__valueIdx,i=0;i<n.length;i+=2)o[this.__valueIdx]=n[i+r],e.moveTo(o[0],o[1]),e.lineTo(n[i],n[i+1])}});function I(e,t,n){var data=e.getData(),o=[],r=data.getLayout("valueAxisHorizontal")?1:0;o[1-r]=data.getLayout("valueAxisStart");var l=new M({shape:{points:data.getLayout("largePoints")},incremental:!!n,__startPoint:o,__valueIdx:r});t.add(l),function(e,t,data){var n=data.getVisual("borderColor")||data.getVisual("color"),o=t.getModel("itemStyle").getItemStyle(["color","borderColor"]);e.useStyle(o),e.style.fill=null,e.style.stroke=n,e.style.lineWidth=data.getLayout("barWidth")}(l,e,data)}e.exports=v},function(e,t,n){var o=n(113)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r={getBarItemStyle:function(e){var style=o(this,e);if(this.getBorderLineDash){var t=this.getBorderLineDash();t&&(style.lineDash=t)}return style}};e.exports=r},function(e,t,n){var o=n(31),r=n(0);n(628),n(629);var l=n(540),c=n(503),d=n(630),h=n(493);l("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),o.registerVisual(c("pie")),o.registerLayout(r.curry(d,"pie")),o.registerProcessor(h("pie"))},function(e,t,n){var o=n(31),r=n(486),l=n(0),c=n(4),d=n(17).getPercentWithPrecision,h=n(506),f=n(76).retrieveRawAttr,m=o.extendSeriesModel({type:"series.pie",init:function(option){m.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(option)},mergeOption:function(e){m.superCall(this,"mergeOption",e),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(option,e){return r(this,["value"])},_createSelectableList:function(){for(var data=this.getRawData(),e=data.mapDimension("value"),t=[],i=0,n=data.count();i<n;i++)t.push({name:data.getName(i),value:data.get(e,i),selected:f(data,i,"selected")});return t},getDataParams:function(e){var data=this.getData(),t=m.superCall(this,"getDataParams",e),n=[];return data.each(data.mapDimension("value"),function(e){n.push(e)}),t.percent=d(n,e,data.hostModel.get("percentPrecision")),t.$vars.push("percent"),t},_defaultLabelLine:function(option){c.defaultEmphasis(option,"labelLine",["show"]);var e=option.labelLine,t=option.emphasis.labelLine;e.show=e.show&&option.label.show,t.show=t.show&&option.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});l.mixin(m,h);var v=m;e.exports=v},function(e,t,n){var o=n(0),r=n(55),l=n(259);function c(e,t,n,o){var data=t.getData(),r=this.dataIndex,l=data.getName(r),c=t.get("selectedOffset");o.dispatchAction({type:"pieToggleSelect",from:e,name:l,seriesId:t.id}),data.each(function(e){d(data.getItemGraphicEl(e),data.getItemLayout(e),t.isSelected(data.getName(e)),c,n)})}function d(e,t,n,o,r){var l=(t.startAngle+t.endAngle)/2,c=n?o:0,d=[Math.cos(l)*c,Math.sin(l)*c];r?e.animate().when(200,{position:d}).start("bounceOut"):e.attr("position",d)}function h(data,e){r.Group.call(this);var t=new r.Sector({z2:2}),polyline=new r.Polyline,text=new r.Text;function n(){polyline.ignore=polyline.hoverIgnore,text.ignore=text.hoverIgnore}function o(){polyline.ignore=polyline.normalIgnore,text.ignore=text.normalIgnore}this.add(t),this.add(polyline),this.add(text),this.updateData(data,e,!0),this.on("emphasis",n).on("normal",o).on("mouseover",n).on("mouseout",o)}var f=h.prototype;f.updateData=function(data,e,t){var n=this.childAt(0),l=data.hostModel,c=data.getItemModel(e),h=data.getItemLayout(e),f=o.extend({},h);(f.label=null,t)?(n.setShape(f),"scale"===l.getShallow("animationType")?(n.shape.r=h.r0,r.initProps(n,{shape:{r:h.r}},l,e)):(n.shape.endAngle=h.startAngle,r.updateProps(n,{shape:{endAngle:h.endAngle}},l,e))):r.updateProps(n,{shape:f},l,e);var m=data.getItemVisual(e,"color");n.useStyle(o.defaults({lineJoin:"bevel",fill:m},c.getModel("itemStyle").getItemStyle())),n.hoverStyle=c.getModel("emphasis.itemStyle").getItemStyle();var v=c.getShallow("cursor");function y(){n.stopAnimation(!0),n.animateTo({shape:{r:h.r+l.get("hoverOffset")}},300,"elasticOut")}function x(){n.stopAnimation(!0),n.animateTo({shape:{r:h.r}},300,"elasticOut")}v&&n.attr("cursor",v),d(this,data.getItemLayout(e),l.isSelected(null,e),l.get("selectedOffset"),l.get("animation")),n.off("mouseover").off("mouseout").off("emphasis").off("normal"),c.get("hoverAnimation")&&l.isAnimationEnabled()&&n.on("mouseover",y).on("mouseout",x).on("emphasis",y).on("normal",x),this._updateLabel(data,e),r.setHoverStyle(this)},f._updateLabel=function(data,e){var t=this.childAt(1),n=this.childAt(2),o=data.hostModel,l=data.getItemModel(e),c=data.getItemLayout(e).label,d=data.getItemVisual(e,"color");r.updateProps(t,{shape:{points:c.linePoints||[[c.x,c.y],[c.x,c.y],[c.x,c.y]]}},o,e),r.updateProps(n,{style:{x:c.x,y:c.y}},o,e),n.attr({rotation:c.rotation,origin:[c.x,c.y],z2:10});var h=l.getModel("label"),f=l.getModel("emphasis.label"),m=l.getModel("labelLine"),v=l.getModel("emphasis.labelLine");d=data.getItemVisual(e,"color");r.setLabelStyle(n.style,n.hoverStyle={},h,f,{labelFetcher:data.hostModel,labelDataIndex:e,defaultText:data.getName(e),autoColor:d,useInsideStyle:!!c.inside},{textAlign:c.textAlign,textVerticalAlign:c.verticalAlign,opacity:data.getItemVisual(e,"opacity")}),n.ignore=n.normalIgnore=!h.get("show"),n.hoverIgnore=!f.get("show"),t.ignore=t.normalIgnore=!m.get("show"),t.hoverIgnore=!v.get("show"),t.setStyle({stroke:d,opacity:data.getItemVisual(e,"opacity")}),t.setStyle(m.getModel("lineStyle").getLineStyle()),t.hoverStyle=v.getModel("lineStyle").getLineStyle();var y=m.get("smooth");y&&!0===y&&(y=.4),t.setShape({smooth:y})},o.inherits(h,r.Group);var m=l.extend({type:"pie",init:function(){var e=new r.Group;this._sectorGroup=e},render:function(e,t,n,r){if(!r||r.from!==this.uid){var data=e.getData(),l=this._data,d=this.group,f=t.get("animation"),m=!l,v=e.get("animationType"),y=o.curry(c,this.uid,e,f,n),x=e.get("selectedMode");if(data.diff(l).add(function(e){var t=new h(data,e);m&&"scale"!==v&&t.eachChild(function(e){e.stopAnimation(!0)}),x&&t.on("click",y),data.setItemGraphicEl(e,t),d.add(t)}).update(function(e,t){var n=l.getItemGraphicEl(t);n.updateData(data,e),n.off("click"),x&&n.on("click",y),d.add(n),data.setItemGraphicEl(e,n)}).remove(function(e){var t=l.getItemGraphicEl(e);d.remove(t)}).execute(),f&&m&&data.count()>0&&"scale"!==v){var _=data.getItemLayout(0),w=Math.max(n.getWidth(),n.getHeight())/2,S=o.bind(d.removeClipPath,d);d.setClipPath(this._createClipPath(_.cx,_.cy,w,_.startAngle,_.clockwise,S,e))}else d.removeClipPath();this._data=data}},dispose:function(){},_createClipPath:function(e,t,n,o,l,c,d){var h=new r.Sector({shape:{cx:e,cy:t,r0:0,r:n,startAngle:o,endAngle:o,clockwise:l}});return r.initProps(h,{shape:{endAngle:o+(l?1:-1)*Math.PI*2}},d,c),h},containPoint:function(e,t){var n=t.getData().getItemLayout(0);if(n){var o=e[0]-n.cx,r=e[1]-n.cy,l=Math.sqrt(o*o+r*r);return l<=n.r&&l>=n.r0}}});e.exports=m},function(e,t,n){var o=n(17),r=o.parsePercent,l=o.linearMap,c=n(631),d=n(0),h=2*Math.PI,f=Math.PI/180;e.exports=function(e,t,n,o){t.eachSeriesByType(e,function(e){var data=e.getData(),t=data.mapDimension("value"),o=e.get("center"),m=e.get("radius");d.isArray(m)||(m=[0,m]),d.isArray(o)||(o=[o,o]);var v=n.getWidth(),y=n.getHeight(),x=Math.min(v,y),_=r(o[0],v),w=r(o[1],y),S=r(m[0],x/2),M=r(m[1],x/2),I=-e.get("startAngle")*f,A=e.get("minAngle")*f,T=0;data.each(t,function(e){!isNaN(e)&&T++});var D=data.getSum(t),L=Math.PI/(D||T)*2,C=e.get("clockwise"),P=e.get("roseType"),N=e.get("stillShowZeroSum"),k=data.getDataExtent(t);k[0]=0;var O=h,R=0,E=I,z=C?1:-1;if(data.each(t,function(e,t){var n;if(isNaN(e))data.setItemLayout(t,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:C,cx:_,cy:w,r0:S,r:P?NaN:M});else{(n="area"!==P?0===D&&N?L:e*L:h/T)<A?(n=A,O-=A):R+=e;var o=E+z*n;data.setItemLayout(t,{angle:n,startAngle:E,endAngle:o,clockwise:C,cx:_,cy:w,r0:S,r:P?l(e,k,[S,M]):M}),E=o}}),O<h&&T)if(O<=.001){var V=h/T;data.each(t,function(e,t){if(!isNaN(e)){var n=data.getItemLayout(t);n.angle=V,n.startAngle=I+z*t*V,n.endAngle=I+z*(t+1)*V}})}else L=O/R,E=I,data.each(t,function(e,t){if(!isNaN(e)){var n=data.getItemLayout(t),o=n.angle===A?A:e*L;n.startAngle=E,n.endAngle=E+z*o,E+=z*o}});c(e,M,v,y)})}},function(e,t,n){var o=n(59);function r(e,t,n,o,r,l,c){function d(t,n,o,r){for(var l=t;l<n;l++)if(e[l].y+=o,l>t&&l+1<n&&e[l+1].y>e[l].y+e[l].height)return void h(l,o/2);h(n-1,o/2)}function h(t,n){for(var o=t;o>=0&&(e[o].y-=n,!(o>0&&e[o].y>e[o-1].y+e[o-1].height));o--);}function f(e,t,n,o,r,l){for(var c=t?Number.MAX_VALUE:0,i=0,d=e.length;i<d;i++){var h=Math.abs(e[i].y-o),f=e[i].len,m=e[i].len2,v=h<r+f?Math.sqrt((r+f+m)*(r+f+m)-h*h):Math.abs(e[i].x-n);t&&v>=c&&(v=c-10),!t&&v<=c&&(v=c+10),e[i].x=n+v*l,c=v}}e.sort(function(a,b){return a.y-b.y});for(var m,v=0,y=e.length,x=[],_=[],i=0;i<y;i++)(m=e[i].y-v)<0&&d(i,y,-m),v=e[i].y+e[i].height;c-v<0&&h(y-1,v-c);for(i=0;i<y;i++)e[i].y>=n?_.push(e[i]):x.push(e[i]);f(x,!1,t,n,o,r),f(_,!0,t,n,o,r)}function l(e){return"center"===e.position}e.exports=function(e,t,n,c){var d,h,data=e.getData(),f=[],m=!1;data.each(function(n){var r,l,c,v,y=data.getItemLayout(n),x=data.getItemModel(n),_=x.getModel("label"),w=_.get("position")||x.get("emphasis.label.position"),S=x.getModel("labelLine"),M=S.get("length"),I=S.get("length2"),A=(y.startAngle+y.endAngle)/2,T=Math.cos(A),D=Math.sin(A);d=y.cx,h=y.cy;var L="inside"===w||"inner"===w;if("center"===w)r=y.cx,l=y.cy,v="center";else{var C=(L?(y.r+y.r0)/2*T:y.r*T)+d,P=(L?(y.r+y.r0)/2*D:y.r*D)+h;if(r=C+3*T,l=P+3*D,!L){var N=C+T*(M+t-y.r),k=P+D*(M+t-y.r),O=N+(T<0?-1:1)*I;r=O+(T<0?-5:5),l=k,c=[[C,P],[N,k],[O,k]]}v=L?"center":T>0?"left":"right"}var R=_.getFont(),E=_.get("rotate")?T<0?-A+Math.PI:-A:0,text=e.getFormattedLabel(n,"normal")||data.getName(n),z=o.getBoundingRect(text,R,v,"top");m=!!E,y.label={x:r,y:l,position:w,height:z.height,len:M,len2:I,linePoints:c,textAlign:v,verticalAlign:"middle",rotation:E,inside:L},L||f.push(y.label)}),!m&&e.get("avoidLabelOverlap")&&function(e,t,n,o,c,d){for(var h=[],f=[],i=0;i<e.length;i++)l(e[i])||(e[i].x<t?h.push(e[i]):f.push(e[i]));for(r(f,t,n,o,1,0,d),r(h,t,n,o,-1,0,d),i=0;i<e.length;i++)if(!l(e[i])){var m=e[i].linePoints;if(m){var v=m[1][0]-m[2][0];e[i].x<t?m[2][0]=e[i].x+3:m[2][0]=e[i].x-3,m[1][1]=m[2][1]=e[i].y,m[1][0]=m[2][0]+v}}}(f,d,h,t,0,c)}},function(e,t,n){var o=n(31);n(633),n(634);var r=n(484),l=n(491);n(492),o.registerVisual(r("scatter","circle")),o.registerLayout(l("scatter"))},function(e,t,n){var o=n(260),r=n(257).extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(option,e){return o(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8}}});e.exports=r},function(e,t,n){var o=n(31),r=n(490),l=n(635),c=n(491);o.extendChartView({type:"scatter",render:function(e,t,n){var data=e.getData();this._updateSymbolDraw(data,e).updateData(data),this._finished=!0},incrementalPrepareRender:function(e,t,n){var data=e.getData();this._updateSymbolDraw(data,e).incrementalPrepareUpdate(data),this._finished=!1},incrementalRender:function(e,t,n){this._symbolDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,n){var data=e.getData();if(this.group.dirty(),!this._finished||data.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var o=c().reset(e);o.progress&&o.progress({start:0,end:data.count()},data),this._symbolDraw.updateLayout(data)},_updateSymbolDraw:function(data,e){var t=this._symbolDraw,n=e.pipelineContext.large;return t&&n===this._isLargeDraw||(t&&t.remove(),t=this._symbolDraw=n?new l:new r,this._isLargeDraw=n,this.group.removeAll()),this.group.add(t.group),t},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}})},function(e,t,n){var o=n(55),r=n(258).createSymbol,l=n(266),c=o.extendShape({shape:{points:null},symbolProxy:null,buildPath:function(path,e){var t=e.points,n=e.size,o=this.symbolProxy,r=o.shape;if(!((path.getContext?path.getContext():path)&&n[0]<4))for(var i=0;i<t.length;){var l=t[i++],c=t[i++];isNaN(l)||isNaN(c)||(r.x=l-n[0]/2,r.y=c-n[1]/2,r.width=n[0],r.height=n[1],o.buildPath(path,r,!0))}},afterBrush:function(e){var t=this.shape,n=t.points,o=t.size;if(o[0]<4){this.setTransform(e);for(var i=0;i<n.length;){var r=n[i++],l=n[i++];isNaN(r)||isNaN(l)||e.fillRect(r-o[0]/2,l-o[1]/2,o[0],o[1])}this.restoreTransform(e)}},findDataIndex:function(e,t){for(var n=this.shape,o=n.points,r=n.size,l=Math.max(r[0],4),c=Math.max(r[1],4),d=o.length/2-1;d>=0;d--){var i=2*d,h=o[i]-l/2,f=o[i+1]-c/2;if(e>=h&&t>=f&&e<=h+l&&t<=f+c)return d}return-1}});function d(){this.group=new o.Group}var h=d.prototype;h.isPersistent=function(){return!this._incremental},h.updateData=function(data){this.group.removeAll();var e=new c({rectHover:!0,cursor:"default"});e.setShape({points:data.getLayout("symbolPoints")}),this._setCommon(e,data),this.group.add(e),this._incremental=null},h.updateLayout=function(data){if(!this._incremental){var e=data.getLayout("symbolPoints");this.group.eachChild(function(t){if(null!=t.startIndex){var n=2*(t.endIndex-t.startIndex),o=4*t.startIndex*2;e=new Float32Array(e.buffer,o,n)}t.setShape("points",e)})}},h.incrementalPrepareUpdate=function(data){this.group.removeAll(),this._clearIncremental(),data.count()>2e6?(this._incremental||(this._incremental=new l({silent:!0})),this.group.add(this._incremental)):this._incremental=null},h.incrementalUpdate=function(e,data){var t;this._incremental?(t=new c,this._incremental.addDisplayable(t,!0)):((t=new c({rectHover:!0,cursor:"default",startIndex:e.start,endIndex:e.end})).incremental=!0,this.group.add(t)),t.setShape({points:data.getLayout("symbolPoints")}),this._setCommon(t,data,!!this._incremental)},h._setCommon=function(e,data,t){var n=data.hostModel,o=data.getVisual("symbolSize");e.setShape("size",o instanceof Array?o:[o,o]),e.symbolProxy=r(data.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var l=e.shape.size[0]<4;e.useStyle(n.getModel("itemStyle").getItemStyle(l?["color","shadowBlur","shadowColor"]:["color"]));var c=data.getVisual("color");c&&e.setColor(c),t||(e.seriesIndex=n.seriesIndex,e.on("mousemove",function(t){e.dataIndex=null;var n=e.findDataIndex(t.offsetX,t.offsetY);n>=0&&(e.dataIndex=n+(e.startIndex||0))}))},h.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},h._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var f=d;e.exports=f},function(e,t,n){var o=n(31);n(637),n(642),n(643);var r=n(503),l=n(484),c=n(644),d=n(493),h=n(645);o.registerVisual(r("radar")),o.registerVisual(l("radar","circle")),o.registerLayout(c),o.registerProcessor(d("radar")),o.registerPreprocessor(h)},function(e,t,n){n(638),n(640),n(641)},function(e,t,n){var o=n(0),r=n(639),l=n(116),c=n(17),d=n(161),h=d.getScaleExtent,f=d.niceScaleExtent,m=n(160);function v(e,t,n){this._model=e,this.dimensions=[],this._indicatorAxes=o.map(e.getIndicatorModels(),function(e,t){var n="indicator_"+t,o=new r(n,new l);return o.name=e.get("name"),o.model=e,e.axis=o,this.dimensions.push(n),o},this),this.resize(e,n),this.cx,this.cy,this.r,this.r0,this.startAngle}v.prototype.getIndicatorAxes=function(){return this._indicatorAxes},v.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)},v.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(n),this.cy-e*Math.sin(n)]},v.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,o=Math.sqrt(t*t+n*n);t/=o,n/=o;for(var r,l=Math.atan2(-n,t),c=1/0,d=-1,i=0;i<this._indicatorAxes.length;i++){var h=this._indicatorAxes[i],f=Math.abs(l-h.angle);f<c&&(r=h,d=i,c=f)}return[d,+(r&&r.coodToData(o))]},v.prototype.resize=function(e,t){var n=e.get("center"),r=t.getWidth(),l=t.getHeight(),d=Math.min(r,l)/2;this.cx=c.parsePercent(n[0],r),this.cy=c.parsePercent(n[1],l),this.startAngle=e.get("startAngle")*Math.PI/180;var h=e.get("radius");"string"!=typeof h&&"number"!=typeof h||(h=[0,h]),this.r0=c.parsePercent(h[0],d),this.r=c.parsePercent(h[1],d),o.each(this._indicatorAxes,function(e,t){e.setExtent(this.r0,this.r);var n=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),e.angle=n},this)},v.prototype.update=function(e,t){var n=this._indicatorAxes,r=this._model;o.each(n,function(e){e.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(t,l){if("radar"===t.get("coordinateSystem")&&e.getComponent("radar",t.get("radarIndex"))===r){var data=t.getData();o.each(n,function(e){e.scale.unionExtentFromData(data,data.mapDimension(e.dim))})}},this);var l=r.get("splitNumber");function d(e){var t=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),n=e/t;return 2===n?n=5:n*=2,n*t}o.each(n,function(e,t){var n=h(e.scale,e.model);f(e.scale,e.model);var o=e.model,r=e.scale,m=o.getMin(),v=o.getMax(),y=r.getInterval();if(null!=m&&null!=v)r.setExtent(+m,+v),r.setInterval((v-m)/l);else if(null!=m){var x;do{x=m+y*l,r.setExtent(+m,x),r.setInterval(y),y=d(y)}while(x<n[1]&&isFinite(x)&&isFinite(n[1]))}else if(null!=v){var _;do{_=v-y*l,r.setExtent(_,+v),r.setInterval(y),y=d(y)}while(_>n[0]&&isFinite(_)&&isFinite(n[0]))}else{r.getTicks().length-1>l&&(y=d(y));var w=Math.round((n[0]+n[1])/2/y)*y,S=Math.round(l/2);r.setExtent(c.round(w-S*y),c.round(w+(l-S)*y)),r.setInterval(y)}})},v.dimensions=[],v.create=function(e,t){var n=[];return e.eachComponent("radar",function(o){var r=new v(o,e,t);n.push(r),o.coordinateSystem=r}),e.eachSeriesByType("radar",function(e){"radar"===e.get("coordinateSystem")&&(e.coordinateSystem=n[e.get("radarIndex")||0])}),n},m.register("radar",v);var y=v;e.exports=y},function(e,t,n){var o=n(0),r=n(261);function l(e,t,n){r.call(this,e,t,n),this.type="value",this.angle=0,this.name="",this.model}o.inherits(l,r);var c=l;e.exports=c},function(e,t,n){var o=n(31),r=n(0),l=n(557),c=n(57),d=n(264),h=l.valueAxis;function f(e,t){return r.defaults({show:t},e)}var m=o.extendComponentModel({type:"radar",optionUpdated:function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),n=this.get("scale"),o=this.get("axisLine"),l=this.get("axisTick"),h=this.get("axisLabel"),f=this.get("name"),m=this.get("name.show"),v=this.get("name.formatter"),y=this.get("nameGap"),x=this.get("triggerEvent"),_=r.map(this.get("indicator")||[],function(_){null!=_.max&&_.max>0&&!_.min?_.min=0:null!=_.min&&_.min<0&&!_.max&&(_.max=0);var w=f;if(null!=_.color&&(w=r.defaults({color:_.color},f)),_=r.merge(r.clone(_),{boundaryGap:e,splitNumber:t,scale:n,axisLine:o,axisTick:l,axisLabel:h,name:_.text,nameLocation:"end",nameGap:y,nameTextStyle:w,triggerEvent:x},!1),m||(_.name=""),"string"==typeof v){var S=_.name;_.name=v.replace("{value}",null!=S?S:"")}else"function"==typeof v&&(_.name=v(_.name,_));var M=r.extend(new c(_,null,this.ecModel),d);return M.mainType="radar",M.componentIndex=this.componentIndex,M},this);this.getIndicatorModels=function(){return _}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:r.merge({lineStyle:{color:"#bbb"}},h.axisLine),axisLabel:f(h.axisLabel,!1),axisTick:f(h.axisTick,!1),splitLine:f(h.splitLine,!0),splitArea:f(h.splitArea,!0),indicator:[]}});e.exports=m},function(e,t,n){n(12).__DEV__;var o=n(31),r=n(0),l=n(481),c=n(55),d=["axisLine","axisTickLabel","axisName"],h=o.extendComponentView({type:"radar",render:function(e,t,n){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},_buildAxes:function(e){var t=e.coordinateSystem,n=t.getIndicatorAxes(),o=r.map(n,function(e){return new l(e.model,{position:[t.cx,t.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});r.each(o,function(e){r.each(d,e.add,e),this.group.add(e.getGroup())},this)},_buildSplitLineAndArea:function(e){var t=e.coordinateSystem,n=t.getIndicatorAxes();if(n.length){var o=e.get("shape"),l=e.getModel("splitLine"),d=e.getModel("splitArea"),h=l.getModel("lineStyle"),f=d.getModel("areaStyle"),m=l.get("show"),v=d.get("show"),y=h.get("color"),x=f.get("color");y=r.isArray(y)?y:[y],x=r.isArray(x)?x:[x];var _=[],w=[];if("circle"===o)for(var S=n[0].getTicksCoords(),M=t.cx,I=t.cy,i=0;i<S.length;i++){if(m)_[k(_,y,i)].push(new c.Circle({shape:{cx:M,cy:I,r:S[i].coord}}));if(v&&i<S.length-1)w[k(w,x,i)].push(new c.Ring({shape:{cx:M,cy:I,r0:S[i].coord,r:S[i+1].coord}}))}else{var A,T=r.map(n,function(e,n){var o=e.getTicksCoords();return A=null==A?o.length-1:Math.min(o.length-1,A),r.map(o,function(e){return t.coordToPoint(e.coord,n)})}),D=[];for(i=0;i<=A;i++){for(var L=[],C=0;C<n.length;C++)L.push(T[C][i]);if(L[0]&&L.push(L[0].slice()),m)_[k(_,y,i)].push(new c.Polyline({shape:{points:L}}));if(v&&D)w[k(w,x,i-1)].push(new c.Polygon({shape:{points:L.concat(D)}}));D=L.slice().reverse()}}var P=h.getLineStyle(),N=f.getAreaStyle();r.each(w,function(e,t){this.group.add(c.mergePath(e,{style:r.defaults({stroke:"none",fill:x[t%x.length]},N),silent:!0}))},this),r.each(_,function(e,t){this.group.add(c.mergePath(e,{style:r.defaults({fill:"none",stroke:y[t%y.length]},P),silent:!0}))},this)}function k(e,t,n){var o=n%t.length;return e[o]=e[o]||[],o}}});e.exports=h},function(e,t,n){var o=n(257),r=n(486),l=n(0),c=n(40).encodeHTML,d=o.extend({type:"series.radar",dependencies:["radar"],init:function(option){d.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(option,e){return r(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(e){var data=this.getData(),t=this.coordinateSystem.getIndicatorAxes(),n=this.getData().getName(e);return c(""===n?this.name:n)+"<br/>"+l.map(t,function(t,n){var o=data.get(data.mapDimension(t.dim),e);return c(t.name+" : "+o)}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}}),h=d;e.exports=h},function(e,t,n){var o=n(31),r=n(55),l=n(0),c=n(258);var d=o.extendChartView({type:"radar",render:function(e,t,n){var o=e.coordinateSystem,d=this.group,data=e.getData(),h=this._data;function f(data,e){var t=data.getItemVisual(e,"symbol")||"circle",n=data.getItemVisual(e,"color");if("none"!==t){var o=function(e){return l.isArray(e)||(e=[+e,+e]),e}(data.getItemVisual(e,"symbolSize")),r=c.createSymbol(t,-1,-1,2,2,n);return r.attr({style:{strokeNoScale:!0},z2:100,scale:[o[0]/2,o[1]/2]}),r}}function m(t,n,o,data,l,c){o.removeAll();for(var i=0;i<n.length-1;i++){var d=f(data,l);d&&(d.__dimIdx=i,t[i]?(d.attr("position",t[i]),r[c?"initProps":"updateProps"](d,{position:n[i]},e,l)):d.attr("position",n[i]),o.add(d))}}function v(e){return l.map(e,function(e){return[o.cx,o.cy]})}data.diff(h).add(function(t){var n=data.getItemLayout(t);if(n){var polygon=new r.Polygon,polyline=new r.Polyline,o={shape:{points:n}};polygon.shape.points=v(n),polyline.shape.points=v(n),r.initProps(polygon,o,e,t),r.initProps(polyline,o,e,t);var l=new r.Group,c=new r.Group;l.add(polyline),l.add(polygon),l.add(c),m(polyline.shape.points,n,c,data,t,!0),data.setItemGraphicEl(t,l)}}).update(function(t,n){var o=h.getItemGraphicEl(n),polyline=o.childAt(0),polygon=o.childAt(1),l=o.childAt(2),c={shape:{points:data.getItemLayout(t)}};c.shape.points&&(m(polyline.shape.points,c.shape.points,l,data,t,!1),r.updateProps(polyline,c,e),r.updateProps(polygon,c,e),data.setItemGraphicEl(t,o))}).remove(function(e){d.remove(h.getItemGraphicEl(e))}).execute(),data.eachItemGraphicEl(function(e,t){var n=data.getItemModel(t),polyline=e.childAt(0),polygon=e.childAt(1),o=e.childAt(2),c=data.getItemVisual(t,"color");d.add(e),polyline.useStyle(l.defaults(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:c})),polyline.hoverStyle=n.getModel("emphasis.lineStyle").getLineStyle();var h=n.getModel("areaStyle"),f=n.getModel("emphasis.areaStyle"),m=h.isEmpty()&&h.parentModel.isEmpty(),v=f.isEmpty()&&f.parentModel.isEmpty();v=v&&m,polygon.ignore=m,polygon.useStyle(l.defaults(h.getAreaStyle(),{fill:c,opacity:.7})),polygon.hoverStyle=f.getAreaStyle();var y=n.getModel("itemStyle").getItemStyle(["color"]),x=n.getModel("emphasis.itemStyle").getItemStyle(),_=n.getModel("label"),w=n.getModel("emphasis.label");function S(){polygon.attr("ignore",v)}function M(){polygon.attr("ignore",m)}o.eachChild(function(e){e.setStyle(y),e.hoverStyle=l.clone(x),r.setLabelStyle(e.style,e.hoverStyle,_,w,{labelFetcher:data.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:data.get(data.dimensions[e.__dimIdx],t),autoColor:c,isRectText:!0})}),e.off("mouseover").off("mouseout").off("normal").off("emphasis"),e.on("emphasis",S).on("mouseover",S).on("normal",M).on("mouseout",M),r.setHoverStyle(e)}),this._data=data},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});e.exports=d},function(e,t){e.exports=function(e){e.eachSeriesByType("radar",function(e){var data=e.getData(),t=[],n=e.coordinateSystem;if(n){for(var o=n.getIndicatorAxes(),i=0;i<o.length;i++)data.each(data.mapDimension(o[i].dim),r);data.each(function(e){t[e][0]&&t[e].push(t[e][0].slice()),data.setItemLayout(e,t[e])})}function r(e,o){t[o]=t[o]||[],t[o][i]=n.dataToPoint(e,i)}})}},function(e,t,n){var o=n(0);e.exports=function(option){var e=option.polar;if(e){o.isArray(e)||(e=[e]);var t=[];o.each(e,function(e,n){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),option.radar=option.radar||[],o.isArray(option.radar)||(option.radar=[option.radar]),option.radar.push(e)):t.push(e)}),option.polar=t}o.each(option.series,function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)})}},function(e,t,n){var o=n(31);n(647),n(648),n(649);var r=n(484),l=n(650);o.registerVisual(r("tree","circle")),o.registerLayout(l)},function(e,t,n){var o=n(257),r=n(516),l=n(40).encodeHTML,c=o.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(option){var e={name:option.name,children:option.data},t=option.leaves||{},n={};n.leaves=t;var o=r.createTree(e,this,n),l=0;o.eachNode("preorder",function(e){e.depth>l&&(l=e.depth)});var c=option.expandAndCollapse&&option.initialTreeDepth>=0?option.initialTreeDepth:l;return o.root.eachNode("preorder",function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=c}),o.data},getOrient:function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},formatTooltip:function(e){for(var t=this.getData().tree,n=t.root.children[0],o=t.getNodeByDataIndex(e),r=o.getValue(),c=o.name;o&&o!==n;)c=o.parentNode.name+"."+c,o=o.parentNode;return l(c+(isNaN(r)||null==r?"":" : "+r))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});e.exports=c},function(e,t,n){var o=n(0),r=n(55),l=n(501),c=n(562).radialCoordinate,d=n(31),h=n(169),f=n(510),m=n(507),v=n(487),y=n(497).onIrrelevantElement,x=d.extendChartView({type:"tree",init:function(e,t){this._oldTree,this._mainGroup=new r.Group,this._controller=new v(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(e,t,n,o){var data=e.getData(),r=e.layoutInfo,l=this._mainGroup,c=e.get("layout");"radial"===c?l.attr("position",[r.x+r.width/2,r.y+r.height/2]):l.attr("position",[r.x,r.y]),this._updateViewCoordSys(e),this._updateController(e,t,n);var d=this._data,h={expandAndCollapse:e.get("expandAndCollapse"),layout:c,orient:e.getOrient(),curvature:e.get("lineStyle.curveness"),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};data.diff(d).add(function(t){_(data,t)&&S(data,t,null,l,e,h)}).update(function(t,n){var o=d.getItemGraphicEl(n);_(data,t)?S(data,t,o,l,e,h):o&&M(d,n,o,l,e,h)}).remove(function(t){var n=d.getItemGraphicEl(t);n&&M(d,t,n,l,e,h)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===h.expandAndCollapse&&data.eachItemGraphicEl(function(t,o){t.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:o})})}),this._data=data},_updateViewCoordSys:function(e){var data=e.getData(),t=[];data.each(function(e){var n=data.getItemLayout(e);!n||isNaN(n.x)||isNaN(n.y)||t.push([+n.x,+n.y])});var n=[],o=[];h.fromPoints(t,n,o),o[0]-n[0]==0&&(o[0]+=1,n[0]-=1),o[1]-n[1]==0&&(o[1]+=1,n[1]-=1);var r=e.coordinateSystem=new f;r.zoomLimit=e.get("scaleLimit"),r.setBoundingRect(n[0],n[1],o[0]-n[0],o[1]-n[1]),r.setCenter(e.get("center")),r.setZoom(e.get("zoom")),this.group.attr({position:r.position,scale:r.scale}),this._viewCoordSys=r},_updateController:function(e,t,n){var o=this._controller,r=this._controllerHost,l=this.group;o.setPointerChecker(function(t,o,r){var rect=l.getBoundingRect();return rect.applyTransform(l.transform),rect.contain(o,r)&&!y(t,n,e)}),o.enable(e.get("roam")),r.zoomLimit=e.get("scaleLimit"),r.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(t){m.updateViewOnPan(r,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})},this).on("zoom",function(t){m.updateViewOnZoom(r,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),this._updateNodeAndLinkScale(e)},this)},_updateNodeAndLinkScale:function(e){var data=e.getData(),t=this._getNodeGlobalScale(e),n=[t,t];data.eachItemGraphicEl(function(e,t){e.attr("scale",n)})},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=this._nodeScaleRatio,o=t.scale,r=o&&o[0]||1;return((t.getZoom()-1)*n+1)/r},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}});function _(data,e){var t=data.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)&&"none"!==data.getItemVisual(e,"symbol")}function w(e,t,n){return n.itemModel=t,n.itemStyle=t.getModel("itemStyle").getItemStyle(),n.hoverItemStyle=t.getModel("emphasis.itemStyle").getItemStyle(),n.lineStyle=t.getModel("lineStyle").getLineStyle(),n.labelModel=t.getModel("label"),n.hoverLabelModel=t.getModel("emphasis.label"),!1===e.isExpand&&0!==e.children.length?n.symbolInnerColor=n.itemStyle.fill:n.symbolInnerColor="#fff",n}function S(data,e,t,n,c,d){var h=!t,f=data.tree.getNodeByDataIndex(e),m=f.getModel(),v=(d=w(f,m,d),data.tree.root),source=f.parentNode===v?f:f.parentNode||f,y=data.getItemGraphicEl(source.dataIndex),x=source.getLayout(),_=y?{x:y.position[0],y:y.position[1],rawX:y.__radialOldRawX,rawY:y.__radialOldRawY}:x,S=f.getLayout();h?(t=new l(data,e,d)).attr("position",[_.x,_.y]):t.updateData(data,e,d),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=S.rawX,t.__radialRawY=S.rawY,n.add(t),data.setItemGraphicEl(e,t),r.updateProps(t,{position:[S.x,S.y]},c);var M=t.getSymbolPath();if("radial"===d.layout){var A,T,D=v.children[0],L=D.getLayout(),C=D.children.length;if(S.x===L.x&&!0===f.isExpand){var P={};P.x=(D.children[0].getLayout().x+D.children[C-1].getLayout().x)/2,P.y=(D.children[0].getLayout().y+D.children[C-1].getLayout().y)/2,(A=Math.atan2(P.y-L.y,P.x-L.x))<0&&(A=2*Math.PI+A),(T=P.x<L.x)&&(A-=Math.PI)}else(A=Math.atan2(S.y-L.y,S.x-L.x))<0&&(A=2*Math.PI+A),0===f.children.length||0!==f.children.length&&!1===f.isExpand?(T=S.x<L.x)&&(A-=Math.PI):(T=S.x>L.x)||(A-=Math.PI);var N=T?"left":"right";M.setStyle({textPosition:N,textRotation:-A,textOrigin:"center",verticalAlign:"middle"})}if(f.parentNode&&f.parentNode!==v){var k=t.__edge;k||(k=t.__edge=new r.BezierCurve({shape:I(d,_,_),style:o.defaults({opacity:0,strokeNoScale:!0},d.lineStyle)})),r.updateProps(k,{shape:I(d,x,S),style:{opacity:1}},c),n.add(k)}}function M(data,e,t,n,o,l){for(var c,d=data.tree.getNodeByDataIndex(e),h=data.tree.root,f=d.getModel(),source=(l=w(d,f,l),d.parentNode===h?d:d.parentNode||d);null==(c=source.getLayout());)source=source.parentNode===h?source:source.parentNode||source;r.updateProps(t,{position:[c.x+1,c.y+1]},o,function(){n.remove(t),data.setItemGraphicEl(e,null)}),t.fadeOut(null,{keepLabel:!0});var m=t.__edge;m&&r.updateProps(m,{shape:I(l,c,c),style:{opacity:0}},o,function(){n.remove(m)})}function I(e,t,n){var o,r,l,d,h,f,m,v,y=e.orient;if("radial"===e.layout){h=t.rawX,m=t.rawY,f=n.rawX,v=n.rawY;var x=c(h,m),_=c(h,m+(v-m)*e.curvature),w=c(f,v+(m-v)*e.curvature),S=c(f,v);return{x1:x.x,y1:x.y,x2:S.x,y2:S.y,cpx1:_.x,cpy1:_.y,cpx2:w.x,cpy2:w.y}}return h=t.x,m=t.y,f=n.x,v=n.y,"LR"!==y&&"RL"!==y||(o=h+(f-h)*e.curvature,r=m,l=f+(h-f)*e.curvature,d=v),"TB"!==y&&"BT"!==y||(o=h,r=m+(v-m)*e.curvature,l=f,d=v+(m-v)*e.curvature),{x1:h,y1:m,x2:f,y2:v,cpx1:o,cpy1:r,cpx2:l,cpy2:d}}e.exports=x},function(e,t,n){var o=n(31),r=n(508).updateCenterAndZoom;o.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(t){var n=e.dataIndex,o=t.getData().tree.getNodeByDataIndex(n);o.isExpand=!o.isExpand})}),o.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(t){var n=t.coordinateSystem,o=r(n,e);t.setCenter&&t.setCenter(o.center),t.setZoom&&t.setZoom(o.zoom)})})},function(e,t,n){var o=n(651),r=o.eachAfter,l=o.eachBefore,c=n(562),d=c.init,h=c.firstWalk,f=c.secondWalk,m=c.separation,v=c.radialCoordinate,y=c.getViewRect;e.exports=function(e,t){e.eachSeriesByType("tree",function(e){!function(e,t){var n=y(e,t);e.layoutInfo=n;var o=e.get("layout"),c=0,x=0,_=null;"radial"===o?(c=2*Math.PI,x=Math.min(n.height,n.width)/2,_=m(function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth})):(c=n.width,x=n.height,_=m());var w=e.getData().tree.root,S=w.children[0];if(S){d(w),r(S,h,_),w.hierNode.modifier=-S.hierNode.prelim,l(S,f);var M=S,I=S,A=S;l(S,function(e){var t=e.getLayout().x;t<M.getLayout().x&&(M=e),t>I.getLayout().x&&(I=e),e.depth>A.depth&&(A=e)});var T=M===I?1:_(M,I)/2,D=T-M.getLayout().x,L=0,C=0,P=0,N=0;if("radial"===o)L=c/(I.getLayout().x+T+D),C=x/(A.depth-1||1),l(S,function(e){P=(e.getLayout().x+D)*L,N=(e.depth-1)*C;var t=v(P,N);e.setLayout({x:t.x,y:t.y,rawX:P,rawY:N},!0)});else{var k=e.getOrient();"RL"===k||"LR"===k?(C=x/(I.getLayout().x+T+D),L=c/(A.depth-1||1),l(S,function(e){N=(e.getLayout().x+D)*C,P="LR"===k?(e.depth-1)*L:c-(e.depth-1)*L,e.setLayout({x:P,y:N},!0)})):"TB"!==k&&"BT"!==k||(L=c/(I.getLayout().x+T+D),C=x/(A.depth-1||1),l(S,function(e){P=(e.getLayout().x+D)*L,N="TB"===k?(e.depth-1)*C:x-(e.depth-1)*C,e.setLayout({x:P,y:N},!0)}))}}}(e,t)})}},function(e,t){t.eachAfter=function(e,t,n){for(var o,r=[e],l=[];o=r.pop();)if(l.push(o),o.isExpand){var c=o.children;if(c.length)for(var i=0;i<c.length;i++)r.push(c[i])}for(;o=l.pop();)t(o,n)},t.eachBefore=function(e,t){for(var n,o=[e];n=o.pop();)if(t(n),n.isExpand){var r=n.children;if(r.length)for(var i=r.length-1;i>=0;i--)o.push(r[i])}}},function(e,t,n){var o=n(31);n(653),n(654),n(657);var r=n(658),l=n(659);o.registerVisual(r),o.registerLayout(l)},function(e,t,n){var o=n(0),r=n(257),l=n(516),c=n(57),d=n(40),h=d.encodeHTML,f=d.addCommas,m=n(485).wrapTreePathInfo,v=r.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(option,e){var t={name:option.name,children:option.data};!function e(t){var n=0;o.each(t.children,function(t){e(t);var r=t.value;o.isArray(r)&&(r=r[0]),n+=r});var r=t.value;o.isArray(r)&&(r=r[0]);(null==r||isNaN(r))&&(r=n);r<0&&(r=0);o.isArray(t.value)?t.value[0]=r:t.value=r}(t);var n=option.levels||[];n=option.levels=function(e,t){var n,r=t.get("color");if(!r)return;if(e=e||[],o.each(e,function(e){var t=new c(e),o=t.get("color");(t.get("itemStyle.color")||o&&"none"!==o)&&(n=!0)}),!n){var l=e[0]||(e[0]={});l.color=r.slice()}return e}(n,e);var r={};return r.levels=n,l.createTree(t,this,r).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(e){var data=this.getData(),t=this.getRawValue(e),n=o.isArray(t)?f(t[0]):f(t),r=data.getName(e);return h(r+": "+n)},getDataParams:function(e){var t=r.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=m(n,this),t},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{},o.extend(this.layoutInfo,e)},mapIdToIndex:function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=o.createHashMap(),this._idIndexMapCount=0);var n=t.get(e);return null==n&&t.set(e,n=this._idIndexMapCount++),n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});e.exports=v},function(e,t,n){var o=n(31),r=n(0),l=n(55),c=n(263),d=n(485),h=n(655),f=n(487),m=n(13),v=n(58),y=n(656),x=n(113),_=r.bind,w=l.Group,S=l.Rect,M=r.each,I=["label"],A=["emphasis","label"],T=["upperLabel"],D=["emphasis","upperLabel"],L=10,C=1,P=2,N=x([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),k=function(e){var t=N(e);return t.stroke=t.fill=t.lineWidth=null,t},O=o.extendChartView({type:"treemap",init:function(e,t){this._containerGroup,this._storage={nodeGroup:[],background:[],content:[]},this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(e,t,n,o){var l=t.findComponents({mainType:"series",subType:"treemap",query:o});if(!(r.indexOf(l,e)<0)){this.seriesModel=e,this.api=n,this.ecModel=t;var c=d.retrieveTargetInfo(o,["treemapZoomToNode","treemapRootToNode"],e),h=o&&o.type,f=e.layoutInfo,m=!this._oldTree,v=this._storage,y="treemapRootToNode"===h&&c&&v?{rootNodeGroup:v.nodeGroup[c.node.getRawIndex()],direction:o.direction}:null,x=this._giveContainerGroup(f),_=this._doRender(x,e,y);m||h&&"treemapZoomToNode"!==h&&"treemapRootToNode"!==h?_.renderFinally():this._doAnimation(x,_,e,y),this._resetController(n),this._renderBreadcrumb(e,n,c)}},_giveContainerGroup:function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new w,this._initEvents(t),this.group.add(t)),t.attr("position",[e.x,e.y]),t},_doRender:function(e,t,n){var o=t.getData().tree,l=this._oldTree,d={nodeGroup:[],background:[],content:[]},h={nodeGroup:[],background:[],content:[]},f=this._storage,m=[],v=r.curry(R,t,h,f,n,d,m);!function e(t,n,o,l,d){l?(n=t,M(t,function(e,t){!e.isRemoved()&&f(t,t)})):new c(n,t,h,h).add(f).update(f).remove(r.curry(f,null)).execute();function h(e){return e.getId()}function f(r,c){var h=null!=r?t[r]:null,f=null!=c?n[c]:null,m=v(h,f,o,d);m&&e(h&&h.viewChildren||[],f&&f.viewChildren||[],m,l,d+1)}}(o.root?[o.root]:[],l&&l.root?[l.root]:[],e,o===l||!l,0);var y=function(e){var t={nodeGroup:[],background:[],content:[]};return e&&M(e,function(e,n){var o=t[n];M(e,function(e){e&&(o.push(e),e.__tmWillDelete=1)})}),t}(f);return this._oldTree=o,this._storage=h,{lastsForAnimation:d,willDeleteEls:y,renderFinally:function(){M(y,function(e){M(e,function(e){e.parent&&e.parent.remove(e)})}),M(m,function(e){e.invisible=!0,e.dirty()})}}},_doAnimation:function(e,t,n,o){if(n.get("animation")){var l=n.get("animationDurationUpdate"),c=n.get("animationEasing"),d=y.createWrap();M(t.willDeleteEls,function(e,t){M(e,function(e,n){if(!e.invisible){var r,h=e.parent;if(o&&"drillDown"===o.direction)r=h===o.rootNodeGroup?{shape:{x:0,y:0,width:h.__tmNodeWidth,height:h.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var f=0,m=0;h.__tmWillDelete||(f=h.__tmNodeWidth/2,m=h.__tmNodeHeight/2),r="nodeGroup"===t?{position:[f,m],style:{opacity:0}}:{shape:{x:f,y:m,width:0,height:0},style:{opacity:0}}}r&&d.add(e,r,l,c)}})}),M(this._storage,function(e,n){M(e,function(e,o){var h=t.lastsForAnimation[n][o],f={};h&&("nodeGroup"===n?h.old&&(f.position=e.position.slice(),e.attr("position",h.old)):(h.old&&(f.shape=r.extend({},e.shape),e.setShape(h.old)),h.fadein?(e.setStyle("opacity",0),f.style={opacity:1}):1!==e.style.opacity&&(f.style={opacity:1})),d.add(e,f,l,c))})},this),this._state="animating",d.done(_(function(){this._state="ready",t.renderFinally()},this)).start()}},_resetController:function(e){var t=this._controller;t||((t=this._controller=new f(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",_(this._onPan,this)),t.on("zoom",_(this._onZoom,this)));var rect=new m(0,0,e.getWidth(),e.getHeight());t.setPointerChecker(function(e,t,n){return rect.contain(t,n)})},_clearController:function(){var e=this._controller;e&&(e.dispose(),e=null)},_onPan:function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var t=this.seriesModel.getData().tree.root;if(!t)return;var n=t.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+e.dx,y:n.y+e.dy,width:n.width,height:n.height}})}},_onZoom:function(e){var t=e.originX,n=e.originY;if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var r=o.getLayout();if(!r)return;var rect=new m(r.x,r.y,r.width,r.height),l=this.seriesModel.layoutInfo;t-=l.x,n-=l.y;var c=v.create();v.translate(c,c,[-t,-n]),v.scale(c,c,[e.scale,e.scale]),v.translate(c,c,[t,n]),rect.applyTransform(c),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:rect.x,y:rect.y,width:rect.width,height:rect.height}})}},_initEvents:function(e){e.on("click",function(e){if("ready"===this._state){var t=this.seriesModel.get("nodeClick",!0);if(t){var n=this.findTarget(e.offsetX,e.offsetY);if(n){var o=n.node;if(o.getLayout().isLeafRoot)this._rootToNode(n);else if("zoomToNode"===t)this._zoomToNode(n);else if("link"===t){var r=o.hostTree.data.getItemModel(o.dataIndex),link=r.get("link",!0),l=r.get("target",!0)||"blank";link&&window.open(link,l)}}}}},this)},_renderBreadcrumb:function(e,t,n){n||(n=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(n={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new h(this.group))).render(e,t,n.node,_(function(t){"animating"!==this._state&&(d.aboveViewRoot(e.getViewRoot(),t)?this._rootToNode({node:t}):this._zoomToNode({node:t}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,t){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(o){var r=this._storage.background[o.getRawIndex()];if(r){var l=r.transformCoordToLocal(e,t),c=r.shape;if(!(c.x<=l[0]&&l[0]<=c.x+c.width&&c.y<=l[1]&&l[1]<=c.y+c.height))return!1;n={node:o,offsetX:l[0],offsetY:l[1]}}},this),n}});function R(e,t,n,o,c,d,h,f,m,v){if(h){var y=h.getLayout();if(y&&y.isInView){var x=y.width,_=y.height,M=y.borderWidth,L=y.invisible,O=h.getRawIndex(),R=f&&f.getRawIndex(),z=h.viewChildren,V=y.upperHeight,G=z&&z.length,B=h.getModel("itemStyle"),H=h.getModel("emphasis.itemStyle"),W=U("nodeGroup",w);if(W){if(m.add(W),W.attr("position",[y.x||0,y.y||0]),W.__tmNodeWidth=x,W.__tmNodeHeight=_,y.isAboveViewRoot)return W;var F=U("background",S,v,C);if(F&&function(t,n,o){n.dataIndex=h.dataIndex,n.seriesIndex=e.seriesIndex,n.setShape({x:0,y:0,width:x,height:_});var r=h.getVisual("borderColor",!0),c=H.get("borderColor");Z(n,function(){var e=k(B);e.fill=r;var t=N(H);if(t.fill=c,o){var d=x-2*M;j(e,t,r,d,V,{x:M,y:0,width:d,height:V})}else e.text=t.text=null;n.setStyle(e),l.setHoverStyle(n,t)}),t.add(n)}(W,F,G&&y.upperHeight),!G){var content=U("content",S,v,P);content&&function(t,content){content.dataIndex=h.dataIndex,content.seriesIndex=e.seriesIndex;var n=Math.max(x-2*M,0),o=Math.max(_-2*M,0);content.culling=!0,content.setShape({x:M,y:M,width:n,height:o});var r=h.getVisual("color",!0);Z(content,function(){var e=k(B);e.fill=r;var t=N(H);j(e,t,r,n,o),content.setStyle(e),l.setHoverStyle(content,t)}),t.add(content)}(W,content)}return W}}}function Z(element,e){L?!element.invisible&&d.push(element):(e(),element.__tmWillVisible||(element.invisible=!1))}function j(t,n,o,c,d,f){var m=h.getModel(),text=r.retrieve(e.getFormattedLabel(h.dataIndex,"normal",null,null,f?"upperLabel":"label"),m.get("name"));if(!f&&y.isLeafRoot){var v=e.get("drillDownIcon",!0);text=v?v+" "+text:text}var x=m.getModel(f?T:I),_=m.getModel(f?D:A),w=x.getShallow("show");l.setLabelStyle(t,n,x,_,{defaultText:w?text:null,autoColor:o,isRectText:!0}),f&&(t.textRect=r.clone(f)),t.truncate=w&&x.get("ellipsis")?{outerWidth:c,outerHeight:d,minChar:2}:null}function U(e,l,d,f){var element=null!=R&&n[e][R],m=c[e];return element?(n[e][R]=null,function(e,element,t){(e[O]={}).old="nodeGroup"===t?element.position.slice():r.extend({},element.shape)}(m,element,e)):L||((element=new l({z:E(d,f)})).__tmDepth=d,element.__tmStorageName=e,function(e,element,t){var n=e[O]={},r=h.parentNode;if(r&&(!o||"drillDown"===o.direction)){var l=0,d=0,f=c.background[r.getRawIndex()];!o&&f&&f.old&&(l=f.old.width,d=f.old.height),n.old="nodeGroup"===t?[0,d]:{x:l,y:d,width:0,height:0}}n.fadein="nodeGroup"!==t}(m,0,e)),t[e][O]=element}}function E(e,t){var n=e*L+t;return(n-1)/n}e.exports=O},function(e,t,n){var o=n(55),r=n(110),l=n(0),c=n(485).wrapTreePathInfo,d=5;function h(e){this.group=new o.Group,e.add(this.group)}function f(e,t,n,o,head,r){var l=[[head?e:e-d,t],[e+n,t],[e+n,t+o],[head?e:e-d,t+o]];return!r&&l.splice(2,0,[e+n+d,t+o/2]),!head&&l.push([e,t+o/2]),l}function m(e,t,n){e.eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&c(n,t)}}h.prototype={constructor:h,render:function(e,t,n,o){var l=e.getModel("breadcrumb"),c=this.group;if(c.removeAll(),l.get("show")&&n){var d=l.getModel("itemStyle"),h=d.getModel("textStyle"),f={pos:{left:l.get("left"),right:l.get("right"),top:l.get("top"),bottom:l.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:l.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,f,h),this._renderContent(e,f,d,h,o),r.positionElement(c,f.pos,f.box)}},_prepare:function(e,t,n){for(var o=e;o;o=o.parentNode){var text=o.getModel().get("name"),r=n.getTextRect(text),l=Math.max(r.width+16,t.emptyItemWidth);t.totalWidth+=l+8,t.renderList.push({node:o,text:text,width:l})}},_renderContent:function(e,t,n,c,d){for(var h=0,v=t.emptyItemWidth,y=e.get("breadcrumb.height"),x=r.getAvailableSize(t.pos,t.box),_=t.totalWidth,w=t.renderList,i=w.length-1;i>=0;i--){var S=w[i],M=S.node,I=S.width,text=S.text;_>x.width&&(_-=I-v,I=v,text=null);var A=new o.Polygon({shape:{points:f(h,0,I,y,i===w.length-1,0===i)},style:l.defaults(n.getItemStyle(),{lineJoin:"bevel",text:text,textFill:c.getTextColor(),textFont:c.getFont()}),z:10,onclick:l.curry(d,M)});this.group.add(A),m(A,e,M),h+=I+8}},remove:function(){this.group.removeAll()}};var v=h;e.exports=v},function(e,t,n){var o=n(0);t.createWrap=function(){var e,t=[],n={};return{add:function(e,r,time,l,c){return o.isString(l)&&(c=l,l=0),!n[e.id]&&(n[e.id]=1,t.push({el:e,target:r,time:time,delay:l,easing:c}),!0)},done:function(t){return e=t,this},start:function(){for(var o=t.length,i=0,r=t.length;i<r;i++){var l=t[i];l.el.animateTo(l.target,l.time,l.delay,l.easing,c)}return this;function c(){--o||(t.length=0,n={},e&&e())}}}}},function(e,t,n){for(var o=n(31),r=n(485),l=function(){},c=["treemapZoomToNode","treemapRender","treemapMove"],i=0;i<c.length;i++)o.registerAction({type:c[i],update:"updateView"},l);o.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},function(t,n){var o=r.retrieveTargetInfo(e,["treemapZoomToNode","treemapRootToNode"],t);if(o){var l=t.getViewRoot();l&&(e.direction=r.aboveViewRoot(l,o.node)?"rollUp":"drillDown"),t.resetViewRoot(o.node)}})})},function(e,t,n){var o=n(483),r=n(75),l=n(0),c=l.isArray,d="itemStyle",h={seriesType:"treemap",reset:function(e,t,n,c){var h=e.getData().tree,m=h.root,y=e.getModel(d);m.isRemoved()||function e(t,n,c,h,m,y){var x=t.getModel();var _=t.getLayout();if(!_||_.invisible||!_.isInView)return;var w=t.getModel(d);var S=c[t.depth];var M=function(e,t,n,o){var r=l.extend({},t);return l.each(["color","colorAlpha","colorSaturation"],function(l){var c=e.get(l,!0);null==c&&n&&(c=n[l]),null==c&&(c=t[l]),null==c&&(c=o.get(l)),null!=c&&(r[l]=c)}),r}(w,n,S,h);var I=w.get("borderColor");var A=w.get("borderColorSaturation");var T;null!=A&&(T=f(M),I=function(e,t){return null!=t?r.modifyHSL(t,null,null,e):null}(A,T));t.setVisual("borderColor",I);var D=t.viewChildren;if(D&&D.length){var L=function(e,t,n,r,l,c){if(!c||!c.length)return;var d=v(t,"color")||null!=l.color&&"none"!==l.color&&(v(t,"colorAlpha")||v(t,"colorSaturation"));if(!d)return;var h=t.get("visualMin"),f=t.get("visualMax"),m=n.dataExtent.slice();null!=h&&h<m[0]&&(m[0]=h),null!=f&&f>m[1]&&(m[1]=f);var y=t.get("colorMappingBy"),x={type:d.name,dataExtent:m,visual:d.range};"color"!==x.type||"index"!==y&&"id"!==y?x.mappingMethod="linear":(x.mappingMethod="category",x.loop=!0);var _=new o(x);return _.__drColorMappingBy=y,_}(0,x,_,0,M,D);l.each(D,function(t,n){if(t.depth>=m.length||t===m[t.depth]){var o=function(e,t,n,o,r,c){var d=l.extend({},t);if(r){var h=r.type,f="color"===h&&r.__drColorMappingBy,m="index"===f?o:"id"===f?c.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));d[h]=r.mapValueToVisual(m)}return d}(x,M,t,n,L,y);e(t,o,c,h,m,y)}})}else T=f(M),t.setVisual("color",T)}(m,{},l.map(h.levelModels,function(e){return e?e.get(d):null}),y,e.getViewRoot().getAncestors(),e)}};function f(e){var t=m(e,"color");if(t){var n=m(e,"colorAlpha"),o=m(e,"colorSaturation");return o&&(t=r.modifyHSL(t,null,null,o)),n&&(t=r.modifyAlpha(t,n)),t}}function m(e,t){var n=e[t];if(null!=n&&"none"!==n)return n}function v(e,t){var n=e.get(t);return c(n)&&n.length?{name:t,range:n}:null}e.exports=h},function(e,t,n){var o=n(0),r=n(13),l=n(17),c=l.parsePercent,d=l.MAX_SAFE_INTEGER,h=n(110),f=n(485),m=Math.max,v=Math.min,y=o.retrieve,x=o.each,_=["itemStyle","borderWidth"],w=["itemStyle","gapWidth"],S=["upperLabel","show"],M=["upperLabel","height"],I={seriesType:"treemap",reset:function(e,t,n,l){var S=n.getWidth(),M=n.getHeight(),I=e.option,L=h.getLayoutRect(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),C=I.size||[],P=c(y(L.width,C[0]),S),N=c(y(L.height,C[1]),M),k=l&&l.type,O=f.retrieveTargetInfo(l,["treemapZoomToNode","treemapRootToNode"],e),R="treemapRender"===k||"treemapMove"===k?l.rootRect:null,E=e.getViewRoot(),z=f.getPathToRoot(E);if("treemapMove"!==k){var V="treemapZoomToNode"===k?function(e,t,n,o,r){var l,c=(t||{}).node,h=[o,r];if(!c||c===n)return h;var f=o*r,area=f*e.option.zoomToNodeRatio;for(;l=c.parentNode;){for(var m=0,v=l.children,i=0,y=v.length;i<y;i++)m+=v[i].getValue();var x=c.getValue();if(0===x)return h;area*=m/x;var w=l.getModel(),S=w.get(_),M=Math.max(S,D(w));(area+=4*S*S+(3*S+M)*Math.pow(area,.5))>d&&(area=d),c=l}area<f&&(area=f);var I=Math.pow(area/f,.5);return[o*I,r*I]}(e,O,E,P,N):R?[R.width,R.height]:[P,N],G=I.sort;G&&"asc"!==G&&"desc"!==G&&(G="desc");var B={squareRatio:I.squareRatio,sort:G,leafDepth:I.leafDepth};E.hostTree.clearLayouts();var H={x:0,y:0,width:V[0],height:V[1],area:V[0]*V[1]};E.setLayout(H),function e(t,n,r,l){var c;var d;if(t.isRemoved())return;var h=t.getLayout();c=h.width;d=h.height;var f=t.getModel();var y=f.get(_);var S=f.get(w)/2;var M=D(f);var I=Math.max(y,M);var L=y-S;var C=I-S;var f=t.getModel();t.setLayout({borderWidth:y,upperHeight:I,upperLabelHeight:M},!0);c=m(c-2*L,0);d=m(d-L-C,0);var P=c*d;var N=function(e,t,n,r,l,c){var d=e.children||[],h=r.sort;"asc"!==h&&"desc"!==h&&(h=null);var f=null!=r.leafDepth&&r.leafDepth<=c;if(l&&!f)return e.viewChildren=[];!function(e,t){t&&e.sort(function(a,b){var e="asc"===t?a.getValue()-b.getValue():b.getValue()-a.getValue();return 0===e?"asc"===t?a.dataIndex-b.dataIndex:b.dataIndex-a.dataIndex:e})}(d=o.filter(d,function(e){return!e.isRemoved()}),h);var m=function(e,t,n){for(var o=0,i=0,r=t.length;i<r;i++)o+=t[i].getValue();var l=e.get("visualDimension");if(t&&t.length)if("value"===l&&n)c=[t[t.length-1].getValue(),t[0].getValue()],"asc"===n&&c.reverse();else{var c=[1/0,-1/0];x(t,function(e){var t=e.getValue(l);t<c[0]&&(c[0]=t),t>c[1]&&(c[1]=t)})}else c=[NaN,NaN];return{sum:o,dataExtent:c}}(t,d,h);if(0===m.sum)return e.viewChildren=[];if(m.sum=function(e,t,n,o,r){if(!o)return n;for(var l=e.get("visibleMin"),c=r.length,d=c,i=c-1;i>=0;i--){var h=r["asc"===o?c-i-1:i].getValue();h/n*t<l&&(d=i,n-=h)}return"asc"===o?r.splice(0,c-d):r.splice(d,c-d),n}(t,n,m.sum,h,d),0===m.sum)return e.viewChildren=[];for(var i=0,v=d.length;i<v;i++){var area=d[i].getValue()/m.sum*n;d[i].setLayout({area:area})}f&&(d.length&&e.setLayout({isLeafRoot:!0},!0),d.length=0);return e.viewChildren=d,e.setLayout({dataExtent:m.dataExtent},!0),d}(t,f,P,n,r,l);if(!N.length)return;var rect={x:L,y:C,width:c,height:d};var k=v(c,d);var O=1/0;var R=[];R.area=0;for(var i=0,E=N.length;i<E;){var z=N[i];R.push(z),R.area+=z.getLayout().area;var V=A(R,k,n.squareRatio);V<=O?(i++,O=V):(R.area-=R.pop().getLayout().area,T(R,k,rect,S,!1),k=v(rect.width,rect.height),R.length=R.area=0,O=1/0)}R.length&&T(R,k,rect,S,!0);if(!r){var G=f.get("childrenVisibleMin");null!=G&&P<G&&(r=!0)}for(var i=0,E=N.length;i<E;i++)e(N[i],n,r,l+1)}(E,B,!1,0);H=E.getLayout();x(z,function(e,t){var n=(z[t+1]||E).getValue();e.setLayout(o.extend({dataExtent:[n,n],borderWidth:0,upperHeight:0},H))})}var W=e.getData().tree.root;W.setLayout(function(e,t,n){if(t)return{x:t.x,y:t.y};var o={x:0,y:0};if(!n)return o;var r=n.node,l=r.getLayout();if(!l)return o;var c=[l.width/2,l.height/2],d=r;for(;d;){var h=d.getLayout();c[0]+=h.x,c[1]+=h.y,d=d.parentNode}return{x:e.width/2-c[0],y:e.height/2-c[1]}}(L,R,O),!0),e.setLayoutInfo(L),function e(t,n,o,l,c){var d=t.getLayout();var h=o[c];var f=h&&h===t;if(h&&!f||c===o.length&&t!==l)return;t.setLayout({isInView:!0,invisible:!f&&!n.intersect(d),isAboveViewRoot:f},!0);var m=new r(n.x-d.x,n.y-d.y,n.width,n.height);x(t.viewChildren||[],function(t){e(t,m,o,l,c+1)})}(W,new r(-L.x,-L.y,S,M),z,E,0)}};function A(e,t,n){for(var area,o=0,r=1/0,i=0,l=e.length;i<l;i++)(area=e[i].getLayout().area)&&(area<r&&(r=area),area>o&&(o=area));var c=e.area*e.area,d=t*t*n;return c?m(d*o/c,c/(d*r)):1/0}function T(e,t,rect,n,o){var r=t===rect.width?0:1,l=1-r,c=["x","y"],d=["width","height"],h=rect[c[r]],f=t?e.area/t:0;(o||f>rect[d[l]])&&(f=rect[d[l]]);for(var i=0,y=e.length;i<y;i++){var x=e[i],_={},w=f?x.getLayout().area/f:0,S=_[d[l]]=m(f-2*n,0),M=rect[c[r]]+rect[d[r]]-h,I=i===y-1||M<w?M:w,A=_[d[r]]=m(I-2*n,0);_[c[l]]=rect[c[l]]+v(n,S/2),_[c[r]]=h+v(n,A/2),h+=I,x.setLayout(_,!0)}rect[c[l]]+=f,rect[d[l]]-=f}function D(e){return e.get(S)?e.get(M):0}e.exports=I},function(e,t,n){var o=n(31);n(661),n(663),n(666);var r=n(667),l=n(484),c=n(668),d=n(669),h=n(670),f=n(671),m=n(672),v=n(674);o.registerProcessor(r),o.registerVisual(l("graph","circle",null)),o.registerVisual(c),o.registerVisual(d),o.registerLayout(h),o.registerLayout(f),o.registerLayout(m),o.registerCoordinateSystem("graphView",{create:v})},function(e,t,n){var o=n(31),r=n(159),l=n(0),c=n(4).defaultEmphasis,d=n(57),h=n(40).encodeHTML,f=n(563),m=o.extendSeriesModel({type:"series.graph",init:function(option){m.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(option.edges||option.links),this._updateCategoriesData()},mergeOption:function(option){m.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(option.edges||option.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(option){m.superApply(this,"mergeDefaultAndTheme",arguments),c(option,["edgeLabel"],["show"])},getInitialData:function(option,e){var t=option.edges||option.links||[],n=option.data||option.nodes||[],o=this;if(n&&t)return f(n,t,this,!0,function(t,n){t.wrapMethod("getItemModel",function(e){var t=o._categoriesModels,n=e.getShallow("category"),r=t[n];return r&&(r.parentModel=e.parentModel,e.parentModel=r),e});var r=o.getModel("edgeLabel"),l=new d({label:r.option},r.parentModel,e),c=o.getModel("emphasis.edgeLabel"),h=new d({emphasis:{label:c.option}},c.parentModel,e);function f(path){return(path=this.parsePath(path))&&"label"===path[0]?l:path&&"emphasis"===path[0]&&"label"===path[1]?h:this.parentModel}n.wrapMethod("getItemModel",function(e){return e.customizeGetParent(f),e})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,n){if("edge"===n){var o=this.getData(),r=this.getDataParams(e,n),l=o.graph.getEdgeByIndex(e),c=o.getName(l.node1.dataIndex),d=o.getName(l.node2.dataIndex),html=[];return null!=c&&html.push(c),null!=d&&html.push(d),html=h(html.join(" > ")),r.value&&(html+=" : "+h(r.value)),html}return m.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=l.map(this.option.categories||[],function(e){return null!=e.value?e:l.extend({value:0},e)}),t=new r(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray(function(e){return t.getItemModel(e,!0)})},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},isAnimationEnabled:function(){return m.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),v=m;e.exports=v},function(e,t,n){n(12).__DEV__;var o=n(0),r=n(32).enableClassCheck;function l(e){return"_EC_"+e}var c=function(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},d=c.prototype;function h(e,t){this.id=null==e?"":e,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==t?-1:t}function f(e,t,n){this.node1=e,this.node2=t,this.dataIndex=null==n?-1:n}d.type="graph",d.isDirected=function(){return this._directed},d.addNode=function(e,t){e=e||""+t;var n=this._nodesMap;if(!n[l(e)]){var o=new h(e,t);return o.hostGraph=this,this.nodes.push(o),n[l(e)]=o,o}},d.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},d.getNodeById=function(e){return this._nodesMap[l(e)]},d.addEdge=function(e,t,n){var o=this._nodesMap,r=this._edgesMap;if("number"==typeof e&&(e=this.nodes[e]),"number"==typeof t&&(t=this.nodes[t]),h.isInstance(e)||(e=o[l(e)]),h.isInstance(t)||(t=o[l(t)]),e&&t){var c=e.id+"-"+t.id;if(!r[c]){var d=new f(e,t,n);return d.hostGraph=this,this._directed&&(e.outEdges.push(d),t.inEdges.push(d)),e.edges.push(d),e!==t&&t.edges.push(d),this.edges.push(d),r[c]=d,d}}},d.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},d.getEdge=function(e,t){h.isInstance(e)&&(e=e.id),h.isInstance(t)&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},d.eachNode=function(e,t){for(var n=this.nodes,o=n.length,i=0;i<o;i++)n[i].dataIndex>=0&&e.call(t,n[i],i)},d.eachEdge=function(e,t){for(var n=this.edges,o=n.length,i=0;i<o;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&e.call(t,n[i],i)},d.breadthFirstTraverse=function(e,t,n,o){if(h.isInstance(t)||(t=this._nodesMap[l(t)]),t){for(var r="out"===n?"outEdges":"in"===n?"inEdges":"edges",i=0;i<this.nodes.length;i++)this.nodes[i].__visited=!1;if(!e.call(o,t,null))for(var c=[t];c.length;){var d=c.shift(),f=d[r];for(i=0;i<f.length;i++){var m=f[i],v=m.node1===d?m.node2:m.node1;if(!v.__visited){if(e.call(o,v,d))return;c.push(v),v.__visited=!0}}}}},d.update=function(){for(var data=this.data,e=this.edgeData,t=this.nodes,n=this.edges,i=0,o=t.length;i<o;i++)t[i].dataIndex=-1;for(i=0,o=data.count();i<o;i++)t[data.getRawIndex(i)].dataIndex=i;e.filterSelf(function(t){var o=n[e.getRawIndex(t)];return o.node1.dataIndex>=0&&o.node2.dataIndex>=0});for(i=0,o=n.length;i<o;i++)n[i].dataIndex=-1;for(i=0,o=e.count();i<o;i++)n[e.getRawIndex(i)].dataIndex=i},d.clone=function(){for(var e=new c(this._directed),t=this.nodes,n=this.edges,i=0;i<t.length;i++)e.addNode(t[i].id,t[i].dataIndex);for(i=0;i<n.length;i++){var o=n[i];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},h.prototype={constructor:h,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(path){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(path)}},f.prototype.getModel=function(path){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(path)};var m=function(e,t){return{getValue:function(n){var data=this[e][t];return data.get(data.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,o){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,o)},getVisual:function(n,o){return this[e][t].getItemVisual(this.dataIndex,n,o)},setLayout:function(n,o){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,o)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}};o.mixin(h,m("hostGraph","data")),o.mixin(f,m("hostGraph","edgeData")),c.Node=h,c.Edge=f,r(h),r(f);var v=c;e.exports=v},function(e,t,n){var o=n(31),r=n(0),l=n(490),c=n(517),d=n(487),h=n(507),f=n(497).onIrrelevantElement,m=n(55),v=n(665),y="__focusNodeAdjacency",x=["itemStyle","opacity"],_=["lineStyle","opacity"];function w(e,t){return e.getVisual("opacity")||e.getModel().get(t)}function S(e,t,n){var o=e.getGraphicEl(),r=w(e,t);null!=n&&(null==r&&(r=1),r*=n),o.downplay&&o.downplay(),o.traverse(function(e){if("group"!==e.type){var t=e.lineLabelOriginalOpacity;null!=t&&null==n||(t=r),e.setStyle("opacity",t)}})}function M(e,t){var n=w(e,t),o=e.getGraphicEl();o.highlight&&o.highlight(),o.traverse(function(e){"group"!==e.type&&e.setStyle("opacity",n)})}var I=o.extendChartView({type:"graph",init:function(e,t){var n=new l,o=new c,r=this.group;this._controller=new d(t.getZr()),this._controllerHost={target:r},r.add(n.group),r.add(o.group),this._symbolDraw=n,this._lineDraw=o,this._firstRender=!0},render:function(e,t,n){var o=e.coordinateSystem;this._model=e,this._nodeScaleRatio=e.get("nodeScaleRatio");var r=this._symbolDraw,l=this._lineDraw,c=this.group;if("view"===o.type){var d={position:o.position,scale:o.scale};this._firstRender?c.attr(d):m.updateProps(c,d,e)}v(e.getGraph(),this._getNodeGlobalScale(e));var data=e.getData();r.updateData(data);var h=e.getEdgeData();l.updateData(h),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var f=e.forceLayout,x=e.get("force.layoutAnimation");f&&this._startForceLayoutIteration(f,x),data.eachItemGraphicEl(function(t,o){var r=data.getItemModel(o);t.off("drag").off("dragend");var l=r.get("draggable");l&&t.on("drag",function(){f&&(f.warmUp(),!this._layouting&&this._startForceLayoutIteration(f,x),f.setFixed(o),data.setItemLayout(o,t.position))},this).on("dragend",function(){f&&f.setUnfixed(o)},this),t.setDraggable(l&&f),t[y]&&t.off("mouseover",t[y]),t.__unfocusNodeAdjacency&&t.off("mouseout",t.__unfocusNodeAdjacency),r.get("focusNodeAdjacency")&&(t.on("mouseover",t[y]=function(){n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:t.dataIndex})}),t.on("mouseout",t.__unfocusNodeAdjacency=function(){n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})}))},this),data.graph.eachEdge(function(t){var o=t.getGraphicEl();o[y]&&o.off("mouseover",o[y]),o.__unfocusNodeAdjacency&&o.off("mouseout",o.__unfocusNodeAdjacency),t.getModel().get("focusNodeAdjacency")&&(o.on("mouseover",o[y]=function(){n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:t.dataIndex})}),o.on("mouseout",o.__unfocusNodeAdjacency=function(){n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})}))});var _="circular"===e.get("layout")&&e.get("circular.rotateLabel"),w=data.getLayout("cx"),S=data.getLayout("cy");data.eachItemGraphicEl(function(e,t){var n=e.getSymbolPath();if(_){var o=data.getItemLayout(t),r=Math.atan2(o[1]-S,o[0]-w);r<0&&(r=2*Math.PI+r);var l=o[0]<w;l&&(r-=Math.PI);var c=l?"left":"right";n.setStyle({textRotation:-r,textPosition:c,textOrigin:"center"}),n.hoverStyle&&(n.hoverStyle.textPosition=c)}else n.setStyle({textRotation:0})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(e,t,n,o){var l=this._model.getData().graph,c=o.dataIndex,d=o.edgeDataIndex,h=l.getNodeByIndex(c),f=l.getEdgeByIndex(d);(h||f)&&(l.eachNode(function(e){S(e,x,.1)}),l.eachEdge(function(e){S(e,_,.1)}),h&&(M(h,x),r.each(h.edges,function(e){e.dataIndex<0||(M(e,_),M(e.node1,x),M(e.node2,x))})),f&&(M(f,_),M(f.node1,x),M(f.node2,x)))},unfocusNodeAdjacency:function(e,t,n,o){var r=this._model.getData().graph;r.eachNode(function(e){S(e,x)}),r.eachEdge(function(e){S(e,_)})},_startForceLayoutIteration:function(e,t){var n=this;!function o(){e.step(function(e){n.updateLayout(n._model),(n._layouting=!e)&&(t?n._layoutTimeout=setTimeout(o,16):o())})}()},_updateController:function(e,t,n){var o=this._controller,r=this._controllerHost,l=this.group;o.setPointerChecker(function(t,o,r){var rect=l.getBoundingRect();return rect.applyTransform(l.transform),rect.contain(o,r)&&!f(t,n,e)}),"view"===e.coordinateSystem.type?(o.enable(e.get("roam")),r.zoomLimit=e.get("scaleLimit"),r.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(t){h.updateViewOnPan(r,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})}).on("zoom",function(t){h.updateViewOnZoom(r,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),this._updateNodeAndLinkScale(),v(e.getGraph(),this._getNodeGlobalScale(e)),this._lineDraw.updateLayout()},this)):o.disable()},_updateNodeAndLinkScale:function(){var e=this._model,data=e.getData(),t=this._getNodeGlobalScale(e),n=[t,t];data.eachItemGraphicEl(function(e,t){e.attr("scale",n)})},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=this._nodeScaleRatio,o=t.scale,r=o&&o[0]||1;return((t.getZoom()-1)*n+1)/r},updateLayout:function(e){v(e.getGraph(),this._getNodeGlobalScale(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});e.exports=I},function(e,t,n){var o=n(55),r=n(10),l=o.Line.prototype,c=o.BezierCurve.prototype;function d(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var h=o.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,t){(d(t)?l:c).buildPath(e,t)},pointAt:function(e){return d(this.shape)?l.pointAt.call(this,e):c.pointAt.call(this,e)},tangentAt:function(e){var t=this.shape,p=d(t)?[t.x2-t.x1,t.y2-t.y1]:c.tangentAt.call(this,e);return r.normalize(p,p)}});e.exports=h},function(e,t,n){var o=n(41),r=n(10),l=[],c=[],d=[],h=o.quadraticAt,f=r.distSquare,m=Math.abs;function v(e,t,n){for(var o,r=e[0],v=e[1],y=e[2],x=1/0,_=n*n,w=.1,S=.1;S<=.9;S+=.1){l[0]=h(r[0],v[0],y[0],S),l[1]=h(r[1],v[1],y[1],S),(I=m(f(l,t)-_))<x&&(x=I,o=S)}for(var i=0;i<32;i++){var M=o+w;c[0]=h(r[0],v[0],y[0],o),c[1]=h(r[1],v[1],y[1],o),d[0]=h(r[0],v[0],y[0],M),d[1]=h(r[1],v[1],y[1],M);var I=f(c,t)-_;if(m(I)<.01)break;var A=f(d,t)-_;w/=2,I<0?A>=0?o+=w:o-=w:A>=0?o-=w:o+=w}return o}e.exports=function(e,t){var n=[],l=o.quadraticSubdivide,c=[[],[],[]],d=[[],[]],h=[];function f(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),t}t/=2,e.eachEdge(function(e,o){var m=e.getLayout(),y=e.getVisual("fromSymbol"),x=e.getVisual("toSymbol");m.__original||(m.__original=[r.clone(m[0]),r.clone(m[1])],m[2]&&m.__original.push(r.clone(m[2])));var _=m.__original;if(null!=m[2]){if(r.copy(c[0],_[0]),r.copy(c[1],_[2]),r.copy(c[2],_[1]),y&&"none"!==y){var w=f(e.node1),S=v(c,_[0],w*t);l(c[0][0],c[1][0],c[2][0],S,n),c[0][0]=n[3],c[1][0]=n[4],l(c[0][1],c[1][1],c[2][1],S,n),c[0][1]=n[3],c[1][1]=n[4]}x&&"none"!==x&&(w=f(e.node2),S=v(c,_[1],w*t),l(c[0][0],c[1][0],c[2][0],S,n),c[1][0]=n[1],c[2][0]=n[2],l(c[0][1],c[1][1],c[2][1],S,n),c[1][1]=n[1],c[2][1]=n[2]),r.copy(m[0],c[0]),r.copy(m[1],c[2]),r.copy(m[2],c[1])}else r.copy(d[0],_[0]),r.copy(d[1],_[1]),r.sub(h,d[1],d[0]),r.normalize(h,h),y&&"none"!==y&&(w=f(e.node1),r.scaleAndAdd(d[0],d[0],h,w*t)),x&&"none"!==x&&(w=f(e.node2),r.scaleAndAdd(d[1],d[1],h,-w*t)),r.copy(m[0],d[0]),r.copy(m[1],d[1])})}},function(e,t,n){var o=n(31),r=n(508).updateCenterAndZoom;n(564);o.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(e,t){t.eachComponent({mainType:"series",query:e},function(t){var n=t.coordinateSystem,o=r(n,e);t.setCenter&&t.setCenter(o.center),t.setZoom&&t.setZoom(o.zoom)})})},function(e,t){e.exports=function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),data=e.getGraph().data,o=n.mapArray(n.getName);data.filterSelf(function(e){var n=data.getItemModel(e).getShallow("category");if(null!=n){"number"==typeof n&&(n=o[n]);for(var i=0;i<t.length;i++)if(!t[i].isSelected(n))return!1}return!0})},this)}},function(e,t){e.exports=function(e){var t={};e.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),data=e.getData(),o={};n.each(function(r){var l=n.getName(r);o["ec-"+l]=r;var c=n.getItemModel(r).get("itemStyle.color")||e.getColorFromPalette(l,t);n.setItemVisual(r,"color",c)}),n.count()&&data.each(function(e){var t=data.getItemModel(e).getShallow("category");null!=t&&("string"==typeof t&&(t=o["ec-"+t]),data.getItemVisual(e,"color",!0)||data.setItemVisual(e,"color",n.getItemVisual(t,"color")))})})}},function(e,t){function n(a){return a instanceof Array||(a=[a,a]),a}e.exports=function(e){e.eachSeriesByType("graph",function(e){var t=e.getGraph(),o=e.getEdgeData(),r=n(e.get("edgeSymbol")),l=n(e.get("edgeSymbolSize")),c="lineStyle.color".split("."),d="lineStyle.opacity".split(".");o.setVisual("fromSymbol",r&&r[0]),o.setVisual("toSymbol",r&&r[1]),o.setVisual("fromSymbolSize",l&&l[0]),o.setVisual("toSymbolSize",l&&l[1]),o.setVisual("color",e.get(c)),o.setVisual("opacity",e.get(d)),o.each(function(e){var r=o.getItemModel(e),l=t.getEdgeByIndex(e),h=n(r.getShallow("symbol",!0)),f=n(r.getShallow("symbolSize",!0)),m=r.get(c),v=r.get(d);switch(m){case"source":m=l.node1.getVisual("color");break;case"target":m=l.node2.getVisual("color")}h[0]&&l.setVisual("fromSymbol",h[0]),h[1]&&l.setVisual("toSymbol",h[1]),f[0]&&l.setVisual("fromSymbolSize",f[0]),f[1]&&l.setVisual("toSymbolSize",f[1]),l.setVisual("color",m),l.setVisual("opacity",v)})})}},function(e,t,n){var o=n(0).each,r=n(565),l=r.simpleLayout,c=r.simpleLayoutEdge;e.exports=function(e,t){e.eachSeriesByType("graph",function(e){var t=e.get("layout"),n=e.coordinateSystem;if(n&&"view"!==n.type){var data=e.getData(),r=[];o(n.dimensions,function(e){r=r.concat(data.mapDimension(e,!0))});for(var d=0;d<data.count();d++){for(var h=[],f=!1,i=0;i<r.length;i++){var m=data.get(r[i],d);isNaN(m)||(f=!0),h.push(m)}f?data.setItemLayout(d,n.dataToPoint(h)):data.setItemLayout(d,[NaN,NaN])}c(data.graph)}else t&&"none"!==t||l(e)})}},function(e,t,n){var o=n(566).circularLayout;e.exports=function(e){e.eachSeriesByType("graph",function(e){"circular"===e.get("layout")&&o(e)})}},function(e,t,n){var o=n(673).forceLayout,r=n(565).simpleLayout,l=n(566).circularLayout,c=n(17).linearMap,d=n(10),h=n(0);e.exports=function(e){e.eachSeriesByType("graph",function(e){if(!(M=e.coordinateSystem)||"view"===M.type)if("force"===e.get("layout")){var t=e.preservedPoints||{},n=e.getGraph(),f=n.data,m=n.edgeData,v=e.getModel("force"),y=v.get("initLayout");e.preservedPoints?f.each(function(e){var n=f.getId(e);f.setItemLayout(e,t[n]||[NaN,NaN])}):y&&"none"!==y?"circular"===y&&l(e):r(e);var x=f.getDataExtent("value"),_=m.getDataExtent("value"),w=v.get("repulsion"),S=v.get("edgeLength");h.isArray(w)||(w=[w,w]),h.isArray(S)||(S=[S,S]),S=[S[1],S[0]];var M,I=f.mapArray("value",function(e,t){var n=f.getItemLayout(t),o=c(e,x,w);return isNaN(o)&&(o=(w[0]+w[1])/2),{w:o,rep:o,fixed:f.getItemModel(t).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}}),A=m.mapArray("value",function(e,t){var o=n.getEdgeByIndex(t),r=c(e,_,S);return isNaN(r)&&(r=(S[0]+S[1])/2),{n1:I[o.node1.dataIndex],n2:I[o.node2.dataIndex],d:r,curveness:o.getModel().get("lineStyle.curveness")||0}}),rect=(M=e.coordinateSystem).getBoundingRect(),T=o(I,A,{rect:rect,gravity:v.get("gravity")}),D=T.step;T.step=function(e){for(var i=0,o=I.length;i<o;i++)I[i].fixed&&d.copy(I[i].p,n.getNodeByIndex(i).getLayout());D(function(o,r,l){for(var i=0,c=o.length;i<c;i++)o[i].fixed||n.getNodeByIndex(i).setLayout(o[i].p),t[f.getId(i)]=o[i].p;for(i=0,c=r.length;i<c;i++){var h=r[i],m=n.getEdgeByIndex(i),v=h.n1.p,y=h.n2.p,x=m.getLayout();(x=x?x.slice():[])[0]=x[0]||[],x[1]=x[1]||[],d.copy(x[0],v),d.copy(x[1],y),+h.curveness&&(x[2]=[(v[0]+y[0])/2-(v[1]-y[1])*h.curveness,(v[1]+y[1])/2-(y[0]-v[0])*h.curveness]),m.setLayout(x)}e&&e(l)})},e.forceLayout=T,e.preservedPoints=t,T.step()}else e.forceLayout=null})}},function(e,t,n){var o=n(10),r=o.scaleAndAdd;t.forceLayout=function(e,t,n){for(var rect=n.rect,l=rect.width,c=rect.height,d=[rect.x+l/2,rect.y+c/2],h=null==n.gravity?.1:n.gravity,i=0;i<e.length;i++){var f=e[i];f.p||(f.p=o.create(l*(Math.random()-.5)+d[0],c*(Math.random()-.5)+d[1])),f.pp=o.clone(f.p),f.edges=null}var m=.6;return{warmUp:function(){m=.5},setFixed:function(t){e[t].fixed=!0},setUnfixed:function(t){e[t].fixed=!1},step:function(n){for(var l=[],c=e.length,i=0;i<t.length;i++){var f=t[i],v=f.n1,y=f.n2;o.sub(l,y.p,v.p);var x=o.len(l)-f.d,_=y.w/(v.w+y.w);isNaN(_)&&(_=0),o.normalize(l,l),!v.fixed&&r(v.p,v.p,l,_*x*m),!y.fixed&&r(y.p,y.p,l,-(1-_)*x*m)}for(i=0;i<c;i++)(I=e[i]).fixed||(o.sub(l,d,I.p),r(I.p,I.p,l,h*m));for(i=0;i<c;i++){v=e[i];for(var w=i+1;w<c;w++){y=e[w],o.sub(l,y.p,v.p),0===(x=o.len(l))&&(o.set(l,Math.random()-.5,Math.random()-.5),x=1);var S=(v.rep+y.rep)/x/x;!v.fixed&&r(v.pp,v.pp,l,S),!y.fixed&&r(y.pp,y.pp,l,-S)}}var M=[];for(i=0;i<c;i++){var I;(I=e[i]).fixed||(o.sub(M,I.p,I.pp),r(I.p,I.p,M,m),o.copy(I.pp,I.p))}m*=.992,n&&n(e,t,m<.01)}}}},function(e,t,n){var o=n(510),r=n(110).getLayoutRect,l=n(169);e.exports=function(e,t){var n=[];return e.eachSeriesByType("graph",function(e){var c=e.get("coordinateSystem");if(!c||"view"===c){var data=e.getData(),d=data.mapArray(function(e){var t=data.getItemModel(e);return[+t.get("x"),+t.get("y")]}),h=[],f=[];l.fromPoints(d,h,f),f[0]-h[0]==0&&(f[0]+=1,h[0]-=1),f[1]-h[1]==0&&(f[1]+=1,h[1]-=1);var m=(f[0]-h[0])/(f[1]-h[1]),v=function(e,t,n){var option=e.getBoxLayoutParams();return option.aspect=n,r(option,{width:t.getWidth(),height:t.getHeight()})}(e,t,m);isNaN(m)&&(h=[v.x,v.y],f=[v.x+v.width,v.y+v.height]);var y=f[0]-h[0],x=f[1]-h[1],_=v.width,w=v.height,S=e.coordinateSystem=new o;S.zoomLimit=e.get("scaleLimit"),S.setBoundingRect(h[0],h[1],y,x),S.setViewRect(v.x,v.y,_,w),S.setCenter(e.get("center")),S.setZoom(e.get("zoom")),n.push(S)}}),n}},function(e,t,n){n(676),n(677)},function(e,t,n){var o=n(486),r=n(257),l=n(0),c=r.extend({type:"series.gauge",getInitialData:function(option,e){var t=option.data||[];return l.isArray(t)||(t=[t]),option.data=t,o(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});e.exports=c},function(e,t,n){var o=n(678),r=n(55),l=n(259),c=n(17),d=c.parsePercent,h=c.round,f=c.linearMap;function m(label,e){return e&&("string"==typeof e?label=e.replace("{value}",null!=label?label:""):"function"==typeof e&&(label=e(label))),label}var v=2*Math.PI,y=l.extend({type:"gauge",render:function(e,t,n){this.group.removeAll();var o=e.get("axisLine.lineStyle.color"),r=function(e,t){var n=e.get("center"),o=t.getWidth(),r=t.getHeight(),l=Math.min(o,r);return{cx:d(n[0],t.getWidth()),cy:d(n[1],t.getHeight()),r:d(e.get("radius"),l/2)}}(e,n);this._renderMain(e,t,n,o,r)},dispose:function(){},_renderMain:function(e,t,n,o,l){for(var c=this.group,d=e.getModel("axisLine").getModel("lineStyle"),h=e.get("clockwise"),f=-e.get("startAngle")/180*Math.PI,m=((_=-e.get("endAngle")/180*Math.PI)-f)%v,y=f,x=d.get("width"),i=0;i<o.length;i++){var _=f+m*Math.min(Math.max(o[i][0],0),1),w=new r.Sector({shape:{startAngle:y,endAngle:_,cx:l.cx,cy:l.cy,clockwise:h,r0:l.r-x,r:l.r},silent:!0});w.setStyle({fill:o[i][1]}),w.setStyle(d.getLineStyle(["color","borderWidth","borderColor"])),c.add(w),y=_}var S=function(e){if(e<=0)return o[0][1];for(var i=0;i<o.length;i++)if(o[i][0]>=e&&(0===i?0:o[i-1][0])<e)return o[i][1];return o[i-1][1]};if(!h){var M=f;f=_,_=M}this._renderTicks(e,t,n,S,l,f,_,h),this._renderPointer(e,t,n,S,l,f,_,h),this._renderTitle(e,t,n,S,l),this._renderDetail(e,t,n,S,l)},_renderTicks:function(e,t,n,o,l,c,f,v){for(var y=this.group,x=l.cx,_=l.cy,w=l.r,S=+e.get("min"),M=+e.get("max"),I=e.getModel("splitLine"),A=e.getModel("axisTick"),T=e.getModel("axisLabel"),D=e.get("splitNumber"),L=A.get("splitNumber"),C=d(I.get("length"),w),P=d(A.get("length"),w),N=c,k=(f-c)/D,O=k/L,R=I.getModel("lineStyle").getLineStyle(),E=A.getModel("lineStyle").getLineStyle(),i=0;i<=D;i++){var z=Math.cos(N),V=Math.sin(N);if(I.get("show")){var G=new r.Line({shape:{x1:z*w+x,y1:V*w+_,x2:z*(w-C)+x,y2:V*(w-C)+_},style:R,silent:!0});"auto"===R.stroke&&G.setStyle({stroke:o(i/D)}),y.add(G)}if(T.get("show")){var label=m(h(i/D*(M-S)+S),T.get("formatter")),B=T.get("distance"),H=o(i/D);y.add(new r.Text({style:r.setTextStyle({},T,{text:label,x:z*(w-C-B)+x,y:V*(w-C-B)+_,textVerticalAlign:V<-.4?"top":V>.4?"bottom":"middle",textAlign:z<-.4?"left":z>.4?"right":"center"},{autoColor:H}),silent:!0}))}if(A.get("show")&&i!==D){for(var W=0;W<=L;W++){z=Math.cos(N),V=Math.sin(N);var F=new r.Line({shape:{x1:z*w+x,y1:V*w+_,x2:z*(w-P)+x,y2:V*(w-P)+_},silent:!0,style:E});"auto"===E.stroke&&F.setStyle({stroke:o((i+W/L)/D)}),y.add(F),N+=O}N-=O}else N+=k}},_renderPointer:function(e,t,n,l,c,h,m,v){var y=this.group,x=this._data;if(e.get("pointer.show")){var _=[+e.get("min"),+e.get("max")],w=[h,m],data=e.getData(),S=data.mapDimension("value");data.diff(x).add(function(t){var n=new o({shape:{angle:h}});r.initProps(n,{shape:{angle:f(data.get(S,t),_,w,!0)}},e),y.add(n),data.setItemGraphicEl(t,n)}).update(function(t,n){var o=x.getItemGraphicEl(n);r.updateProps(o,{shape:{angle:f(data.get(S,t),_,w,!0)}},e),y.add(o),data.setItemGraphicEl(t,o)}).remove(function(e){var t=x.getItemGraphicEl(e);y.remove(t)}).execute(),data.eachItemGraphicEl(function(e,t){var n=data.getItemModel(t),o=n.getModel("pointer");e.setShape({x:c.cx,y:c.cy,width:d(o.get("width"),c.r),r:d(o.get("length"),c.r)}),e.useStyle(n.getModel("itemStyle").getItemStyle()),"auto"===e.style.fill&&e.setStyle("fill",l(f(data.get(S,t),_,[0,1],!0))),r.setHoverStyle(e,n.getModel("emphasis.itemStyle").getItemStyle())}),this._data=data}else x&&x.eachItemGraphicEl(function(e){y.remove(e)})},_renderTitle:function(e,t,n,o,l){var data=e.getData(),c=data.mapDimension("value"),h=e.getModel("title");if(h.get("show")){var m=h.get("offsetCenter"),v=l.cx+d(m[0],l.r),y=l.cy+d(m[1],l.r),x=+e.get("min"),_=+e.get("max"),w=e.getData().get(c,0),S=o(f(w,[x,_],[0,1],!0));this.group.add(new r.Text({silent:!0,style:r.setTextStyle({},h,{x:v,y:y,text:data.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:S,forceRich:!0})}))}},_renderDetail:function(e,t,n,o,l){var c=e.getModel("detail"),h=+e.get("min"),v=+e.get("max");if(c.get("show")){var y=c.get("offsetCenter"),x=l.cx+d(y[0],l.r),_=l.cy+d(y[1],l.r),w=d(c.get("width"),l.r),S=d(c.get("height"),l.r),data=e.getData(),M=data.get(data.mapDimension("value"),0),I=o(f(M,[h,v],[0,1],!0));this.group.add(new r.Text({silent:!0,style:r.setTextStyle({},c,{x:x,y:_,text:m(M,c.get("formatter")),textWidth:isNaN(w)?null:w,textHeight:isNaN(S)?null:S,textAlign:"center",textVerticalAlign:"middle"},{autoColor:I,forceRich:!0})}))}}});e.exports=y},function(e,t,n){var o=n(8).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(e,t){var n=Math.cos,o=Math.sin,r=t.r,l=t.width,c=t.angle,d=t.x-n(c)*l*(l>=r/3?1:2),h=t.y-o(c)*l*(l>=r/3?1:2);c=t.angle-Math.PI/2,e.moveTo(d,h),e.lineTo(t.x+n(c)*l,t.y+o(c)*l),e.lineTo(t.x+n(t.angle)*r,t.y+o(t.angle)*r),e.lineTo(t.x-n(c)*l,t.y-o(c)*l),e.lineTo(d,h)}});e.exports=o},function(e,t,n){var o=n(31);n(680),n(681);var r=n(503),l=n(682),c=n(493);o.registerVisual(r("funnel")),o.registerLayout(l),o.registerProcessor(c("funnel"))},function(e,t,n){var o=n(31),r=n(486),l=n(4).defaultEmphasis,c=o.extendSeriesModel({type:"series.funnel",init:function(option){c.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(option)},getInitialData:function(option,e){return r(this,["value"])},_defaultLabelLine:function(option){l(option,"labelLine",["show"]);var e=option.labelLine,t=option.emphasis.labelLine;e.show=e.show&&option.label.show,t.show=t.show&&option.emphasis.label.show},getDataParams:function(e){var data=this.getData(),t=c.superCall(this,"getDataParams",e),n=data.mapDimension("value"),o=data.getSum(n);return t.percent=o?+(data.get(n,e)/o*100).toFixed(2):0,t.$vars.push("percent"),t},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),d=c;e.exports=d},function(e,t,n){var o=n(55),r=n(0),l=n(259);function c(data,e){o.Group.call(this);var polygon=new o.Polygon,t=new o.Polyline,text=new o.Text;function n(){t.ignore=t.hoverIgnore,text.ignore=text.hoverIgnore}function r(){t.ignore=t.normalIgnore,text.ignore=text.normalIgnore}this.add(polygon),this.add(t),this.add(text),this.updateData(data,e,!0),this.on("emphasis",n).on("normal",r).on("mouseover",n).on("mouseout",r)}var d=c.prototype,h=["itemStyle","opacity"];d.updateData=function(data,e,t){var polygon=this.childAt(0),n=data.hostModel,l=data.getItemModel(e),c=data.getItemLayout(e),d=data.getItemModel(e).get(h);d=null==d?1:d,polygon.useStyle({}),t?(polygon.setShape({points:c.points}),polygon.setStyle({opacity:0}),o.initProps(polygon,{style:{opacity:d}},n,e)):o.updateProps(polygon,{style:{opacity:d},shape:{points:c.points}},n,e);var f=l.getModel("itemStyle"),m=data.getItemVisual(e,"color");polygon.setStyle(r.defaults({lineJoin:"round",fill:m},f.getItemStyle(["opacity"]))),polygon.hoverStyle=f.getModel("emphasis").getItemStyle(),this._updateLabel(data,e),o.setHoverStyle(this)},d._updateLabel=function(data,e){var t=this.childAt(1),n=this.childAt(2),r=data.hostModel,l=data.getItemModel(e),c=data.getItemLayout(e).label,d=data.getItemVisual(e,"color");o.updateProps(t,{shape:{points:c.linePoints||c.linePoints}},r,e),o.updateProps(n,{style:{x:c.x,y:c.y}},r,e),n.attr({rotation:c.rotation,origin:[c.x,c.y],z2:10});var h=l.getModel("label"),f=l.getModel("emphasis.label"),m=l.getModel("labelLine"),v=l.getModel("emphasis.labelLine");d=data.getItemVisual(e,"color");o.setLabelStyle(n.style,n.hoverStyle={},h,f,{labelFetcher:data.hostModel,labelDataIndex:e,defaultText:data.getName(e),autoColor:d,useInsideStyle:!!c.inside},{textAlign:c.textAlign,textVerticalAlign:c.verticalAlign}),n.ignore=n.normalIgnore=!h.get("show"),n.hoverIgnore=!f.get("show"),t.ignore=t.normalIgnore=!m.get("show"),t.hoverIgnore=!v.get("show"),t.setStyle({stroke:d}),t.setStyle(m.getModel("lineStyle").getLineStyle()),t.hoverStyle=v.getModel("lineStyle").getLineStyle()},r.inherits(c,o.Group);var f=l.extend({type:"funnel",render:function(e,t,n){var data=e.getData(),o=this._data,r=this.group;data.diff(o).add(function(e){var t=new c(data,e);data.setItemGraphicEl(e,t),r.add(t)}).update(function(e,t){var n=o.getItemGraphicEl(t);n.updateData(data,e),r.add(n),data.setItemGraphicEl(e,n)}).remove(function(e){var t=o.getItemGraphicEl(e);r.remove(t)}).execute(),this._data=data},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});e.exports=f},function(e,t,n){var o=n(110),r=n(17),l=r.parsePercent,c=r.linearMap;e.exports=function(e,t,n){e.eachSeriesByType("funnel",function(e){var data=e.getData(),n=data.mapDimension("value"),r=e.get("sort"),d=function(e,t){return o.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t),h=function(data,e){for(var t=data.mapDimension("value"),n=data.mapArray(t,function(e){return e}),o=[],r="ascending"===e,i=0,l=data.count();i<l;i++)o[i]=i;return"function"==typeof e?o.sort(e):"none"!==e&&o.sort(function(a,b){return r?n[a]-n[b]:n[b]-n[a]}),o}(data,r),f=[l(e.get("minSize"),d.width),l(e.get("maxSize"),d.width)],m=data.getDataExtent(n),v=e.get("min"),y=e.get("max");null==v&&(v=Math.min(m[0],0)),null==y&&(y=m[1]);var x=e.get("funnelAlign"),_=e.get("gap"),w=(d.height-_*(data.count()-1))/data.count(),S=d.y,M=function(e,t){var o,r=data.get(n,e)||0,l=c(r,[v,y],f,!0);switch(x){case"left":o=d.x;break;case"center":o=d.x+(d.width-l)/2;break;case"right":o=d.x+d.width-l}return[[o,t],[o+l,t]]};"ascending"===r&&(w=-w,_=-_,S+=d.height,h=h.reverse());for(var i=0;i<h.length;i++){var I=h[i],A=h[i+1],T=data.getItemModel(I).get("itemStyle.height");null==T?T=w:(T=l(T,d.height),"ascending"===r&&(T=-T));var D=M(I,S),L=M(A,S+T);S+=T+_,data.setItemLayout(I,{points:D.concat(L.slice().reverse())})}!function(data){data.each(function(e){var t,n,o,r,l=data.getItemModel(e),c=l.getModel("label").get("position"),d=l.getModel("labelLine"),h=data.getItemLayout(e),f=h.points,m="inner"===c||"inside"===c||"center"===c;if(m)t="center",r=[[n=(f[0][0]+f[1][0]+f[2][0]+f[3][0])/4,o=(f[0][1]+f[1][1]+f[2][1]+f[3][1])/4],[n,o]];else{var v,y,x,_=d.get("length");"left"===c?(v=(f[3][0]+f[0][0])/2,y=(f[3][1]+f[0][1])/2,n=(x=v-_)-5,t="right"):(v=(f[1][0]+f[2][0])/2,y=(f[1][1]+f[2][1])/2,n=(x=v+_)+5,t="left"),r=[[v,y],[x,y]],o=y}h.label={linePoints:r,x:n,y:o,verticalAlign:"middle",textAlign:t,inside:m}})}(data)})}},function(e,t,n){var o=n(31);n(567),n(692),n(693);var r=n(694);o.registerVisual(r)},function(e,t,n){var o=n(0),r=n(4);e.exports=function(option){!function(option){if(!option.parallel){var e=!1;o.each(option.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(option.parallel=[{}])}}(option),function(option){var e=r.normalizeToArray(option.parallelAxis);o.each(e,function(e){if(o.isObject(e)){var t=e.parallelIndex||0,n=r.normalizeToArray(option.parallel)[t];n&&n.parallelAxisDefault&&o.merge(e,n.parallelAxisDefault,!1)}})}(option)}},function(e,t,n){var o=n(0),r=n(58),l=n(110),c=n(161),d=n(686),h=n(55),f=n(17),m=n(489),v=o.each,y=Math.min,x=Math.max,_=Math.floor,w=Math.ceil,S=f.round,M=Math.PI;function I(e,t,n){this._axesMap=o.createHashMap(),this._axesLayout={},this.dimensions=e.dimensions,this._rect,this._model=e,this._init(e,t,n)}function A(e,t){return y(x(e,t[0]),t[1])}I.prototype={type:"parallel",constructor:I,_init:function(e,t,n){var o=e.dimensions,r=e.parallelAxisIndex;v(o,function(e,n){var o=r[n],l=t.getComponent("parallelAxis",o),h=this._axesMap.set(e,new d(e,c.createScaleByModel(l),[0,0],l.get("type"),o)),f="category"===h.type;h.onBand=f&&l.get("boundaryGap"),h.inverse=l.get("inverse"),l.axis=h,h.model=l,h.coordinateSystem=l.coordinateSystem=this},this)},update:function(e,t){this._updateAxesFromSeries(this._model,e)},containPoint:function(e){var t=this._makeLayoutInfo(),n=t.axisBase,o=t.layoutBase,r=t.pixelDimIndex,l=e[1-r],c=e[r];return l>=n&&l<=n+t.axisLength&&c>=o&&c<=o+t.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(e,t){t.eachSeries(function(n){if(e.contains(n,t)){var data=n.getData();v(this.dimensions,function(e){var t=this._axesMap.get(e);t.scale.unionExtentFromData(data,data.mapDimension(e)),c.niceScaleExtent(t.scale,t.model)},this)}},this)},resize:function(e,t){this._rect=l.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var e,t=this._model,rect=this._rect,n=["x","y"],o=["width","height"],r=t.get("layout"),l="horizontal"===r?0:1,c=rect[o[l]],d=[0,c],h=this.dimensions.length,f=A(t.get("axisExpandWidth"),d),m=A(t.get("axisExpandCount")||0,[0,h]),v=t.get("axisExpandable")&&h>3&&h>m&&m>1&&f>0&&c>0,y=t.get("axisExpandWindow");y?(e=A(y[1]-y[0],d),y[1]=y[0]+e):(e=A(f*(m-1),d),(y=[f*(t.get("axisExpandCenter")||_(h/2))-e/2])[1]=y[0]+e);var x=(c-e)/(h-m);x<3&&(x=0);var M=[_(S(y[0]/f,1))+1,w(S(y[1]/f,1))-1],I=x/f*y[0];return{layout:r,pixelDimIndex:l,layoutBase:rect[n[l]],layoutLength:c,axisBase:rect[n[1-l]],axisLength:rect[o[1-l]],axisExpandable:v,axisExpandWidth:f,axisCollapseWidth:x,axisExpandWindow:y,axisCount:h,winInnerIndices:M,axisExpandWindow0Pos:I}},_layoutAxes:function(){var rect=this._rect,e=this._axesMap,t=this.dimensions,n=this._makeLayoutInfo(),o=n.layout;e.each(function(e){var t=[0,n.axisLength],o=e.inverse?1:0;e.setExtent(t[o],t[1-o])}),v(t,function(e,t){var l=(n.axisExpandable?function(e,t){var n,o,r=t.layoutLength,l=t.axisExpandWidth,c=t.axisCount,d=t.axisCollapseWidth,h=t.winInnerIndices,f=d,m=!1;e<h[0]?(n=e*d,o=d):e<=h[1]?(n=t.axisExpandWindow0Pos+e*l-t.axisExpandWindow[0],f=l,m=!0):(n=r-(c-1-e)*d,o=d);return{position:n,axisNameAvailableWidth:f,axisLabelShow:m,nameTruncateMaxWidth:o}}:function(e,t){var n=t.layoutLength/(t.axisCount-1);return{position:n*e,axisNameAvailableWidth:n,axisLabelShow:!0}})(t,n),c={horizontal:{x:l.position,y:n.axisLength},vertical:{x:0,y:l.position}},d={horizontal:M/2,vertical:0},h=[c[o].x+rect.x,c[o].y+rect.y],f=d[o],m=r.create();r.rotate(m,m,f),r.translate(m,m,h),this._axesLayout[e]={position:h,rotation:f,transform:m,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(e){return this._axesMap.get(e)},dataToPoint:function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},eachActiveState:function(data,e,t,n){null==t&&(t=0),null==n&&(n=data.count());var r=this._axesMap,l=this.dimensions,c=[],d=[];o.each(l,function(e){c.push(data.mapDimension(e)),d.push(r.get(e).model)});for(var h=this.hasAxisBrushed(),f=t;f<n;f++){var m;if(h){m="active";for(var v=data.getValues(c,f),y=0,x=l.length;y<x;y++){if("inactive"===d[y].getActiveState(v[y])){m="inactive";break}}}else m="normal";e(m,f)}},hasAxisBrushed:function(){for(var e=this.dimensions,t=this._axesMap,n=!1,o=0,r=e.length;o<r;o++)"normal"!==t.get(e[o]).model.getActiveState()&&(n=!0);return n},axisCoordToPoint:function(e,t){var n=this._axesLayout[t];return h.applyTransform([e,0],n.transform)},getAxisLayout:function(e){return o.clone(this._axesLayout[e])},getSlidedAxisExpandWindow:function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,o=t.axisExpandWindow.slice(),r=o[1]-o[0],l=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:o};var c,d=e[n]-t.layoutBase-t.axisExpandWindow0Pos,h="slide",f=t.axisCollapseWidth,v=this._model.get("axisExpandSlideTriggerArea"),_=null!=v[0];if(f)_&&f&&d<r*v[0]?(h="jump",c=d-r*v[2]):_&&f&&d>r*(1-v[0])?(h="jump",c=d-r*(1-v[2])):(c=d-r*v[1])>=0&&(c=d-r*(1-v[1]))<=0&&(c=0),(c*=t.axisExpandWidth/f)?m(c,o,l,"all"):h="none";else{r=o[1]-o[0];(o=[x(0,l[1]*d/r-r/2)])[1]=y(l[1],o[0]+r),o[0]=o[1]-r}return{axisExpandWindow:o,behavior:h}}};var T=I;e.exports=T},function(e,t,n){var o=n(0),r=n(261),l=function(e,t,n,o,l){r.call(this,e,t,n),this.type=o||"value",this.axisIndex=l};l.prototype={constructor:l,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},o.inherits(l,r);var c=l;e.exports=c},function(e,t,n){var o=n(0),r=n(56);n(688);var l=r.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(e){var t=this.option;e&&o.merge(t,e,!0),this._initDimensions()},contains:function(e,t){var n=e.get("parallelIndex");return null!=n&&t.getComponent("parallel",n)===this},setAxisExpand:function(e){o.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])},this)},_initDimensions:function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[],n=o.filter(this.dependentModels.parallelAxis,function(e){return(e.get("parallelIndex")||0)===this.componentIndex},this);o.each(n,function(n){e.push("dim"+n.get("dim")),t.push(n.componentIndex)})}});e.exports=l},function(e,t,n){var o=n(0),r=n(56),l=n(113),c=n(502),d=n(17),h=n(264),f=r.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return l([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(e){var t=this.activeIntervals=o.clone(e);if(t)for(var i=t.length-1;i>=0;i--)d.asc(t[i])},getActiveState:function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e||isNaN(e))return"inactive";if(1===t.length){var n=t[0];if(n[0]<=e&&e<=n[1])return"active"}else for(var i=0,o=t.length;i<o;i++)if(t[i][0]<=e&&e<=t[i][1])return"active";return"inactive"}});o.merge(f.prototype,h),c("parallel",f,function(e,option){return option.type||(option.data?"category":"value")},{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10});var m=f;e.exports=m},function(e,t,n){n(568),n(690),n(691)},function(e,t,n){var o=n(31);o.registerAction({type:"axisAreaSelect",event:"axisAreaSelected"},function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(t){t.axis.model.setActiveIntervals(e.intervals)})}),o.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(t){t.setAxisExpand(e)})})},function(e,t,n){var o=n(31),r=n(0),l=n(481),c=n(519),d=n(569),h=n(55),f=["axisLine","axisTickLabel","axisName"],m=o.extendComponentView({type:"parallelAxis",init:function(e,t){m.superApply(this,"init",arguments),(this._brushController=new c(t.getZr())).on("brush",r.bind(this._onBrush,this))},render:function(e,t,n,o){if(!function(e,t,n){return n&&"axisAreaSelect"===n.type&&t.findComponents({mainType:"parallelAxis",query:n})[0]===e}(e,t,o)){this.axisModel=e,this.api=n,this.group.removeAll();var c=this._axisGroup;if(this._axisGroup=new h.Group,this.group.add(this._axisGroup),e.get("show")){var d=function(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}(e,t),m=d.coordinateSystem,v=e.getAreaSelectStyle(),y=v.width,x=e.axis.dim,_=m.getAxisLayout(x),w=r.extend({strokeContainThreshold:y},_),S=new l(e,w);r.each(f,S.add,S),this._axisGroup.add(S.getGroup()),this._refreshBrushController(w,v,e,d,y,n);var M=o&&!1===o.animation?null:e;h.groupTransition(c,this._axisGroup,M)}}},_refreshBrushController:function(e,t,n,o,l,c){var f=n.axis.getExtent(),m=f[1]-f[0],v=Math.min(30,.1*Math.abs(m)),rect=h.BoundingRect.create({x:f[0],y:-l/2,width:m,height:l});rect.x-=v,rect.width+=2*v,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,position:e.position}).setPanels([{panelId:"pl",clipPath:d.makeRectPanelClipPath(rect),isTargetByCursor:d.makeRectIsTargetByCursor(rect,c,o),getLinearBrushOtherExtent:d.makeLinearBrushOtherExtent(rect,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers(function(e){var t=e.axis;return r.map(e.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}})}(n))},_onBrush:function(e,t){var n=this.axisModel,o=n.axis,l=r.map(e,function(e){return[o.coordToData(e.range[0],!0),o.coordToData(e.range[1],!0)]});(!n.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:l})},dispose:function(){this._brushController.dispose()}});var v=m;e.exports=v},function(e,t,n){var o=n(0),r=o.each,l=o.createHashMap,c=n(257),d=n(260),h=c.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(option,e){var source=this.getSource();return function(source,e){if(source.encodeDefine)return;var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(!t)return;var n=source.encodeDefine=l();r(t.dimensions,function(e){var t=+e.replace("dim","");n.set(e,t)})}(source,this),d(source,this)},getRawIndicesByActiveState:function(e){var t=this.coordinateSystem,data=this.getData(),n=[];return t.eachActiveState(data,function(t,o){e===t&&n.push(data.getRawIndex(o))}),n},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});e.exports=h},function(e,t,n){var o=n(55),r=n(259),l=.3;function c(data,e,t,n){for(var o,r=[],i=0;i<t.length;i++){var l=t[i],c=data.get(data.mapDimension(l),e);o=c,("category"===n.getAxis(l).type?null==o:null==o||isNaN(o))||r.push(n.dataToPoint(c,l))}return r}function d(data,e,t,n,r){var l=c(data,t,n,r),line=new o.Polyline({shape:{points:l},silent:!0,z2:10});return e.add(line),data.setItemGraphicEl(t,line),line}function h(e){var t=e.get("smooth",!0);return!0===t&&(t=l),{lineStyle:e.getModel("lineStyle").getLineStyle(),smooth:null!=t?t:l}}function f(e,data,t,n){var o=n.lineStyle;data.hasItemOption&&(o=data.getItemModel(t).getModel("lineStyle").getLineStyle());e.useStyle(o);var r=e.style;r.fill=null,r.stroke=data.getItemVisual(t,"color"),r.opacity=data.getItemVisual(t,"opacity"),n.smooth&&(e.shape.smooth=n.smooth)}var m=r.extend({type:"parallel",init:function(){this._dataGroup=new o.Group,this.group.add(this._dataGroup),this._data,this._initialized},render:function(e,t,n,r){var l=this._dataGroup,data=e.getData(),m=this._data,v=e.coordinateSystem,y=v.dimensions,x=h(e);if(data.diff(m).add(function(e){f(d(data,l,e,y,v),data,e,x)}).update(function(t,n){var line=m.getItemGraphicEl(n),l=c(data,t,y,v);data.setItemGraphicEl(t,line);var d=r&&!1===r.animation?null:e;o.updateProps(line,{shape:{points:l}},d,t),f(line,data,t,x)}).remove(function(e){var line=m.getItemGraphicEl(e);l.remove(line)}).execute(),!this._initialized){this._initialized=!0;var _=function(e,t,n){var r=e.model,rect=e.getRect(),l=new o.Rect({shape:{x:rect.x,y:rect.y,width:rect.width,height:rect.height}}),c="horizontal"===r.get("layout")?"width":"height";return l.setShape(c,0),o.initProps(l,{shape:{width:rect.width,height:rect.height}},t,n),l}(v,e,function(){setTimeout(function(){l.removeClipPath()})});l.setClipPath(_)}this._data=data},incrementalPrepareRender:function(e,t,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(e,t,n){for(var data=t.getData(),o=t.coordinateSystem,r=o.dimensions,l=h(t),c=e.start;c<e.end;c++){var line=d(data,this._dataGroup,c,r,o);line.incremental=!0,f(line,data,c,l)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});e.exports=m},function(e,t){var n=["lineStyle","normal","opacity"],o={seriesType:"parallel",reset:function(e,t,o){var r=e.getModel("itemStyle"),l=e.getModel("lineStyle"),c=t.get("color"),d=l.get("color")||r.get("color")||c[e.seriesIndex%c.length],h=e.get("inactiveOpacity"),f=e.get("activeOpacity"),m=e.getModel("lineStyle").getLineStyle(),v=e.coordinateSystem,data=e.getData(),y={normal:m.opacity,active:f,inactive:h};return data.setVisual("color",d),{progress:function(e,data){v.eachActiveState(data,function(e,t){var o=y[e];if("normal"===e&&data.hasItemOption){var r=data.getItemModel(t).get(n,!0);null!=r&&(o=r)}data.setItemVisual(t,"opacity",o)},e.start,e.end)}}}};e.exports=o},function(e,t,n){var o=n(31);n(696),n(697),n(698);var r=n(699),l=n(700);o.registerLayout(r),o.registerVisual(l)},function(e,t,n){var o=n(257),r=n(563),l=n(40).encodeHTML,c=o.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(option){var e=option.edges||option.links,t=option.data||option.nodes;if(t&&e)return r(t,e,this,!0).data},setNodePosition:function(e,t){var n=this.option.data[e];n.localX=t[0],n.localY=t[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(e,t,n){if("edge"===n){var o=this.getDataParams(e,n),r=o.data,html=r.source+" -- "+r.target;return o.value&&(html+=" : "+o.value),l(html)}return c.superCall(this,"formatTooltip",e,t)},optionUpdated:function(){var option=this.option;!0===option.focusNodeAdjacency&&(option.focusNodeAdjacency="allEdges")},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}}),d=c;e.exports=d},function(e,t,n){var o=n(55),r=n(31),l=n(0),c=["itemStyle","opacity"],d=["lineStyle","opacity"];function h(e,t){return e.getVisual("opacity")||e.getModel().get(t)}function f(e,t,n){var o=e.getGraphicEl(),r=h(e,t);null!=n&&(null==r&&(r=1),r*=n),o.downplay&&o.downplay(),o.traverse(function(e){"group"!==e.type&&e.setStyle("opacity",r)})}function m(e,t){var n=h(e,t),o=e.getGraphicEl();o.highlight&&o.highlight(),o.traverse(function(e){"group"!==e.type&&e.setStyle("opacity",n)})}var v=o.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(e,t){var n=t.extent;"vertical"===t.orient?(e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),e.lineTo(t.x2+n,t.y2),e.bezierCurveTo(t.cpx2+n,t.cpy2,t.cpx1+n,t.cpy1,t.x1+n,t.y1)):(e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),e.lineTo(t.x2,t.y2+n),e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n)),e.closePath()}}),y=r.extendChartView({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(e,t,n){var r=this,l=e.getGraph(),c=this.group,d=e.layoutInfo,h=d.width,f=d.height,m=e.getData(),y=e.getData("edge"),x=e.get("orient");this._model=e,c.removeAll(),c.attr("position",[d.x,d.y]),l.eachEdge(function(t){var n=new v;n.dataIndex=t.dataIndex,n.seriesIndex=e.seriesIndex,n.dataType="edge";var r,l,d,m,_,w,S,M,I=t.getModel("lineStyle"),A=I.get("curveness"),T=t.node1.getLayout(),D=t.node1.getModel(),L=D.get("localX"),C=D.get("localY"),P=t.node2.getLayout(),N=t.node2.getModel(),k=N.get("localX"),O=N.get("localY"),R=t.getLayout();switch(n.shape.extent=Math.max(1,R.dy),n.shape.orient=x,"vertical"===x?(r=(null!=L?L*h:T.x)+R.sy,l=(null!=C?C*f:T.y)+T.dy,d=(null!=k?k*h:P.x)+R.ty,_=r,w=l*(1-A)+(m=null!=O?O*f:P.y)*A,S=d,M=l*A+m*(1-A)):(r=(null!=L?L*h:T.x)+T.dx,l=(null!=C?C*f:T.y)+R.sy,_=r*(1-A)+(d=null!=k?k*h:P.x)*A,w=l,S=r*A+d*(1-A),M=m=(null!=O?O*f:P.y)+R.ty),n.setShape({x1:r,y1:l,x2:d,y2:m,cpx1:_,cpy1:w,cpx2:S,cpy2:M}),n.setStyle(I.getItemStyle()),n.style.fill){case"source":n.style.fill=t.node1.getVisual("color");break;case"target":n.style.fill=t.node2.getVisual("color")}o.setHoverStyle(n,t.getModel("emphasis.lineStyle").getItemStyle()),c.add(n),y.setItemGraphicEl(t.dataIndex,n)}),l.eachNode(function(t){var n=t.getLayout(),r=t.getModel(),l=r.get("localX"),d=r.get("localY"),v=r.getModel("label"),y=r.getModel("emphasis.label"),rect=new o.Rect({shape:{x:null!=l?l*h:n.x,y:null!=d?d*f:n.y,width:n.dx,height:n.dy},style:r.getModel("itemStyle").getItemStyle()}),x=t.getModel("emphasis.itemStyle").getItemStyle();o.setLabelStyle(rect.style,x,v,y,{labelFetcher:e,labelDataIndex:t.dataIndex,defaultText:t.id,isRectText:!0}),rect.setStyle("fill",t.getVisual("color")),o.setHoverStyle(rect,x),c.add(rect),m.setItemGraphicEl(t.dataIndex,rect),rect.dataType="node"}),m.eachItemGraphicEl(function(t,o){var l=m.getItemModel(o);l.get("draggable")&&(t.drift=function(t,l){r._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=l,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:m.getRawIndex(o),localX:this.shape.x/h,localY:this.shape.y/f})},t.ondragend=function(){r._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move"),l.get("focusNodeAdjacency")&&(t.off("mouseover").on("mouseover",function(){r._focusAdjacencyDisabled||n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:t.dataIndex})}),t.off("mouseout").on("mouseout",function(){r._focusAdjacencyDisabled||n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})}))}),y.eachItemGraphicEl(function(t,o){y.getItemModel(o).get("focusNodeAdjacency")&&(t.off("mouseover").on("mouseover",function(){r._focusAdjacencyDisabled||n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:t.dataIndex})}),t.off("mouseout").on("mouseout",function(){r._focusAdjacencyDisabled||n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})}))}),!this._data&&e.get("animation")&&c.setClipPath(function(rect,e,t){var n=new o.Rect({shape:{x:rect.x-10,y:rect.y-10,width:0,height:rect.height+20}});return o.initProps(n,{shape:{width:rect.width+20,height:rect.height+20}},e,t),n}(c.getBoundingRect(),e,function(){c.removeClipPath()})),this._data=e.getData()},dispose:function(){},focusNodeAdjacency:function(e,t,n,o){var data=this._model.getData(),r=data.graph,h=o.dataIndex,v=data.getItemModel(h),y=o.edgeDataIndex;if(null!=h||null!=y){var x=r.getNodeByIndex(h),_=r.getEdgeByIndex(y);if(r.eachNode(function(e){f(e,c,.1)}),r.eachEdge(function(e){f(e,d,.1)}),x){m(x,c);var w=v.get("focusNodeAdjacency");"outEdges"===w?l.each(x.outEdges,function(e){e.dataIndex<0||(m(e,d),m(e.node2,c))}):"inEdges"===w?l.each(x.inEdges,function(e){e.dataIndex<0||(m(e,d),m(e.node1,c))}):"allEdges"===w&&l.each(x.edges,function(e){e.dataIndex<0||(m(e,d),m(e.node1,c),m(e.node2,c))})}_&&(m(_,d),m(_.node1,c),m(_.node2,c))}},unfocusNodeAdjacency:function(e,t,n,o){var r=this._model.getGraph();r.eachNode(function(e){f(e,c)}),r.eachEdge(function(e){f(e,d)})}});e.exports=y},function(e,t,n){var o=n(31);n(564),o.registerAction({type:"dragNode",event:"dragNode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])})})},function(e,t,n){var o=n(110),r=n(0),l=n(4).groupData;n(12).__DEV__;function c(e,t,n,o,l){r.each(e,function(e){var r,c,i,d=0,h=e.length;if("vertical"===l){var f;for(e.sort(function(a,b){return a.getLayout().x-b.getLayout().x}),i=0;i<h;i++)(c=d-(r=e[i]).getLayout().x)>0&&(f=r.getLayout().x+c,r.setLayout({x:f},!0)),d=r.getLayout().x+r.getLayout().dx+t;if((c=d-t-o)>0)for(f=r.getLayout().x-c,r.setLayout({x:f},!0),d=f,i=h-2;i>=0;--i)(c=(r=e[i]).getLayout().x+r.getLayout().dx+t-d)>0&&(f=r.getLayout().x-c,r.setLayout({x:f},!0)),d=r.getLayout().x}else{var m;for(e.sort(function(a,b){return a.getLayout().y-b.getLayout().y}),i=0;i<h;i++)(c=d-(r=e[i]).getLayout().y)>0&&(m=r.getLayout().y+c,r.setLayout({y:m},!0)),d=r.getLayout().y+r.getLayout().dy+t;if((c=d-t-n)>0)for(m=r.getLayout().y-c,r.setLayout({y:m},!0),d=m,i=h-2;i>=0;--i)(c=(r=e[i]).getLayout().y+r.getLayout().dy+t-d)>0&&(m=r.getLayout().y-c,r.setLayout({y:m},!0)),d=r.getLayout().y}})}function d(e,t,n){r.each(e.slice().reverse(),function(e){r.each(e,function(e){if(e.outEdges.length){var o=y(e.outEdges,h,n)/y(e.outEdges,v,n);if("vertical"===n){var r=e.getLayout().x+(o-m(e,n))*t;e.setLayout({x:r},!0)}else{var l=e.getLayout().y+(o-m(e,n))*t;e.setLayout({y:l},!0)}}})})}function h(e,t){return m(e.node2,t)*e.getValue()}function f(e,t){return m(e.node1,t)*e.getValue()}function m(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function v(e){return e.getValue()}function y(e,t,n){for(var o=0,r=e.length,i=-1;++i<r;){var l=+t.call(e,e[i],n);isNaN(l)||(o+=l)}return o}function x(e,t,n){r.each(e,function(e){r.each(e,function(e){if(e.inEdges.length){var o=y(e.inEdges,f,n)/y(e.inEdges,v,n);if("vertical"===n){var r=e.getLayout().x+(o-m(e,n))*t;e.setLayout({x:r},!0)}else{var l=e.getLayout().y+(o-m(e,n))*t;e.setLayout({y:l},!0)}}})})}e.exports=function(e,t,n){e.eachSeriesByType("sankey",function(e){var n=e.get("nodeWidth"),h=e.get("nodeGap"),f=function(e,t){return o.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=f;var m=f.width,_=f.height,w=e.getGraph(),S=w.nodes,M=w.edges;!function(e){r.each(e,function(e){var t=y(e.outEdges,v),n=y(e.inEdges,v),o=Math.max(t,n);e.setLayout({value:o},!0)})}(S),function(e,t,n,o,h,f,m,v){(function(e,t,n,o,l,c){for(var d=[],h=[],f=[],m=[],v=0,i=0;i<t.length;i++)d[i]=1;for(i=0;i<e.length;i++)h[i]=e[i].inEdges.length,0===h[i]&&f.push(e[i]);for(;f.length;){for(var y=0;y<f.length;y++){var x=f[y];"vertical"===c?(x.setLayout({y:v},!0),x.setLayout({dy:n},!0)):(x.setLayout({x:v},!0),x.setLayout({dx:n},!0));for(var _=0;_<x.outEdges.length;_++){var w=x.outEdges[_],S=t.indexOf(w);d[S]=0;var M=w.node2,I=e.indexOf(M);0==--h[I]&&m.push(M)}}++v,f=m,m=[]}for(i=0;i<d.length;i++);(function(e,t,n){r.each(e,function(e){e.outEdges.length||("vertical"===n?e.setLayout({y:t-1},!0):e.setLayout({x:t-1},!0))})})(e,v,c),function(e,t,n){r.each(e,function(e){if("vertical"===n){var o=e.getLayout().y*t;e.setLayout({y:o},!0)}else{var r=e.getLayout().x*t;e.setLayout({x:r},!0)}})}(e,"vertical"===c?(l-n)/(v-1):(o-n)/(v-1),c)})(e,t,n,h,f,v),function(e,t,n,o,h,f,m){var v=function(e,t){var n=[],o="vertical"===t?"y":"x",c=l(e,function(e){return e.getLayout()[o]});return c.keys.sort(function(a,b){return a-b}),r.each(c.keys,function(e){n.push(c.buckets.get(e))}),n}(e,m);(function(e,t,n,o,l,c,d){var h=[];r.each(t,function(e){var t=e.length,n=0,f=0;r.each(e,function(e){n+=e.getLayout().value}),f="vertical"===d?(l-(t-1)*c)/n:(o-(t-1)*c)/n,h.push(f)}),h.sort(function(a,b){return a-b});var f=h[0];r.each(t,function(e){r.each(e,function(e,i){var t=e.getLayout().value*f;"vertical"===d?(e.setLayout({x:i},!0),e.setLayout({dx:t},!0)):(e.setLayout({y:i},!0),e.setLayout({dy:t},!0))})}),r.each(n,function(e){var t=+e.getValue()*f;e.setLayout({dy:t},!0)})})(0,v,t,n,o,h,m),c(v,h,n,o,m);for(var y=1;f>0;f--)d(v,y*=.99,m),c(v,h,n,o,m),x(v,y,m),c(v,h,n,o,m)}(e,t,f,h,o,m,v),function(e,t){r.each(e,function(e){"vertical"===t?(e.outEdges.sort(function(a,b){return a.node2.getLayout().x-b.node2.getLayout().x}),e.inEdges.sort(function(a,b){return a.node1.getLayout().x-b.node1.getLayout().x})):(e.outEdges.sort(function(a,b){return a.node2.getLayout().y-b.node2.getLayout().y}),e.inEdges.sort(function(a,b){return a.node1.getLayout().y-b.node1.getLayout().y}))}),r.each(e,function(e){var t=0,n=0;r.each(e.outEdges,function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy}),r.each(e.inEdges,function(e){e.setLayout({ty:n},!0),n+=e.getLayout().dy})})}(e,v)}(S,M,n,h,m,_,0!==r.filter(S,function(e){return 0===e.getLayout().value}).length?0:e.get("layoutIterations"),e.get("orient"))})}},function(e,t,n){var o=n(483),r=n(0);e.exports=function(e,t){e.eachSeriesByType("sankey",function(e){var t=e.getGraph().nodes;if(t.length){var n=1/0,l=-1/0;r.each(t,function(e){var t=e.getLayout().value;t<n&&(n=t),t>l&&(l=t)}),r.each(t,function(t){var r=new o({type:"color",mappingMethod:"linear",dataExtent:[n,l],visual:e.get("color")}).mapValueToVisual(t.getLayout().value);t.setVisual("color",r);var c=t.getModel().get("itemStyle.color");null!=c&&t.setVisual("color",c)})}})}},function(e,t,n){var o=n(31);n(702),n(703);var r=n(704),l=n(705);o.registerVisual(r),o.registerLayout(l)},function(e,t,n){var o=n(0),r=n(257),l=n(570).seriesModelMixin,c=r.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});o.mixin(c,l,!0);var d=c;e.exports=d},function(e,t,n){var o=n(0),r=n(259),l=n(55),c=n(8),d=["itemStyle"],h=["emphasis","itemStyle"],f=r.extend({type:"boxplot",render:function(e,t,n){var data=e.getData(),o=this.group,r=this._data;this._data||o.removeAll();var l="horizontal"===e.get("layout")?1:0;data.diff(r).add(function(e){if(data.hasValue(e)){var t=v(data.getItemLayout(e),data,e,l,!0);data.setItemGraphicEl(e,t),o.add(t)}}).update(function(e,t){var n=r.getItemGraphicEl(t);if(data.hasValue(e)){var c=data.getItemLayout(e);n?y(c,n,data,e):n=v(c,data,e,l),o.add(n),data.setItemGraphicEl(e,n)}else o.remove(n)}).remove(function(e){var t=r.getItemGraphicEl(e);t&&o.remove(t)}).execute(),this._data=data},remove:function(e){var t=this.group,data=this._data;this._data=null,data&&data.eachItemGraphicEl(function(e){e&&t.remove(e)})},dispose:o.noop}),m=c.extend({type:"boxplotBoxPath",shape:{},buildPath:function(e,t){var n=t.points,i=0;for(e.moveTo(n[i][0],n[i][1]),i++;i<4;i++)e.lineTo(n[i][0],n[i][1]);for(e.closePath();i<n.length;i++)e.moveTo(n[i][0],n[i][1]),i++,e.lineTo(n[i][0],n[i][1])}});function v(e,data,t,n,o){var r=e.ends,l=new m({shape:{points:o?x(r,n,e):r}});return y(e,l,data,t,o),l}function y(e,t,data,n,o){var r=data.hostModel;(0,l[o?"initProps":"updateProps"])(t,{shape:{points:e.ends}},r,n);var c=data.getItemModel(n),f=c.getModel(d),m=data.getItemVisual(n,"color"),v=f.getItemStyle(["borderColor"]);v.stroke=m,v.strokeNoScale=!0,t.useStyle(v),t.z2=100;var y=c.getModel(h).getItemStyle();l.setHoverStyle(t,y)}function x(e,t,n){return o.map(e,function(e){return(e=e.slice())[t]=n.initBaseline,e})}var _=f;e.exports=_},function(e,t){var n=["itemStyle","borderColor"];e.exports=function(e,t){var o=e.get("color");e.eachRawSeriesByType("boxplot",function(t){var r=o[t.seriesIndex%o.length],data=t.getData();data.setVisual({legendSymbol:"roundRect",color:t.get(n)||r}),e.isSeriesFiltered(t)||data.each(function(e){var t=data.getItemModel(e);data.setItemVisual(e,{color:t.get(n,!0)})})})}},function(e,t,n){var o=n(0),r=n(17).parsePercent,l=o.each;e.exports=function(e){var t=function(e){var t=[],n=[];return e.eachSeriesByType("boxplot",function(e){var r=e.getBaseAxis(),l=o.indexOf(n,r);l<0&&(l=n.length,n[l]=r,t[l]={axis:r,seriesModels:[]}),t[l].seriesModels.push(e)}),t}(e);l(t,function(e){var t=e.seriesModels;t.length&&(function(e){var t,n,c=e.axis,d=e.seriesModels,h=d.length,f=e.boxWidthList=[],m=e.boxOffsetList=[],v=[];if("category"===c.type)n=c.getBandWidth();else{var y=0;l(d,function(e){y=Math.max(y,e.getData().count())}),t=c.getExtent(),Math.abs(t[1]-t[0])}l(d,function(e){var t=e.get("boxWidth");o.isArray(t)||(t=[t,t]),v.push([r(t[0],n)||0,r(t[1],n)||0])});var x=.8*n-2,_=x/h*.3,w=(x-_*(h-1))/h,base=w/2-x/2;l(d,function(e,t){m.push(base),base+=_+w,f.push(Math.min(Math.max(w,v[t][0]),v[t][1]))})}(e),l(t,function(t,n){!function(e,t,n){var o=e.coordinateSystem,data=e.getData(),r=n/2,l="horizontal"===e.get("layout")?0:1,c=1-l,d=["x","y"],h=data.mapDimension(d[l]),f=data.mapDimension(d[c],!0);if(!(null==h||f.length<5))for(var m=0;m<data.count();m++){var v=data.get(h,m),y=I(v,f[2],m),x=I(v,f[0],m),_=I(v,f[1],m),w=I(v,f[3],m),S=I(v,f[4],m),M=[];A(M,_,0),A(M,w,1),M.push(x,_,S,w),T(M,x),T(M,S),T(M,y),data.setItemLayout(m,{initBaseline:y[c],ends:M})}function I(e,n,r){var d,h=data.get(n,r),p=[];return p[l]=e,p[c]=h,isNaN(e)||isNaN(h)?d=[NaN,NaN]:(d=o.dataToPoint(p))[l]+=t,d}function A(e,t,n){var o=t.slice(),c=t.slice();o[l]+=r,c[l]-=r,n?e.push(o,c):e.push(c,o)}function T(e,t){var n=t.slice(),o=t.slice();n[l]-=r,o[l]+=r,e.push(n,o)}}(t,e.boxOffsetList[n],e.boxWidthList[n])}))})}},function(e,t,n){var o=n(31);n(707),n(708);var r=n(709),l=n(710),c=n(711);o.registerPreprocessor(r),o.registerVisual(l),o.registerLayout(c)},function(e,t,n){var o=n(0),r=n(257),l=n(570).seriesModelMixin,c=r.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(e,data,t){var n=data.getItemLayout(e);return n&&t.rect(n.brushRect)}});o.mixin(c,l,!0);var d=c;e.exports=d},function(e,t,n){var o=n(0),r=n(259),l=n(55),c=n(8),d=["itemStyle"],h=["emphasis","itemStyle"],f=["color","color0","borderColor","borderColor0"],m=r.extend({type:"candlestick",render:function(e,t,n){this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},incrementalPrepareRender:function(e,t,n){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,n,o){this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e){var data=e.getData(),t=this._data,n=this.group,o=data.getLayout("isSimpleBox");this._data||n.removeAll(),data.diff(t).add(function(t){if(data.hasValue(t)){var r,c=data.getItemLayout(t);r=y(c,t,!0),l.initProps(r,{shape:{points:c.ends}},e,t),x(r,data,t,o),n.add(r),data.setItemGraphicEl(t,r)}}).update(function(r,c){var d=t.getItemGraphicEl(c);if(data.hasValue(r)){var h=data.getItemLayout(r);d?l.updateProps(d,{shape:{points:h.ends}},e,r):d=y(h,r),x(d,data,r,o),n.add(d),data.setItemGraphicEl(r,d)}else n.remove(d)}).remove(function(e){var o=t.getItemGraphicEl(e);o&&n.remove(o)}).execute(),this._data=data},_renderLarge:function(e){this._clear(),S(e,this.group)},_incrementalRenderNormal:function(e,t){for(var n,data=t.getData(),o=data.getLayout("isSimpleBox");null!=(n=e.next());){var r;x(r=y(data.getItemLayout(n),n),data,n,o),r.incremental=!0,this.group.add(r)}},_incrementalRenderLarge:function(e,t){S(t,this.group,!0)},remove:function(e){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:o.noop}),v=c.extend({type:"normalCandlestickBox",shape:{},buildPath:function(e,t){var n=t.points;this.__simpleBox?(e.moveTo(n[4][0],n[4][1]),e.lineTo(n[6][0],n[6][1])):(e.moveTo(n[0][0],n[0][1]),e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]),e.lineTo(n[3][0],n[3][1]),e.closePath(),e.moveTo(n[4][0],n[4][1]),e.lineTo(n[5][0],n[5][1]),e.moveTo(n[6][0],n[6][1]),e.lineTo(n[7][0],n[7][1]))}});function y(e,t,n){var o=e.ends;return new v({shape:{points:n?_(o,e):o},z2:100})}function x(e,data,t,n){var o=data.getItemModel(t),r=o.getModel(d),c=data.getItemVisual(t,"color"),m=data.getItemVisual(t,"borderColor")||c,v=r.getItemStyle(f);e.useStyle(v),e.style.strokeNoScale=!0,e.style.fill=c,e.style.stroke=m,e.__simpleBox=n;var y=o.getModel(h).getItemStyle();l.setHoverStyle(e,y)}function _(e,t){return o.map(e,function(e){return(e=e.slice())[1]=t.initBaseline,e})}var w=c.extend({type:"largeCandlestickBox",shape:{},buildPath:function(e,t){for(var n=t.points,i=0;i<n.length;)if(this.__sign===n[i++]){var o=n[i++];e.moveTo(o,n[i++]),e.lineTo(o,n[i++])}else i+=3}});function S(e,t,n){var data=e.getData(),o=data.getLayout("largePoints"),r=new w({shape:{points:o},__sign:1});t.add(r);var l=new w({shape:{points:o},__sign:-1});t.add(l),M(1,r,e,data),M(-1,l,e,data),n&&(r.incremental=!0,l.incremental=!0)}function M(e,t,n,data){var o=e>0?"P":"N",r=data.getVisual("borderColor"+o)||data.getVisual("color"+o),l=n.getModel(d).getItemStyle(f);t.useStyle(l),t.style.fill=null,t.style.stroke=r}var I=m;e.exports=I},function(e,t,n){var o=n(0);e.exports=function(option){option&&o.isArray(option.series)&&o.each(option.series,function(e){o.isObject(e)&&"k"===e.type&&(e.type="candlestick")})}},function(e,t,n){var o=n(164),r=["itemStyle","borderColor"],l=["itemStyle","borderColor0"],c=["itemStyle","color"],d=["itemStyle","color0"],h={seriesType:"candlestick",plan:o(),performRawSeries:!0,reset:function(e,t){var data=e.getData(),n=e.pipelineContext.large;if(data.setVisual({legendSymbol:"roundRect",colorP:o(1,e),colorN:o(-1,e),borderColorP:h(1,e),borderColorN:h(-1,e)}),!t.isSeriesFiltered(e))return!n&&{progress:function(e,data){var t;for(;null!=(t=e.next());){var n=data.getItemModel(t),r=data.getItemLayout(t).sign;data.setItemVisual(t,{color:o(r,n),borderColor:h(r,n)})}}};function o(e,t){return t.get(e>0?c:d)}function h(e,t){return t.get(e>0?r:l)}}};e.exports=h},function(e,t,n){var o=n(55).subPixelOptimize,r=n(164),l=n(17).parsePercent,c=n(0).retrieve2,d="undefined"!=typeof Float32Array?Float32Array:Array,h={seriesType:"candlestick",plan:r(),reset:function(e){var t=e.coordinateSystem,data=e.getData(),n=function(e,data){var t,n=e.getBaseAxis(),o="category"===n.type?n.getBandWidth():(t=n.getExtent(),Math.abs(t[1]-t[0])/data.count()),r=l(c(e.get("barMaxWidth"),o),o),d=l(c(e.get("barMinWidth"),1),o),h=e.get("barWidth");return null!=h?l(h,o):Math.max(Math.min(o/2,r),d)}(e,data),r=0,h=1,m=["x","y"],v=data.mapDimension(m[r]),y=data.mapDimension(m[h],!0),x=y[0],_=y[1],w=y[2],S=y[3];if(data.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),!(null==v||y.length<4))return{progress:e.pipelineContext.large?function(e,data){var n,o,l=new d(5*e.count),c=0,m=[],y=[];for(;null!=(o=e.next());){var M=data.get(v,o),I=data.get(x,o),A=data.get(_,o),T=data.get(w,o),D=data.get(S,o);isNaN(M)||isNaN(T)||isNaN(D)?(l[c++]=NaN,c+=4):(l[c++]=f(data,o,I,A,_),m[r]=M,m[h]=T,n=t.dataToPoint(m,null,y),l[c++]=n?n[0]:NaN,l[c++]=n?n[1]:NaN,m[h]=D,n=t.dataToPoint(m,null,y),l[c++]=n?n[1]:NaN)}data.setLayout("largePoints",l)}:function(e,data){var l;for(;null!=(l=e.next());){var c=data.get(v,l),d=data.get(x,l),m=data.get(_,l),y=data.get(w,l),M=data.get(S,l),I=Math.min(d,m),A=Math.max(d,m),T=N(I,c),D=N(A,c),L=N(y,c),C=N(M,c),P=[];k(P,D,0),k(P,T,1),P.push(R(C),R(D),R(L),R(T)),data.setItemLayout(l,{sign:f(data,l,d,m,_),initBaseline:d>m?D[h]:T[h],ends:P,brushRect:O(y,M,c)})}function N(e,n){var p=[];return p[r]=n,p[h]=e,isNaN(n)||isNaN(e)?[NaN,NaN]:t.dataToPoint(p)}function k(e,t,l){var c=t.slice(),d=t.slice();c[r]=o(c[r]+n/2,1,!1),d[r]=o(d[r]-n/2,1,!0),l?e.push(c,d):e.push(d,c)}function O(e,t,o){var l=N(e,o),c=N(t,o);return l[r]-=n/2,c[r]-=n/2,{x:l[0],y:l[1],width:h?n:c[0]-l[0],height:h?c[1]-l[1]:n}}function R(e){return e[r]=o(e[r],1),e}}}}};function f(data,e,t,n,o){return t>n?-1:t<n?1:e>0?data.get(o,e-1)<=n?1:-1:1}e.exports=h},function(e,t,n){var o=n(31);n(713),n(714);var r=n(484),l=n(491);o.registerVisual(r("effectScatter","circle")),o.registerLayout(l("effectScatter"))},function(e,t,n){var o=n(260),r=n(257).extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(option,e){return o(this.getSource(),this)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});e.exports=r},function(e,t,n){var o=n(31),r=n(490),l=n(715),c=n(58),d=n(491),h=o.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new r(l)},render:function(e,t,n){var data=e.getData(),o=this._symbolDraw;o.updateData(data),this.group.add(o.group)},updateTransform:function(e,t,n){var data=e.getData();this.group.dirty();var o=d().reset(e);o.progress&&o.progress({start:0,end:data.count()},data),this._symbolDraw.updateLayout(data)},_updateGroupTransform:function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=c.clone(t.getRoamTransform()),this.group.decomposeTransform())},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t)},dispose:function(){}});e.exports=h},function(e,t,n){var o=n(0),r=n(258).createSymbol,l=n(55).Group,c=n(17).parsePercent,d=n(501);function h(e,t){e.eachChild(function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?t.color:null,fill:"fill"===t.brushType?t.color:null}})})}function f(data,e){l.call(this);var symbol=new d(data,e),t=new l;this.add(symbol),this.add(t),t.beforeUpdate=function(){this.attr(symbol.getScale())},this.updateData(data,e)}var m=f.prototype;m.stopEffectAnimation=function(){this.childAt(1).removeAll()},m.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,o=this.childAt(1),i=0;i<3;i++){var l=r(t,-1,-1,2,2,n);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var c=-i/3*e.period+e.effectOffset;l.animate("",!0).when(e.period,{scale:[e.rippleScale/2,e.rippleScale/2]}).delay(c).start(),l.animateStyle(!0).when(e.period,{opacity:0}).delay(c).start(),o.add(l)}h(o,e)},m.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),o=["symbolType","period","rippleScale"],i=0;i<o.length;i++){var r=o[i];if(t[r]!==e[r])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}h(n,e)},m.highlight=function(){this.trigger("emphasis")},m.downplay=function(){this.trigger("normal")},m.updateData=function(data,e){var t=data.hostModel;this.childAt(0).updateData(data,e);var n=this.childAt(1),r=data.getItemModel(e),l=data.getItemVisual(e,"symbol"),d=function(e){return o.isArray(e)||(e=[+e,+e]),e}(data.getItemVisual(e,"symbolSize")),h=data.getItemVisual(e,"color");n.attr("scale",d),n.traverse(function(e){e.attr({fill:h})});var f=r.getShallow("symbolOffset");if(f){var m=n.position;m[0]=c(f[0],d[0]),m[1]=c(f[1],d[1])}n.rotation=(r.getShallow("symbolRotate")||0)*Math.PI/180||0;var v={};if(v.showEffectOn=t.get("showEffectOn"),v.rippleScale=r.get("rippleEffect.scale"),v.brushType=r.get("rippleEffect.brushType"),v.period=1e3*r.get("rippleEffect.period"),v.effectOffset=e/data.count(),v.z=r.getShallow("z")||0,v.zlevel=r.getShallow("zlevel")||0,v.symbolType=l,v.color=h,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===v.showEffectOn)this._effectCfg?this.updateEffectAnimation(v):this.startEffectAnimation(v),this._effectCfg=v;else{this._effectCfg=null,this.stopEffectAnimation();var symbol=this.childAt(0),y=function(){symbol.highlight(),"render"!==v.showEffectOn&&this.startEffectAnimation(v)},x=function(){symbol.downplay(),"render"!==v.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",y,this).on("mouseout",x,this).on("emphasis",y,this).on("normal",x,this)}this._effectCfg=v},m.fadeOut=function(e){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),e&&e()},o.inherits(f,l);var v=f;e.exports=v},function(e,t,n){var o=n(31);n(717),n(718);var r=n(573),l=n(721);o.registerLayout(r),o.registerVisual(l)},function(e,t,n){n(12).__DEV__;var o=n(257),r=n(159),l=n(0),c=l.concatArray,d=l.mergeAll,map=l.map,h=n(40).encodeHTML,f=(n(160),"undefined"==typeof Uint32Array?Array:Uint32Array),m="undefined"==typeof Float64Array?Array:Float64Array;function v(e){var data=e.data;data&&data[0]&&data[0][0]&&data[0][0].coord&&(e.data=map(data,function(e){var t={coords:[e[0].coord,e[1].coord]};return e[0].name&&(t.fromName=e[0].name),e[1].name&&(t.toName=e[1].name),d([t,e[0],e[1]])}))}var y=o.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(option){option.data=option.data||[],v(option);var e=this._processFlatCoordsArray(option.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(option.data=new Float32Array(e.count)),y.superApply(this,"init",arguments)},mergeOption:function(option){if(option.data=option.data||[],v(option),option.data){var e=this._processFlatCoordsArray(option.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(option.data=new Float32Array(e.count))}y.superApply(this,"mergeOption",arguments)},appendData:function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=c(this._flatCoords,t.flatCoords),this._flatCoordsOffset=c(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],o=this._flatCoordsOffset[2*e+1],i=0;i<o;i++)t[i]=t[i]||[],t[i][0]=this._flatCoords[n+2*i],t[i][1]=this._flatCoords[n+2*i+1];return o}var r=this._getCoordsFromItemModel(e);for(i=0;i<r.length;i++)t[i]=t[i]||[],t[i][0]=r[i][0],t[i][1]=r[i][1];return r.length},_processFlatCoordsArray:function(data){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"==typeof data[0]){for(var t=data.length,n=new f(t),o=new m(t),r=0,l=0,c=0,i=0;i<t;){c++;var d=data[i++];n[l++]=r+e,n[l++]=d;for(var h=0;h<d;h++){var v=data[i++],y=data[i++];o[r++]=v,o[r++]=y}}return{flatCoordsOffset:new Uint32Array(n.buffer,0,l),flatCoords:o,count:c}}return{flatCoordsOffset:null,flatCoords:null,count:data.length}},getInitialData:function(option,e){var t=new r(["value"],this);return t.hasItemOption=!1,t.initData(option.data,[],function(e,n,o,r){if(e instanceof Array)return NaN;t.hasItemOption=!0;var l=e.value;return null!=l?l instanceof Array?l[r]:l:void 0}),t},formatTooltip:function(e){var t=this.getData().getItemModel(e),n=t.get("name");if(n)return n;var o=t.get("fromName"),r=t.get("toName"),html=[];return null!=o&&html.push(o),null!=r&&html.push(r),h(html.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),x=y;e.exports=x},function(e,t,n){n(12).__DEV__;var o=n(31),r=n(517),l=n(571),c=n(518),d=n(572),h=n(719),f=n(720),m=n(573),v=o.extendChartView({type:"lines",init:function(){},render:function(e,t,n){var data=e.getData(),o=this._updateLineDraw(data,e),r=e.get("zlevel"),l=e.get("effect.trailLength"),c=n.getZr(),d="svg"===c.painter.getType();d||c.painter.getLayer(r).clear(!0),null==this._lastZlevel||d||c.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&l&&(d||c.configLayer(r,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),o.updateData(data),this._lastZlevel=r,this._finished=!0},incrementalPrepareRender:function(e,t,n){var data=e.getData();this._updateLineDraw(data,e).incrementalPrepareUpdate(data),this._clearLayer(n),this._finished=!1},incrementalRender:function(e,t,n){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,n){var data=e.getData(),o=e.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var r=m.reset(e);r.progress&&r.progress({start:0,end:data.count()},data),this._lineDraw.updateLayout(),this._clearLayer(n)},_updateLineDraw:function(data,e){var t=this._lineDraw,n=this._showEffect(e),o=!!e.get("polyline"),m=e.pipelineContext.large;return t&&n===this._hasEffet&&o===this._isPolyline&&m===this._isLargeDraw||(t&&t.remove(),t=this._lineDraw=m?new f:new r(o?n?h:d:n?l:c),this._hasEffet=n,this._isPolyline=o,this._isLargeDraw=m,this.group.removeAll()),this.group.add(t.group),t},_showEffect:function(e){return!!e.get("effect.show")},_clearLayer:function(e){var t=e.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},dispose:function(){}});e.exports=v},function(e,t,n){var o=n(572),r=n(0),l=n(571),c=n(10);function d(e,t,n){l.call(this,e,t,n),this._lastFrame=0,this._lastFramePercent=0}var h=d.prototype;h.createLine=function(e,t,n){return new o(e,t,n)},h.updateAnimationPoints=function(symbol,e){this._points=e;for(var t=[0],n=0,i=1;i<e.length;i++){var o=e[i-1],r=e[i];n+=c.dist(o,r),t.push(n)}if(0!==n){for(i=0;i<t.length;i++)t[i]/=n;this._offsets=t,this._length=n}},h.getLineLength=function(symbol){return this._length},h.updateSymbolPosition=function(symbol){var e=symbol.__t,t=this._points,n=this._offsets,o=t.length;if(n){var r=this._lastFrame;if(e<this._lastFramePercent){for(l=Math.min(r+1,o-1);l>=0&&!(n[l]<=e);l--);l=Math.min(l,o-2)}else{for(var l=r;l<o&&!(n[l]>e);l++);l=Math.min(l-1,o-2)}c.lerp(symbol.position,t[l],t[l+1],(e-n[l])/(n[l+1]-n[l]));var d=t[l+1][0]-t[l][0],h=t[l+1][1]-t[l][1];symbol.rotation=-Math.atan2(h,d)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=e,symbol.ignore=!1}},r.inherits(d,l);var f=d;e.exports=f},function(e,t,n){var o=n(55),r=n(266),l=n(271),c=n(272),d=o.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(path,e){var t=e.segs,n=e.curveness;if(e.polyline)for(var i=0;i<t.length;){var o=t[i++];if(o>0){path.moveTo(t[i++],t[i++]);for(var r=1;r<o;r++)path.lineTo(t[i++],t[i++])}}else for(i=0;i<t.length;){var l=t[i++],c=t[i++],d=t[i++],h=t[i++];if(path.moveTo(l,c),n>0){var f=(l+d)/2-(c-h)*n,m=(c+h)/2-(d-l)*n;path.quadraticCurveTo(f,m,d,h)}else path.lineTo(d,h)}},findDataIndex:function(e,t){var n=this.shape,o=n.segs,r=n.curveness;if(n.polyline)for(var d=0,i=0;i<o.length;){var h=o[i++];if(h>0)for(var f=o[i++],m=o[i++],v=1;v<h;v++){var y=o[i++],x=o[i++];if(l.containStroke(f,m,y,x))return d}d++}else for(d=0,i=0;i<o.length;){f=o[i++],m=o[i++],y=o[i++],x=o[i++];if(r>0){var _=(f+y)/2-(m-x)*r,w=(m+x)/2-(y-f)*r;if(c.containStroke(f,m,_,w,y,x))return d}else if(l.containStroke(f,m,y,x))return d;d++}return-1}});function h(){this.group=new o.Group}var f=h.prototype;f.isPersistent=function(){return!this._incremental},f.updateData=function(data){this.group.removeAll();var e=new d({rectHover:!0,cursor:"default"});e.setShape({segs:data.getLayout("linesPoints")}),this._setCommon(e,data),this.group.add(e),this._incremental=null},f.incrementalPrepareUpdate=function(data){this.group.removeAll(),this._clearIncremental(),data.count()>5e5?(this._incremental||(this._incremental=new r({silent:!0})),this.group.add(this._incremental)):this._incremental=null},f.incrementalUpdate=function(e,data){var t=new d;t.setShape({segs:data.getLayout("linesPoints")}),this._setCommon(t,data,!!this._incremental),this._incremental?this._incremental.addDisplayable(t,!0):(t.rectHover=!0,t.cursor="default",t.__startIndex=e.start,this.group.add(t))},f.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},f._setCommon=function(e,data,t){var n=data.hostModel;e.setShape({polyline:n.get("polyline"),curveness:n.get("lineStyle.curveness")}),e.useStyle(n.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var o=data.getVisual("color");o&&e.setStyle("stroke",o),e.setStyle("fill"),t||(e.seriesIndex=n.seriesIndex,e.on("mousemove",function(t){e.dataIndex=null;var n=e.findDataIndex(t.offsetX,t.offsetY);n>0&&(e.dataIndex=n+e.__startIndex)}))},f._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var m=h;e.exports=m},function(e,t){function n(a){return a instanceof Array||(a=[a,a]),a}var o="lineStyle.opacity".split("."),r={seriesType:"lines",reset:function(e,t,r){var l=n(e.get("symbol")),c=n(e.get("symbolSize")),data=e.getData();return data.setVisual("fromSymbol",l&&l[0]),data.setVisual("toSymbol",l&&l[1]),data.setVisual("fromSymbolSize",c&&c[0]),data.setVisual("toSymbolSize",c&&c[1]),data.setVisual("opacity",e.get(o)),{dataEach:data.hasItemOption?function(data,e){var t=data.getItemModel(e),r=n(t.getShallow("symbol",!0)),l=n(t.getShallow("symbolSize",!0)),c=t.get(o);r[0]&&data.setItemVisual(e,"fromSymbol",r[0]),r[1]&&data.setItemVisual(e,"toSymbol",r[1]),l[0]&&data.setItemVisual(e,"fromSymbolSize",l[0]),l[1]&&data.setItemVisual(e,"toSymbolSize",l[1]),data.setItemVisual(e,"opacity",c)}:null}}};e.exports=r},function(e,t,n){n(723),n(724)},function(e,t,n){var o=n(257),r=n(260),l=n(160),c=o.extend({type:"series.heatmap",getInitialData:function(option,e){return r(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var e=l.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});e.exports=c},function(e,t,n){n(12).__DEV__;var o=n(31),r=n(55),l=n(725),c=n(0);var d=o.extendChartView({type:"heatmap",render:function(e,t,n){var o;t.eachComponent("visualMap",function(t){t.eachTargetSeries(function(n){n===e&&(o=t)})}),this.group.removeAll(),this._incrementalDisplayable=null;var r=e.coordinateSystem;"cartesian2d"===r.type||"calendar"===r.type?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):function(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}(r)&&this._renderOnGeo(r,e,o,n)},incrementalPrepareRender:function(e,t,n){this.group.removeAll()},incrementalRender:function(e,t,n,o){t.coordinateSystem&&this._renderOnCartesianAndCalendar(t,o,e.start,e.end,!0)},_renderOnCartesianAndCalendar:function(e,t,n,o,l){var d,h,f=e.coordinateSystem;if("cartesian2d"===f.type){var m=f.getAxis("x"),v=f.getAxis("y");d=m.getBandWidth(),h=v.getBandWidth()}for(var y=this.group,data=e.getData(),style=e.getModel("itemStyle").getItemStyle(["color"]),x=e.getModel("emphasis.itemStyle").getItemStyle(),_=e.getModel("label"),w=e.getModel("emphasis.label"),S=f.type,M="cartesian2d"===S?[data.mapDimension("x"),data.mapDimension("y"),data.mapDimension("value")]:[data.mapDimension("time"),data.mapDimension("value")],I=n;I<o;I++){var rect;if("cartesian2d"===S){if(isNaN(data.get(M[2],I)))continue;var A=f.dataToPoint([data.get(M[0],I),data.get(M[1],I)]);rect=new r.Rect({shape:{x:A[0]-d/2,y:A[1]-h/2,width:d,height:h},style:{fill:data.getItemVisual(I,"color"),opacity:data.getItemVisual(I,"opacity")}})}else{if(isNaN(data.get(M[1],I)))continue;rect=new r.Rect({z2:1,shape:f.dataToRect([data.get(M[0],I)]).contentShape,style:{fill:data.getItemVisual(I,"color"),opacity:data.getItemVisual(I,"opacity")}})}var T=data.getItemModel(I);data.hasItemOption&&(style=T.getModel("itemStyle").getItemStyle(["color"]),x=T.getModel("emphasis.itemStyle").getItemStyle(),_=T.getModel("label"),w=T.getModel("emphasis.label"));var D=e.getRawValue(I),L="-";D&&null!=D[2]&&(L=D[2]),r.setLabelStyle(style,x,_,w,{labelFetcher:e,labelDataIndex:I,defaultText:L,isRectText:!0}),rect.setStyle(style),r.setHoverStyle(rect,data.hasItemOption?x:c.extend({},x)),rect.incremental=l,l&&(rect.useHoverLayer=!0),y.add(rect),data.setItemGraphicEl(I,rect)}},_renderOnGeo:function(e,t,n,o){var d=n.targetVisuals.inRange,h=n.targetVisuals.outOfRange,data=t.getData(),f=this._hmLayer||this._hmLayer||new l;f.blurSize=t.get("blurSize"),f.pointSize=t.get("pointSize"),f.minOpacity=t.get("minOpacity"),f.maxOpacity=t.get("maxOpacity");var rect=e.getViewRect().clone(),m=e.getRoamTransform();rect.applyTransform(m);var v=Math.max(rect.x,0),y=Math.max(rect.y,0),x=Math.min(rect.width+rect.x,o.getWidth()),_=Math.min(rect.height+rect.y,o.getHeight()),w=x-v,S=_-y,M=[data.mapDimension("lng"),data.mapDimension("lat"),data.mapDimension("value")],I=data.mapArray(M,function(t,n,o){var r=e.dataToPoint([t,n]);return r[0]-=v,r[1]-=y,r.push(o),r}),A=n.getExtent(),T="visualMap.continuous"===n.type?function(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(e){return e>=t[0]&&e<=t[1]}}(A,n.option.range):function(e,t,n){var o=e[1]-e[0],r=(t=c.map(t,function(t){return{interval:[(t.interval[0]-e[0])/o,(t.interval[1]-e[0])/o]}})).length,l=0;return function(e){for(var i=l;i<r;i++)if((o=t[i].interval)[0]<=e&&e<=o[1]){l=i;break}if(i===r)for(i=l-1;i>=0;i--){var o;if((o=t[i].interval)[0]<=e&&e<=o[1]){l=i;break}}return i>=0&&i<r&&n[i]}}(A,n.getPieceList(),n.option.selected);f.update(I,w,S,d.color.getNormalizer(),{inRange:d.color.getColorMapper(),outOfRange:h.color.getColorMapper()},T);var img=new r.Image({style:{width:w,height:S,x:v,y:y,image:f.canvas},silent:!0});this.group.add(img)},dispose:function(){}});e.exports=d},function(e,t,n){var o=n(0);function r(){var canvas=o.createCanvas();this.canvas=canvas,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}r.prototype={update:function(data,e,t,n,o,r){var l=this._getBrush(),c=this._getGradient(data,o,"inRange"),d=this._getGradient(data,o,"outOfRange"),h=this.pointSize+this.blurSize,canvas=this.canvas,f=canvas.getContext("2d"),m=data.length;canvas.width=e,canvas.height=t;for(var i=0;i<m;++i){var p=data[i],v=p[0],y=p[1],x=n(p[2]);f.globalAlpha=x,f.drawImage(l,v-h,y-h)}if(!canvas.width||!canvas.height)return canvas;for(var _=f.getImageData(0,0,canvas.width,canvas.height),w=_.data,S=0,M=w.length,I=this.minOpacity,A=this.maxOpacity-I;S<M;){x=w[S+3]/256;var T=4*Math.floor(255*x);if(x>0){var D=r(x)?c:d;x>0&&(x=x*A+I),w[S++]=D[T],w[S++]=D[T+1],w[S++]=D[T+2],w[S++]=D[T+3]*x*256}else S+=4}return f.putImageData(_,0,0),canvas},_getBrush:function(){var e=this._brushCanvas||(this._brushCanvas=o.createCanvas()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var r=e.getContext("2d");return r.clearRect(0,0,n,n),r.shadowOffsetX=n,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-t,t,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),e},_getGradient:function(data,e,t){for(var n=this._gradientPixels,o=n[t]||(n[t]=new Uint8ClampedArray(1024)),r=[0,0,0,0],l=0,i=0;i<256;i++)e[t](i/255,!0,r),o[l++]=r[0],o[l++]=r[1],o[l++]=r[2],o[l++]=r[3];return o}};var l=r;e.exports=l},function(e,t,n){var o=n(31),r=n(0);n(515),n(727),n(728);var l=n(265).layout,c=n(484);n(492),o.registerLayout(r.curry(l,"pictorialBar")),o.registerVisual(c("pictorialBar","roundRect"))},function(e,t,n){var o=n(559).extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(option){return option.stack=null,o.superApply(this,"getInitialData",arguments)}}),r=o;e.exports=r},function(e,t,n){var o=n(31),r=n(0),l=n(55),c=n(258).createSymbol,d=n(17),h=d.parsePercent,f=d.isNumeric,m=n(560).setLabel,v=["itemStyle","borderWidth"],y=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],x=new l.Circle;function _(data,e,t,n){var o=data.getItemLayout(e),l=t.get("symbolRepeat"),c=t.get("symbolClip"),d=t.get("symbolPosition")||"start",m=(t.get("symbolRotate")||0)*Math.PI/180||0,y=t.get("symbolPatternSize")||2,_=t.isAnimationEnabled(),S={dataIndex:e,layout:o,itemModel:t,symbolType:data.getItemVisual(e,"symbol")||"circle",color:data.getItemVisual(e,"color"),symbolClip:c,symbolRepeat:l,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:y,rotation:m,animationModel:_?t:null,hoverAnimation:_&&t.get("hoverAnimation"),z2:t.getShallow("z",!0)||0};!function(e,t,n,o,output){var l,c=o.valueDim,d=e.get("symbolBoundingData"),h=o.coordSys.getOtherAxis(o.coordSys.getBaseAxis()),f=h.toGlobalCoord(h.dataToCoord(0)),m=1-+(n[c.wh]<=0);if(r.isArray(d)){var v=[w(h,d[0])-f,w(h,d[1])-f];v[1]<v[0]&&v.reverse(),l=v[m]}else l=null!=d?w(h,d)-f:t?o.coordSysExtent[c.index][m]-f:n[c.wh];output.boundingLength=l,t&&(output.repeatCutLength=n[c.wh]);output.pxSign=l>0?1:l<0?-1:0}(t,l,o,n,S),function(data,e,t,n,o,l,c,d,f,output){var m=f.valueDim,v=f.categoryDim,y=Math.abs(t[v.wh]),x=data.getItemVisual(e,"symbolSize");r.isArray(x)?x=x.slice():(null==x&&(x="100%"),x=[x,x]);x[v.index]=h(x[v.index],y),x[m.index]=h(x[m.index],n?y:Math.abs(l)),output.symbolSize=x,(output.symbolScale=[x[0]/d,x[1]/d])[m.index]*=(f.isHorizontal?-1:1)*c}(data,e,o,l,0,S.boundingLength,S.pxSign,y,n,S),function(e,t,n,o,output){var r=e.get(v)||0;r&&(x.attr({scale:t.slice(),rotation:n}),x.updateTransform(),r/=x.getLineScale(),r*=t[o.valueDim.index]);output.valueLineWidth=r}(t,S.symbolScale,m,n,S);var M=S.symbolSize,I=t.get("symbolOffset");return r.isArray(I)&&(I=[h(I[0],M[0]),h(I[1],M[1])]),function(e,t,n,o,l,c,d,m,v,y,x,output){var _=x.categoryDim,w=x.valueDim,S=output.pxSign,M=Math.max(t[w.index]+m,0),I=M;if(o){var A=Math.abs(v),T=r.retrieve(e.get("symbolMargin"),"15%")+"",D=!1;T.lastIndexOf("!")===T.length-1&&(D=!0,T=T.slice(0,T.length-1)),T=h(T,t[w.index]);var L=Math.max(M+2*T,0),C=D?0:2*T,P=f(o),N=P?o:V((A+C)/L),k=A-N*M;L=M+2*(T=k/2/(D?N:N-1)),C=D?0:2*T,P||"fixed"===o||(N=y?V((Math.abs(y)+C)/L):0),I=N*L-C,output.repeatTimes=N,output.symbolMargin=T}var O=S*(I/2),R=output.pathPosition=[];R[_.index]=n[_.wh]/2,R[w.index]="start"===d?O:"end"===d?v-O:v/2,c&&(R[0]+=c[0],R[1]+=c[1]);var E=output.bundlePosition=[];E[_.index]=n[_.xy],E[w.index]=n[w.xy];var z=output.barRectShape=r.extend({},n);z[w.wh]=S*Math.max(Math.abs(n[w.wh]),Math.abs(R[w.index]+O)),z[_.wh]=n[_.wh];var G=output.clipShape={};G[_.xy]=-n[_.xy],G[_.wh]=x.ecSize[_.wh],G[w.xy]=0,G[w.wh]=n[w.wh]}(t,M,o,l,0,I,d,S.valueLineWidth,S.boundingLength,S.repeatCutLength,n,S),S}function w(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function S(e){var t=e.symbolPatternSize,path=c(e.symbolType,-t/2,-t/2,t,t,e.color);return path.attr({culling:!0}),"image"!==path.type&&path.setStyle({strokeNoScale:!0}),path}function M(e,t,n,o){var r=e.__pictorialBundle,l=n.symbolSize,c=n.valueLineWidth,d=n.pathPosition,h=t.valueDim,f=n.repeatTimes||0,m=0,v=l[t.valueDim.index]+c+2*n.symbolMargin;for(R(e,function(path){path.__pictorialAnimationIndex=m,path.__pictorialRepeatTimes=f,m<f?E(path,null,x(m),n,o):E(path,null,{scale:[0,0]},n,o,function(){r.remove(path)}),P(path,n),m++});m<f;m++){var path=S(n);path.__pictorialAnimationIndex=m,path.__pictorialRepeatTimes=f,r.add(path);var y=x(m);E(path,{position:y.position,scale:[0,0]},{scale:y.scale,rotation:y.rotation},n,o),path.on("mouseover",_).on("mouseout",w),P(path,n)}function x(e){var t=d.slice(),o=n.pxSign,i=e;return("start"===n.symbolRepeatDirection?o>0:o<0)&&(i=f-1-e),t[h.index]=v*(i-f/2+.5)+d[h.index],{position:t,scale:n.symbolScale.slice(),rotation:n.rotation}}function _(){R(e,function(path){path.trigger("emphasis")})}function w(){R(e,function(path){path.trigger("normal")})}}function I(e,t,n,o){var r=e.__pictorialBundle,l=e.__pictorialMainPath;l?E(l,null,{position:n.pathPosition.slice(),scale:n.symbolScale.slice(),rotation:n.rotation},n,o):(l=e.__pictorialMainPath=S(n),r.add(l),E(l,{position:n.pathPosition.slice(),scale:[0,0],rotation:n.rotation},{scale:n.symbolScale.slice()},n,o),l.on("mouseover",function(){this.trigger("emphasis")}).on("mouseout",function(){this.trigger("normal")})),P(l,n)}function A(e,t,n){var o=r.extend({},t.barRectShape),c=e.__pictorialBarRect;c?E(c,null,{shape:o},t,n):(c=e.__pictorialBarRect=new l.Rect({z2:2,shape:o,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),e.add(c))}function T(e,t,n,o){if(n.symbolClip){var c=e.__pictorialClipPath,d=r.extend({},n.clipShape),h=t.valueDim,f=n.animationModel,m=n.dataIndex;if(c)l.updateProps(c,{shape:d},f,m);else{d[h.wh]=0,c=new l.Rect({shape:d}),e.__pictorialBundle.setClipPath(c),e.__pictorialClipPath=c;var v={};v[h.wh]=n.clipShape[h.wh],l[o?"updateProps":"initProps"](c,{shape:v},f,m)}}}function D(data,e){var t=data.getItemModel(e);return t.getAnimationDelayParams=L,t.isAnimationEnabled=C,t}function L(path){return{index:path.__pictorialAnimationIndex,count:path.__pictorialRepeatTimes}}function C(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function P(path,e){path.off("emphasis").off("normal");var t=e.symbolScale.slice();e.hoverAnimation&&path.on("emphasis",function(){this.animateTo({scale:[1.1*t[0],1.1*t[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:t.slice()},400,"elasticOut")})}function N(data,e,t,n){var o=new l.Group,r=new l.Group;return o.add(r),o.__pictorialBundle=r,r.attr("position",t.bundlePosition.slice()),t.symbolRepeat?M(o,e,t):I(o,0,t),A(o,t,n),T(o,e,t,n),o.__pictorialShapeStr=O(data,t),o.__pictorialSymbolMeta=t,o}function k(data,e,t,n){var o=n.__pictorialBarRect;o&&(o.style.text=null);var c=[];R(n,function(path){c.push(path)}),n.__pictorialMainPath&&c.push(n.__pictorialMainPath),n.__pictorialClipPath&&(t=null),r.each(c,function(path){l.updateProps(path,{scale:[0,0]},t,e,function(){n.parent&&n.parent.remove(n)})}),data.setItemGraphicEl(e,null)}function O(data,e){return[data.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function R(e,t,n){r.each(e.__pictorialBundle.children(),function(o){o!==e.__pictorialBarRect&&t.call(n,o)})}function E(e,t,n,o,r,c){t&&e.attr(t),o.symbolClip&&!r?n&&e.attr(n):n&&l[r?"updateProps":"initProps"](e,n,o.animationModel,o.dataIndex,c)}function z(e,t,n){var o=n.color,c=n.dataIndex,d=n.itemModel,h=d.getModel("itemStyle").getItemStyle(["color"]),f=d.getModel("emphasis.itemStyle").getItemStyle(),v=d.getShallow("cursor");R(e,function(path){path.setColor(o),path.setStyle(r.defaults({fill:o,opacity:n.opacity},h)),l.setHoverStyle(path,f),v&&(path.cursor=v),path.z2=n.z2});var y={},x=t.valueDim.posDesc[+(n.boundingLength>0)],_=e.__pictorialBarRect;m(_.style,y,d,o,t.seriesModel,c,x),l.setHoverStyle(_,y)}function V(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var G=o.extendChartView({type:"pictorialBar",render:function(e,t,n){var o=this.group,data=e.getData(),r=this._data,c=e.coordinateSystem,d=!!c.getBaseAxis().isHorizontal(),h=c.grid.getRect(),f={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:c,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:d,valueDim:y[+d],categoryDim:y[1-d]};return data.diff(r).add(function(e){if(data.hasValue(e)){var t=D(data,e),n=_(data,e,t,f),r=N(data,f,n);data.setItemGraphicEl(e,r),o.add(r),z(r,f,n)}}).update(function(e,t){var n=r.getItemGraphicEl(t);if(data.hasValue(e)){var c=D(data,e),d=_(data,e,c,f),h=O(data,d);n&&h!==n.__pictorialShapeStr&&(o.remove(n),data.setItemGraphicEl(e,null),n=null),n?function(e,t,n){var o=n.animationModel,r=n.dataIndex,c=e.__pictorialBundle;l.updateProps(c,{position:n.bundlePosition.slice()},o,r),n.symbolRepeat?M(e,t,n,!0):I(e,t,n,!0);A(e,n,!0),T(e,t,n,!0)}(n,f,d):n=N(data,f,d,!0),data.setItemGraphicEl(e,n),n.__pictorialSymbolMeta=d,o.add(n),z(n,f,d)}else o.remove(n)}).remove(function(e){var t=r.getItemGraphicEl(e);t&&k(r,e,t.__pictorialSymbolMeta.animationModel,t)}).execute(),this._data=data,this.group},dispose:r.noop,remove:function(e,t){var n=this.group,data=this._data;e.get("animation")?data&&data.eachItemGraphicEl(function(t){k(data,t.dataIndex,e,t)}):n.removeAll()}});e.exports=G},function(e,t,n){var o=n(31);n(574),n(736),n(737);var r=n(738),l=n(739),c=n(493);o.registerLayout(r),o.registerVisual(l),o.registerProcessor(c("themeRiver"))},function(e,t,n){var o=n(731);n(160).register("single",{create:function(e,t){var n=[];return e.eachComponent("singleAxis",function(r,l){var c=new o(r,e,t);c.name="single_"+l,c.resize(r,t),r.coordinateSystem=c,n.push(c)}),e.eachSeries(function(t){if("singleAxis"===t.get("coordinateSystem")){var n=e.queryComponents({mainType:"singleAxis",index:t.get("singleAxisIndex"),id:t.get("singleAxisId")})[0];t.coordinateSystem=n&&n.coordinateSystem}}),n},dimensions:o.prototype.dimensions})},function(e,t,n){var o=n(732),r=n(161),l=n(110).getLayoutRect,c=n(0).each;function d(e,t,n){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(e,t,n),this.model=e}d.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:d,_init:function(e,t,n){var l=this.dimension,c=new o(l,r.createScaleByModel(e),[0,0],e.get("type"),e.get("position")),d="category"===c.type;c.onBand=d&&e.get("boundaryGap"),c.inverse=e.get("inverse"),c.orient=e.get("orient"),e.axis=c,c.model=e,c.coordinateSystem=this,this._axis=c},update:function(e,t){e.eachSeries(function(e){if(e.coordinateSystem===this){var data=e.getData();c(data.mapDimension(this.dimension,!0),function(e){this._axis.scale.unionExtentFromData(data,e)},this),r.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(e,t){this._rect=l({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var rect=this._rect,e=this._axis,t=e.isHorizontal(),n=t?[0,rect.width]:[0,rect.height],o=e.reverse?1:0;e.setExtent(n[o],n[1-o]),this._updateAxisTransform(e,t?rect.x:rect.y)},_updateAxisTransform:function(e,t){var n=e.getExtent(),o=n[0]+n[1],r=e.isHorizontal();e.toGlobalCoord=r?function(e){return e+t}:function(e){return o-e+t},e.toLocalCoord=r?function(e){return e-t}:function(e){return o-e+t}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(e){var rect=this.getRect(),t=this.getAxis();return"horizontal"===t.orient?t.contain(t.toLocalCoord(e[0]))&&e[1]>=rect.y&&e[1]<=rect.y+rect.height:t.contain(t.toLocalCoord(e[1]))&&e[0]>=rect.y&&e[0]<=rect.y+rect.height},pointToData:function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},dataToPoint:function(e){var t=this.getAxis(),rect=this.getRect(),n=[],o="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),n[o]=t.toGlobalCoord(t.dataToCoord(+e)),n[1-o]=0===o?rect.y+rect.height/2:rect.x+rect.width/2,n}};var h=d;e.exports=h},function(e,t,n){var o=n(0),r=n(261),l=function(e,t,n,o,l){r.call(this,e,t,n),this.type=o||"value",this.position=l||"bottom",this.orient=null};l.prototype={constructor:l,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},pointToData:function(e,t){return this.coordinateSystem.pointToData(e,t)[0]},toGlobalCoord:null,toLocalCoord:null},o.inherits(l,r);var c=l;e.exports=c},function(e,t,n){var o=n(0),r=n(481),l=n(55),c=n(575),d=n(482),h=["axisLine","axisTickLabel","axisName"],f=d.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(e,t,n,l){var d=this.group;d.removeAll();var m=c.layout(e),v=new r(e,m);o.each(h,v.add,v),d.add(v.getGroup()),e.get("splitLine.show")&&this._splitLine(e),f.superCall(this,"render",e,t,n,l)},_splitLine:function(e){var t=e.axis;if(!t.scale.isBlank()){var n=e.getModel("splitLine"),o=n.getModel("lineStyle"),r=o.get("width"),c=o.get("color");c=c instanceof Array?c:[c];for(var d=e.coordinateSystem.getRect(),h=t.isHorizontal(),f=[],m=0,v=t.getTicksCoords({tickModel:n}),y=[],x=[],i=0;i<v.length;++i){var _=t.toGlobalCoord(v[i].coord);h?(y[0]=_,y[1]=d.y,x[0]=_,x[1]=d.y+d.height):(y[0]=d.x,y[1]=_,x[0]=d.x+d.width,x[1]=_);var w=m++%c.length;f[w]=f[w]||[],f[w].push(new l.Line(l.subPixelOptimizeLine({shape:{x1:y[0],y1:y[1],x2:x[0],y2:x[1]},style:{lineWidth:r},silent:!0})))}for(i=0;i<f.length;++i)this.group.add(l.mergePath(f[i],{style:{stroke:c[i%c.length],lineDash:o.getLineDash(r),lineWidth:r},silent:!0}))}}}),m=f;e.exports=m},function(e,t,n){var o=n(0),r=n(56),l=n(502),c=n(264),d=r.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});o.merge(d.prototype,c),l("single",d,function(e,option){return option.type||(option.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});var h=d;e.exports=h},function(e,t,n){var o=n(55),r=n(512),l=n(499),c=n(575),d=n(482),h=["x","y"],f=["width","height"],m=r.extend({makeElOption:function(e,t,n,o,r){var d=n.axis,h=d.coordinateSystem,f=x(h,1-y(d)),m=h.dataToPoint(t)[0],_=o.get("type");if(_&&"none"!==_){var w=l.buildElStyle(o),S=v[_](d,m,f,w);S.style=w,e.graphicKey=S.type,e.pointer=S}var M=c.layout(n);l.buildCartesianSingleLabelElOption(t,e,M,n,o,r)},getHandleTransform:function(e,t,n){var o=c.layout(t,{labelInside:!1});return o.labelMargin=n.get("handle.margin"),{position:l.getTransformedPosition(t.axis,e,o),rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,o){var r=n.axis,l=r.coordinateSystem,c=y(r),d=x(l,c),h=e.position;h[c]+=t[c],h[c]=Math.min(d[1],h[c]),h[c]=Math.max(d[0],h[c]);var f=x(l,1-c),m=(f[1]+f[0])/2,v=[m,m];return v[c]=h[c],{position:h,rotation:e.rotation,cursorPoint:v,tooltipOption:{verticalAlign:"middle"}}}}),v={line:function(e,t,n,r){var c=l.makeLineShape([t,n[0]],[t,n[1]],y(e));return o.subPixelOptimizeLine({shape:c,style:r}),{type:"Line",shape:c}},shadow:function(e,t,n,o){var r=e.getBandWidth(),span=n[1]-n[0];return{type:"Rect",shape:l.makeRectShape([t-r/2,n[0]],[r,span],y(e))}}};function y(e){return e.isHorizontal()?0:1}function x(e,t){var rect=e.getRect();return[rect[h[t]],rect[h[t]]+rect[f[t]]]}d.registerAxisPointerClass("SingleAxisPointer",m);var _=m;e.exports=_},function(e,t,n){var o=n(257),r=n(165),l=n(114).getDimensionTypeByAxis,c=n(159),d=n(0),h=n(4).groupData,f=n(40).encodeHTML,m=o.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(option){m.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(data){var e=data.length,t=h(data,function(e){return e[2]}),n=[];t.buckets.each(function(e,t){n.push({name:t,dataList:e})});for(var o=n.length,r=-1,l=-1,i=0;i<o;++i){var c=n[i].dataList.length;c>r&&(r=c,l=i)}for(var d=0;d<o;++d)if(d!==l)for(var f=n[d].name,m=0;m<r;++m){for(var v=n[l].dataList[m][0],y=n[d].dataList.length,x=-1,_=0;_<y;++_){if(n[d].dataList[_][0]===v){x=_;break}}-1===x&&(data[e]=[],data[e][0]=v,data[e][1]=0,data[e][2]=f,e++)}return data},getInitialData:function(option,e){for(var t=e.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),n=d.filter(option.data,function(e){return void 0!==e[2]}),data=this.fixData(n||[]),o=[],h=this.nameMap=d.createHashMap(),f=0,i=0;i<data.length;++i)o.push(data[i][2]),h.get(data[i][2])||(h.set(data[i][2],f),f++);var m=r(data,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:l(t)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),v=new c(m,this);return v.initData(data),v},getLayerSeries:function(){for(var data=this.getData(),e=data.count(),t=[],i=0;i<e;++i)t[i]=i;var n=data.mapDimension("single"),o=h(t,function(e){return data.get("name",e)}),r=[];return o.buckets.each(function(e,t){e.sort(function(e,t){return data.get(n,e)-data.get(n,t)}),r.push({name:t,indices:e})}),r},getAxisTooltipData:function(e,t,n){d.isArray(e)||(e=e?[e]:[]);for(var o,data=this.getData(),r=this.getLayerSeries(),l=[],c=r.length,i=0;i<c;++i){for(var h=Number.MAX_VALUE,f=-1,m=r[i].indices.length,v=0;v<m;++v){var y=data.get(e[0],r[i].indices[v]),x=Math.abs(y-t);x<=h&&(o=y,h=x,f=r[i].indices[v])}l.push(f)}return{dataIndices:l,nestestValue:o}},formatTooltip:function(e){var data=this.getData(),t=data.getName(e),n=data.get(data.mapDimension("value"),e);return(isNaN(n)||null==n)&&(n="-"),f(t+" : "+n)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}}),v=m;e.exports=v},function(e,t,n){var o=n(31),r=n(555).Polygon,l=n(55),c=n(0),d=c.bind,h=c.extend,f=n(263),m=o.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(e,t,n){var data=e.getData(),o=this.group,c=e.getLayerSeries(),m=data.getLayout("layoutInfo"),rect=m.rect,v=m.boundaryGap;function y(e){return e.name}o.attr("position",[0,rect.y+v[0]]);var x=new f(this._layersSeries||[],c,y,y),_={};function w(t,n,d){var f=this._layers;if("remove"!==t){for(var m,polygon,text,v=[],y=[],x=c[n].indices,w=0;w<x.length;w++){var S=data.getItemLayout(x[w]),M=S.x,I=S.y0,A=S.y;v.push([M,I]),y.push([M,I+A]),m=data.getItemVisual(x[w],"color")}var T=data.getItemLayout(x[0]),D=data.getItemModel(x[w-1]),L=D.getModel("label"),C=L.get("margin");if("add"===t){var P=_[n]=new l.Group;polygon=new r({shape:{points:v,stackedOnPoints:y,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),text=new l.Text({style:{x:T.x-C,y:T.y0+T.y/2}}),P.add(polygon),P.add(text),o.add(P),polygon.setClipPath(function(rect,e,t){var n=new l.Rect({shape:{x:rect.x-10,y:rect.y-10,width:0,height:rect.height+20}});return l.initProps(n,{shape:{width:rect.width+20,height:rect.height+20}},e,t),n}(polygon.getBoundingRect(),e,function(){polygon.removeClipPath()}))}else{P=f[d];polygon=P.childAt(0),text=P.childAt(1),o.add(P),_[n]=P,l.updateProps(polygon,{shape:{points:v,stackedOnPoints:y}},e),l.updateProps(text,{style:{x:T.x-C,y:T.y0+T.y/2}},e)}var N=D.getModel("emphasis.itemStyle"),k=D.getModel("itemStyle");l.setTextStyle(text.style,L,{text:L.get("show")?e.getFormattedLabel(x[w-1],"normal")||data.getName(x[w-1]):null,textVerticalAlign:"middle"}),polygon.setStyle(h({fill:m},k.getItemStyle(["color"]))),l.setHoverStyle(polygon,N.getItemStyle())}else o.remove(f[n])}x.add(d(w,this,"add")).update(d(w,this,"update")).remove(d(w,this,"remove")).execute(),this._layersSeries=c,this._layers=_},dispose:function(){}});e.exports=m},function(e,t,n){var o=n(0),r=n(17);function l(data,e,t){if(data.count())for(var n,r=e.coordinateSystem,l=e.getLayerSeries(),c=data.mapDimension("single"),d=data.mapDimension("value"),h=o.map(l,function(e){return o.map(e.indices,function(e){var t=r.dataToPoint(data.get(c,e));return t[1]=data.get(d,e),t})}),base=function(data){for(var e=data.length,t=data[0].length,n=[],o=[],r=0,base={},i=0;i<t;++i){for(var l=0,c=0;l<e;++l)c+=data[l][i][1];c>r&&(r=c),n.push(c)}for(var d=0;d<t;++d)o[d]=(r-n[d])/2;r=0;for(var h=0;h<t;++h){var f=n[h]+o[h];f>r&&(r=f)}return base.y0=o,base.max=r,base}(h),f=base.y0,m=t/base.max,v=l.length,y=l[0].indices.length,x=0;x<y;++x){n=f[x]*m,data.setItemLayout(l[0].indices[x],{layerIndex:0,x:h[0][x][0],y0:n,y:h[0][x][1]*m});for(var i=1;i<v;++i)n+=h[i-1][x][1]*m,data.setItemLayout(l[i].indices[x],{layerIndex:i,x:h[i][x][0],y0:n,y:h[i][x][1]*m})}}e.exports=function(e,t){e.eachSeriesByType("themeRiver",function(e){var data=e.getData(),t=e.coordinateSystem,n={},rect=t.getRect();n.rect=rect;var o=e.get("boundaryGap"),c=t.getAxis();n.boundaryGap=o,"horizontal"===c.orient?(o[0]=r.parsePercent(o[0],rect.height),o[1]=r.parsePercent(o[1],rect.height),l(data,e,rect.height-o[0]-o[1])):(o[0]=r.parsePercent(o[0],rect.width),o[1]=r.parsePercent(o[1],rect.width),l(data,e,rect.width-o[0]-o[1])),data.setLayout("layoutInfo",n)})}},function(e,t,n){var o=n(0).createHashMap;e.exports=function(e){e.eachSeriesByType("themeRiver",function(e){var data=e.getData(),t=e.getRawData(),n=e.get("color"),r=o();data.each(function(e){r.set(data.getRawIndex(e),e)}),t.each(function(o){var l=t.getName(o),c=n[(e.nameMap.get(l)-1)%n.length];t.setItemVisual(o,"color",c);var d=r.get(o);null!=d&&data.setItemVisual(d,"color",c)})})}},function(e,t,n){var o=n(31),r=n(0);n(741),n(742),n(744);var l=n(503),c=n(745),d=n(493);o.registerVisual(r.curry(l,"sunburst")),o.registerLayout(r.curry(c,"sunburst")),o.registerProcessor(r.curry(d,"sunburst"))},function(e,t,n){var o=n(0),r=n(257),l=n(516),c=n(485).wrapTreePathInfo,d=r.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(option,e){var t={name:option.name,children:option.data};!function e(t){var n=0;o.each(t.children,function(t){e(t);var r=t.value;o.isArray(r)&&(r=r[0]),n+=r});var r=t.value;o.isArray(r)&&(r=r[0]);(null==r||isNaN(r))&&(r=n);r<0&&(r=0);o.isArray(t.value)?t.value[0]=r:t.value=r}(t);var n=option.levels||[],r={};return r.levels=n,l.createTree(t,this,r).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(e){var t=r.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=c(n,this),t},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});e.exports=d},function(e,t,n){var o=n(0),r=n(259),l=n(743),c=n(263),d=r.extend({type:"sunburst",init:function(){},render:function(e,t,n,r){var d=this;this.seriesModel=e,this.api=n,this.ecModel=t;var data=e.getData(),h=data.tree.root,f=e.getViewRoot(),m=this.group,v=e.get("renderLabelForZeroData"),y=[];f.eachNode(function(e){y.push(e)});var x=this._oldChildren||[];if(function(n,r){if(0===n.length&&0===r.length)return;function d(e){return e.getId()}function f(o,c){var d=null==o?null:n[o],f=null==c?null:r[c];!function(n,o){v||!n||n.getValue()||(n=null);if(n!==h&&o!==h)if(o&&o.piece)n?(o.piece.updateData(!1,n,"normal",e,t),data.setItemGraphicEl(n.dataIndex,o.piece)):function(e){if(!e)return;e.piece&&(m.remove(e.piece),e.piece=null)}(o);else if(n){var r=new l(n,e,t);m.add(r),data.setItemGraphicEl(n.dataIndex,r)}}(d,f)}new c(r,n,d,d).add(f).update(f).remove(o.curry(f,null)).execute()}(y,x),function(n,o){if(o.depth>0){d.virtualPiece?d.virtualPiece.updateData(!1,n,"normal",e,t):(d.virtualPiece=new l(n,e,t),m.add(d.virtualPiece)),o.piece._onclickEvent&&o.piece.off("click",o.piece._onclickEvent);var r=function(e){d._rootToNode(o.parentNode)};o.piece._onclickEvent=r,d.virtualPiece.on("click",r)}else d.virtualPiece&&(m.remove(d.virtualPiece),d.virtualPiece=null)}(h,f),r&&r.highlight&&r.highlight.piece){var _=e.getShallow("highlightPolicy");r.highlight.piece.onEmphasis(_)}else if(r&&r.unhighlight){var w=this.virtualPiece;!w&&h.children.length&&(w=h.children[0].piece),w&&w.onNormal()}this._initEvents(),this._oldChildren=y},dispose:function(){},_initEvents:function(){var e=this,t=function(t){var n=!1;e.seriesModel.getViewRoot().eachNode(function(o){if(!n&&o.piece&&o.piece.childAt(0)===t.target){var r=o.getModel().get("nodeClick");if("rootToNode"===r)e._rootToNode(o);else if("link"===r){var l=o.getModel(),link=l.get("link");if(link){var c=l.get("target",!0)||"_blank";window.open(link,c)}}n=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",t),this.group._onclickEvent=t},_rootToNode:function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},containPoint:function(e,t){var n=t.getData().getItemLayout(0);if(n){var o=e[0]-n.cx,r=e[1]-n.cy,l=Math.sqrt(o*o+r*r);return l<=n.r&&l>=n.r0}}});e.exports=d},function(e,t,n){var o=n(0),r=n(55),l={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"},c=2,d=4;function h(e,t,n){r.Group.call(this);var o=new r.Sector({z2:c});o.seriesIndex=t.seriesIndex;var text=new r.Text({z2:d,silent:e.getModel("label").get("silent")});function l(){text.ignore=text.hoverIgnore}function h(){text.ignore=text.normalIgnore}this.add(o),this.add(text),this.updateData(!0,e,"normal",t,n),this.on("emphasis",l).on("normal",h).on("mouseover",l).on("mouseout",h)}var f=h.prototype;f.updateData=function(e,t,n,l,c){this.node=t,t.piece=this,l=l||this._seriesModel,c=c||this._ecModel;var d=this.childAt(0);d.dataIndex=t.dataIndex;var h=t.getModel(),f=t.getLayout(),m=o.extend({},f);m.label=null;var v=function(e,t,n){var r=e.getVisual("color"),l=e.getVisual("visualMeta");l&&0!==l.length||(r=null);var c=e.getModel("itemStyle").get("color");if(c)return c;if(r)return r;if(0===e.depth)return n.option.color[0];var d=n.option.color.length;c=n.option.color[function(e){var t=e;for(;t.depth>1;)t=t.parentNode;var n=e.getAncestors()[0];return o.indexOf(n.children,t)}(e)%d];return c}(t,0,c);!function(e,t,n){t.getData().setItemVisual(e.dataIndex,"color",n)}(t,l,v);var style,y=h.getModel("itemStyle").getItemStyle();if("normal"===n)style=y;else{var x=h.getModel(n+".itemStyle").getItemStyle();style=o.merge(x,y)}style=o.defaults({lineJoin:"bevel",fill:style.fill||v},style),e?(d.setShape(m),d.shape.r=f.r0,r.updateProps(d,{shape:{r:f.r}},l,t.dataIndex),d.useStyle(style)):"object"==typeof style.fill&&style.fill.type||"object"==typeof d.style.fill&&d.style.fill.type?(r.updateProps(d,{shape:m},l),d.useStyle(style)):r.updateProps(d,{shape:m,style:style},l),this._updateLabel(l,v,n);var _=h.getShallow("cursor");if(_&&d.attr("cursor",_),e){var w=l.getShallow("highlightPolicy");this._initEvents(d,t,l,w)}this._seriesModel=l||this._seriesModel,this._ecModel=c||this._ecModel},f.onEmphasis=function(e){var t=this;this.node.hostTree.root.eachNode(function(n){var o,r,c;n.piece&&(t.node===n?n.piece.updateData(!1,n,"emphasis"):(o=n,r=t.node,(c=e)!==l.NONE&&(c===l.SELF?o===r:c===l.ANCESTOR?o===r||o.isAncestorOf(r):o===r||o.isDescendantOf(r))?n.piece.childAt(0).trigger("highlight"):e!==l.NONE&&n.piece.childAt(0).trigger("downplay")))})},f.onNormal=function(){this.node.hostTree.root.eachNode(function(e){e.piece&&e.piece.updateData(!1,e,"normal")})},f.onHighlight=function(){this.updateData(!1,this.node,"highlight")},f.onDownplay=function(){this.updateData(!1,this.node,"downplay")},f._updateLabel=function(e,t,n){var l=this.node.getModel(),c=l.getModel("label"),d="normal"===n||"emphasis"===n?c:l.getModel(n+".label"),h=l.getModel("emphasis.label"),text=o.retrieve(e.getFormattedLabel(this.node.dataIndex,"normal",null,null,"label"),this.node.name);!1===C("show")&&(text="");var f=this.node.getLayout(),m=d.get("minAngle");null==m&&(m=c.get("minAngle")),m=m/180*Math.PI;var v=f.endAngle-f.startAngle;null!=m&&Math.abs(v)<m&&(text="");var label=this.childAt(1);r.setLabelStyle(label.style,label.hoverStyle||{},c,h,{defaultText:d.getShallow("show")?text:null,autoColor:t,useInsideStyle:!0});var y,x=(f.startAngle+f.endAngle)/2,_=Math.cos(x),w=Math.sin(x),S=C("position"),M=C("distance")||0,I=C("align");"outside"===S?(y=f.r+M,I=x>Math.PI/2?"right":"left"):I&&"center"!==I?"left"===I?(y=f.r0+M,x>Math.PI/2&&(I="right")):"right"===I&&(y=f.r-M,x>Math.PI/2&&(I="left")):(y=(f.r+f.r0)/2,I="center"),label.attr("style",{text:text,textAlign:I,textVerticalAlign:C("verticalAlign")||"middle",opacity:C("opacity")});var A=y*_+f.cx,T=y*w+f.cy;label.attr("position",[A,T]);var D=C("rotate"),L=0;function C(e){var t=d.get(e);return null==t?c.get(e):t}"radial"===D?(L=-x)<-Math.PI/2&&(L+=Math.PI):"tangential"===D?(L=Math.PI/2-x)>Math.PI/2?L-=Math.PI:L<-Math.PI/2&&(L+=Math.PI):"number"==typeof D&&(L=D*Math.PI/180),label.attr("rotation",L)},f._initEvents=function(e,t,n,o){e.off("mouseover").off("mouseout").off("emphasis").off("normal");var r=this,l=function(){r.onEmphasis(o)},c=function(){r.onNormal()};n.isAnimationEnabled()&&e.on("mouseover",l).on("mouseout",c).on("emphasis",l).on("normal",c).on("downplay",function(){r.onDownplay()}).on("highlight",function(){r.onHighlight()})},o.inherits(h,r.Group);var m=h;e.exports=m},function(e,t,n){var o=n(31),r=n(485),l="sunburstRootToNode";o.registerAction({type:l,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(t,n){var o=r.retrieveTargetInfo(e,[l],t);if(o){var c=t.getViewRoot();c&&(e.direction=r.aboveViewRoot(c,o.node)?"rollUp":"drillDown"),t.resetViewRoot(o.node)}})});var c="sunburstHighlight";o.registerAction({type:c,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(t,n){var o=r.retrieveTargetInfo(e,[c],t);o&&(e.highlight=o.node)})});o.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(t,n){e.unhighlight=!0})})},function(e,t,n){var o=n(17).parsePercent,r=n(0),l=(Math.PI,Math.PI/180);e.exports=function(e,t,n,c){t.eachSeriesByType(e,function(e){var t=e.get("center"),c=e.get("radius");r.isArray(c)||(c=[0,c]),r.isArray(t)||(t=[t,t]);var d=n.getWidth(),h=n.getHeight(),f=Math.min(d,h),m=o(t[0],d),v=o(t[1],h),y=o(c[0],f/2),x=o(c[1],f/2),_=-e.get("startAngle")*l,w=e.get("minAngle")*l,S=e.getData().tree.root,M=e.getViewRoot(),I=M.depth,A=e.get("sort");null!=A&&function e(t,n){var o=t.children||[];t.children=function(e,t){if("function"==typeof t)return e.sort(t);var n="asc"===t;return e.sort(function(a,b){var e=(a.getValue()-b.getValue())*(n?1:-1);return 0===e?(a.dataIndex-b.dataIndex)*(n?-1:1):e})}(o,n),o.length&&r.each(t.children,function(t){e(t,n)})}(M,A);var T=0;r.each(M.children,function(e){!isNaN(e.getValue())&&T++});var D=M.getValue(),L=Math.PI/(D||T)*2,C=M.depth>0,P=M.height-(C?-1:1),N=(x-y)/(P||1),k=e.get("clockwise"),O=e.get("stillShowZeroSum"),R=k?1:-1,E=function(e,t){if(e){var n=t;if(e!==S){var l=e.getValue(),c=0===D&&O?L:l*L;c<w&&(c=w),n=t+R*c;var d=e.depth-I-(C?-1:1),h=y+N*d,x=y+N*(d+1),_=e.getModel();null!=_.get("r0")&&(h=o(_.get("r0"),f/2)),null!=_.get("r")&&(x=o(_.get("r"),f/2)),e.setLayout({angle:c,startAngle:t,endAngle:n,clockwise:k,cx:m,cy:v,r0:h,r:x})}if(e.children&&e.children.length){var M=0;r.each(e.children,function(e){M+=E(e,t+M)})}return n-t}};if(C){var z=y,V=y+N,G=2*Math.PI;S.setLayout({angle:G,startAngle:_,endAngle:_+G,clockwise:k,cx:m,cy:v,r0:z,r:V})}E(M,_)})}},function(e,t,n){n(12).__DEV__;var o=n(0),r=n(55),l=n(514).getDefaultLabel,c=n(260),d=n(265).getLayoutOnAxis,h=n(263),f=n(257),m=n(259),v=n(747),y=n(748),x=n(749),_=n(750),w=n(751),S=["itemStyle"],M=["emphasis","itemStyle"],I=["label"],A=["emphasis","label"],T="e\0\0",D={cartesian2d:v,geo:y,singleAxis:x,polar:_,calendar:w};function L(e,t,n,o,r){null==n[e]||r||(t[e]=n[e],n[e]=o[e])}function C(e,data,t,n){var c=e.get("renderItem"),h=e.coordinateSystem,f={};h&&(f=h.prepareCustoms?h.prepareCustoms():D[h.type](h));var m,v,y,x,_,w=o.defaults({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:function(e,t){return null==t&&(t=m),data.get(data.getDimension(e||0),t)},style:function(t,n){null==n&&(n=m),C(n);var c=v.getModel(S).getItemStyle();null!=_&&(c.fill=_);var d=data.getItemVisual(n,"opacity");return null!=d&&(c.opacity=d),r.setTextStyle(c,y,null,{autoColor:_,isRectText:!0}),c.text=y.getShallow("show")?o.retrieve2(e.getFormattedLabel(n,"normal"),l(data,n)):null,t&&o.extend(c,t),c},styleEmphasis:function(t,n){null==n&&(n=m),C(n);var c=v.getModel(M).getItemStyle();return r.setTextStyle(c,x,null,{isRectText:!0},!0),c.text=x.getShallow("show")?o.retrieve3(e.getFormattedLabel(n,"emphasis"),e.getFormattedLabel(n,"normal"),l(data,n)):null,t&&o.extend(c,t),c},visual:function(e,t){return null==t&&(t=m),data.getItemVisual(t,e)},barLayout:function(e){if(h.getBaseAxis){var t=h.getBaseAxis();return d(o.defaults({axis:t},e),n)}},currentSeriesIndices:function(){return t.getCurrentSeriesIndices()},font:function(e){return r.getFont(e,t)}},f.api||{}),T={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:f.coordSys,dataInsideLength:data.count(),encode:P(e.getData())},L=!0;return function(e,t){return m=e,L=!0,c&&c(o.defaults({dataIndexInside:e,dataIndex:data.getRawIndex(e),actionType:t?t.type:null},T),w)};function C(e){null==e&&(e=m),L&&(v=data.getItemModel(e),y=v.getModel(I),x=v.getModel(A),_=data.getItemVisual(e,"color"),L=!1)}}function P(data){var e={};return o.each(data.dimensions,function(t,n){var o=data.getDimensionInfo(t);if(!o.isExtraCoord){var r=o.coordDim;(e[r]=e[r]||[])[o.coordDimIndex]=n}}),e}function N(e,t,n,o,r,data){return(e=k(e,t,n,o,r,data,!0))&&data.setItemGraphicEl(t,e),e}function k(e,t,n,l,c,data,d){var f,m=!n,v=(n=n||{}).type,y=n.shape,x=n.style;if(e&&(m||null!=v&&v!==e.__customGraphicType||"path"===v&&((f=y)&&(f.hasOwnProperty("pathData")||f.hasOwnProperty("d")))&&z(y)!==e.__customPathData||"image"===v&&V(x,"image")&&x.image!==e.__customImagePath||"text"===v&&V(y,"text")&&x.text!==e.__customText)&&(c.remove(e),e=null),!m){var _=!e;return!e&&(e=function(e){var t,n=e.type;if("path"===n){var o=e.shape,l=null!=o.width&&null!=o.height?{x:o.x||0,y:o.y||0,width:o.width,height:o.height}:null,c=z(o);(t=r.makePath(c,null,l,o.layout||"center")).__customPathData=c}else"image"===n?(t=new r.Image({})).__customImagePath=e.style.image:"text"===n?(t=new r.Text({})).__customText=e.style.text:t=new(0,r[n.charAt(0).toUpperCase()+n.slice(1)]);return t.__customGraphicType=n,t.name=e.name,t}(n)),function(e,t,n,l,data,c,d){var h={},f=n.style||{};if(n.shape&&(h.shape=o.clone(n.shape)),n.position&&(h.position=n.position.slice()),n.scale&&(h.scale=n.scale.slice()),n.origin&&(h.origin=n.origin.slice()),n.rotation&&(h.rotation=n.rotation),"image"===e.type&&n.style){var m=h.style={};o.each(["x","y","width","height"],function(t){L(t,m,f,e.style,c)})}"text"===e.type&&n.style&&(m=h.style={},o.each(["x","y"],function(t){L(t,m,f,e.style,c)}),!f.hasOwnProperty("textFill")&&f.fill&&(f.textFill=f.fill),!f.hasOwnProperty("textStroke")&&f.stroke&&(f.textStroke=f.stroke));if("group"!==e.type&&(e.useStyle(f),c)){e.style.opacity=0;var v=f.opacity;null==v&&(v=1),r.initProps(e,{style:{opacity:v}},l,t)}c?e.attr(h):r.updateProps(e,h,l,t),n.hasOwnProperty("z2")&&e.attr("z2",n.z2||0),n.hasOwnProperty("silent")&&e.attr("silent",n.silent),n.hasOwnProperty("invisible")&&e.attr("invisible",n.invisible),n.hasOwnProperty("ignore")&&e.attr("ignore",n.ignore),n.hasOwnProperty("info")&&e.attr("info",n.info);var y=n.styleEmphasis,x=!1===y;e.__cusHasEmphStl&&null==y||!e.__cusHasEmphStl&&x||(r.setElementHoverStyle(e,y),e.__cusHasEmphStl=!x),d&&r.setAsHoverStyleTrigger(e,!x)}(e,t,n,l,0,_,d),"group"===v&&function(e,t,n,o,data){var r=n.children,l=r?r.length:0,c=n.$mergeChildren,d="byName"===c||n.diffChildrenByName,f=!1===c;if(!l&&!d&&!f)return;if(d)return m={oldChildren:e.children()||[],newChildren:r||[],dataIndex:t,animatableModel:o,group:e,data:data},void new h(m.oldChildren,m.newChildren,O,O,m).add(R).update(R).remove(E).execute();var m;f&&e.removeAll();for(var v=0;v<l;v++)r[v]&&k(e.childAt(v),t,r[v],o,e,data)}(e,t,n,l,data),c.add(e),e}}function O(e,t){var n=e&&e.name;return null!=n?n:T+t}function R(e,t){var n=this.context,o=null!=e?n.newChildren[e]:null;k(null!=t?n.oldChildren[t]:null,n.dataIndex,o,n.animatableModel,n.group,n.data)}function E(e){var t=this.context,n=t.oldChildren[e];n&&t.group.remove(n)}function z(e){return e&&(e.pathData||e.d)}function V(e,t){return e&&e.hasOwnProperty(t)}f.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0},getInitialData:function(option,e){return c(this.getSource(),this)},getDataParams:function(e,t,n){var o=f.prototype.getDataParams.apply(this,arguments);return n&&(o.info=n.info),o}}),m.extend({type:"custom",_data:null,render:function(e,t,n,o){var r=this._data,data=e.getData(),l=this.group,c=C(e,data,t,n);data.diff(r).add(function(t){N(null,t,c(t,o),e,l,data)}).update(function(t,n){N(r.getItemGraphicEl(n),t,c(t,o),e,l,data)}).remove(function(e){var t=r.getItemGraphicEl(e);t&&l.remove(t)}).execute(),this._data=data},incrementalPrepareRender:function(e,t,n){this.group.removeAll(),this._data=null},incrementalRender:function(e,t,n,o,r){var data=t.getData(),l=C(t,data,n,o);function c(e){e.isGroup||(e.incremental=!0,e.useHoverLayer=!0)}for(var d=e.start;d<e.end;d++){N(null,d,l(d,r),t,this.group,data).traverse(c)}},dispose:o.noop,filterForExposedEvent:function(e,t,n,o){var r=t.element;if(null==r||n.name===r)return!0;for(;(n=n.parent)&&n!==this.group;)if(n.name===r)return!0;return!1}})},function(e,t,n){var o=n(0);function r(e,t){return t=t||[0,0],o.map(["x","y"],function(n,o){var r=this.getAxis(n),l=t[o],c=e[o]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(l-c)-r.dataToCoord(l+c))},this)}e.exports=function(e){var rect=e.grid.getRect();return{coordSys:{type:"cartesian2d",x:rect.x,y:rect.y,width:rect.width,height:rect.height},api:{coord:function(data){return e.dataToPoint(data)},size:o.bind(r,e)}}}},function(e,t,n){var o=n(0);function r(e,t){return t=t||[0,0],o.map([0,1],function(n){var o=t[n],r=e[n]/2,l=[],c=[];return l[n]=o-r,c[n]=o+r,l[1-n]=c[1-n]=t[1-n],Math.abs(this.dataToPoint(l)[n]-this.dataToPoint(c)[n])},this)}e.exports=function(e){var rect=e.getBoundingRect();return{coordSys:{type:"geo",x:rect.x,y:rect.y,width:rect.width,height:rect.height,zoom:e.getZoom()},api:{coord:function(data){return e.dataToPoint(data)},size:o.bind(r,e)}}}},function(e,t,n){var o=n(0);function r(e,t){var n=this.getAxis(),o=t instanceof Array?t[0]:t,r=(e instanceof Array?e[0]:e)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(o-r)-n.dataToCoord(o+r))}e.exports=function(e){var rect=e.getRect();return{coordSys:{type:"singleAxis",x:rect.x,y:rect.y,width:rect.width,height:rect.height},api:{coord:function(t){return e.dataToPoint(t)},size:o.bind(r,e)}}}},function(e,t,n){var o=n(0);function r(e,t){return o.map(["Radius","Angle"],function(n,o){var r=this["get"+n+"Axis"](),l=t[o],c=e[o]/2,d="dataTo"+n,h="category"===r.type?r.getBandWidth():Math.abs(r[d](l-c)-r[d](l+c));return"Angle"===n&&(h=h*Math.PI/180),h},this)}e.exports=function(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),l=t.getExtent();return l[0]>l[1]&&l.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:l[1],r0:l[0]},api:{coord:o.bind(function(data){var o=t.dataToRadius(data[0]),r=n.dataToAngle(data[1]),l=e.coordToPoint([o,r]);return l.push(o,r*Math.PI/180),l}),size:o.bind(r,e)}}}},function(e,t){e.exports=function(e){var rect=e.getRect(),t=e.getRangeInfo();return{coordSys:{type:"calendar",x:rect.x,y:rect.y,width:rect.width,height:rect.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(data,t){return e.dataToPoint(data,t)}}}}},function(e,t,n){n(12).__DEV__;var o=n(31),r=n(0),l=n(4),c=n(55),d=n(110);o.registerPreprocessor(function(option){var e=option.graphic;r.isArray(e)?e[0]&&e[0].elements?option.graphic=[option.graphic[0]]:option.graphic=[{elements:e}]:e&&!e.elements&&(option.graphic=[{elements:[e]}])});var h=o.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(option){var e=this.option.elements;this.option.elements=null,h.superApply(this,"mergeOption",arguments),this.option.elements=e},optionUpdated:function(e,t){var n=this.option,o=(t?n:e).elements,c=n.elements=t?[]:n.elements,h=[];this._flatten(o,h);var f=l.mappingToExists(c,h);l.makeIdAndName(f);var m=this._elOptionsToUpdate=[];r.each(f,function(e,t){var n=e.option;n&&(m.push(n),function(e,t){var n=e.exist;if(t.id=e.keyInfo.id,!t.type&&n&&(t.type=n.type),null==t.parentId){var o=t.parentOption;o?t.parentId=o.id:n&&(t.parentId=n.parentId)}t.parentOption=null}(e,n),function(e,t,n){var o=r.extend({},n),l=e[t],c=n.$action||"merge";"merge"===c?l?(r.merge(l,o,!0),d.mergeLayoutParam(l,o,{ignoreSize:!0}),d.copyLayoutParams(n,l)):e[t]=o:"replace"===c?e[t]=o:"remove"===c&&l&&(e[t]=null)}(c,t,n),function(e,t){if(!e)return;e.hv=t.hv=[v(t,["left","right"]),v(t,["top","bottom"])],"group"===e.type&&(null==e.width&&(e.width=t.width=0),null==e.height&&(e.height=t.height=0))}(c[t],n))},this);for(var i=c.length-1;i>=0;i--)null==c[i]?c.splice(i,1):delete c[i].$action},_flatten:function(e,t,n){r.each(e,function(option){if(option){n&&(option.parentOption=n),t.push(option);var e=option.children;"group"===option.type&&e&&this._flatten(e,t,option),delete option.children}},this)},useElOptionsToUpdate:function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e}});function f(e,t,n,o){var r=n.type,l=new(0,c[r.charAt(0).toUpperCase()+r.slice(1)])(n);t.add(l),o.set(e,l),l.__ecGraphicId=e}function m(e,t){var n=e&&e.parent;n&&("group"===e.type&&e.traverse(function(e){m(e,t)}),t.removeKey(e.__ecGraphicId),n.remove(e))}function v(e,t){var n;return r.each(t,function(t){null!=e[t]&&"auto"!==e[t]&&(n=!0)}),n}o.extendComponentView({type:"graphic",init:function(e,t){this._elMap=r.createHashMap(),this._lastGraphicModel},render:function(e,t,n){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,n)},_updateElements:function(e){var t=e.useElOptionsToUpdate();if(t){var n=this._elMap,o=this.group;r.each(t,function(t){var l=t.$action,c=t.id,h=n.get(c),v=t.parentId,y=null!=v?n.get(v):o,x=t.style;"text"===t.type&&x&&(t.hv&&t.hv[1]&&(x.textVerticalAlign=x.textBaseline=null),!x.hasOwnProperty("textFill")&&x.fill&&(x.textFill=x.fill),!x.hasOwnProperty("textStroke")&&x.stroke&&(x.textStroke=x.stroke));var _=function(e){return e=r.extend({},e),r.each(["id","parentId","$action","hv","bounding"].concat(d.LOCATION_PARAMS),function(t){delete e[t]}),e}(t);l&&"merge"!==l?"replace"===l?(m(h,n),f(c,y,_,n)):"remove"===l&&m(h,n):h?h.attr(_):f(c,y,_,n);var w=n.get(c);w&&(w.__ecGraphicWidth=t.width,w.__ecGraphicHeight=t.height,function(e,t,n){var o=e.eventData;e.silent||e.ignore||o||(o=e.eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name});o&&(o.info=e.info)}(w,e))})}},_relocate:function(e,t){for(var n=e.option.elements,o=this.group,r=this._elMap,i=n.length-1;i>=0;i--){var l=n[i],c=r.get(l.id);if(c){var h=c.parent,f=h===o?{width:t.getWidth(),height:t.getHeight()}:{width:h.__ecGraphicWidth||0,height:h.__ecGraphicHeight||0};d.positionElement(c,l,f,null,{hv:l.hv,boundingMode:l.bounding})}}},_clear:function(){var e=this._elMap;e.each(function(t){m(t,e)}),this._elMap=r.createHashMap()},dispose:function(){this._clear()}})},function(e,t,n){n(492),n(543),n(488)},function(e,t,n){n(755),n(758),n(759),n(760)},function(e,t,n){var o=n(31);n(576),n(756),n(577);var r=n(757),l=n(56);o.registerProcessor(r),l.registerSubTypeDefaulter("legend",function(){return"plain"})},function(e,t,n){var o=n(31),r=n(0);function l(e,t,n){var o,l={},c="toggleSelected"===e;return n.eachComponent("legend",function(n){c&&null!=o?n[o?"select":"unSelect"](t.name):(n[e](t.name),o=n.isSelected(t.name));var d=n.getData();r.each(d,function(e){var t=e.get("name");if("\n"!==t&&""!==t){var o=n.isSelected(t);l.hasOwnProperty(t)?l[t]=l[t]&&o:l[t]=o}})}),{name:t.name,selected:l}}o.registerAction("legendToggleSelect","legendselectchanged",r.curry(l,"toggleSelected")),o.registerAction("legendSelect","legendselected",r.curry(l,"select")),o.registerAction("legendUnSelect","legendunselected",r.curry(l,"unSelect"))},function(e,t){e.exports=function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(e){for(var i=0;i<t.length;i++)if(!t[i].isSelected(e.name))return!1;return!0})}},function(e,t,n){var o=n(576),r=n(110),l=r.mergeLayoutParam,c=r.getLayoutParams,d=o.extend({type:"legend.scroll",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(option,e,t,n){var o=c(option);d.superCall(this,"init",option,e,t,n),h(this,option,o)},mergeOption:function(option,e){d.superCall(this,"mergeOption",option,e),h(this,this.option,option)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}});function h(e,t,n){var o=[1,1];o[e.getOrient().index]=0,l(t,n,{type:"box",ignoreSize:o})}var f=d;e.exports=f},function(e,t,n){var o=n(0),r=n(55),l=n(110),c=n(577),d=r.Group,h=["width","height"],f=["x","y"],m=c.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){m.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new d),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new d),this._showController},resetInner:function(){m.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(e,t,n,l){var c=this;m.superCall(this,"renderInner",e,t,n,l);var d=this._controllerGroup,h=t.get("pageIconSize",!0);o.isArray(h)||(h=[h,h]),v("pagePrev",0);var f=t.getModel("pageTextStyle");function v(e,n){var f=e+"DataIndex",m=r.createIcon(t.get("pageIcons",!0)[t.getOrient().name][n],{onclick:o.bind(c._pageGo,c,f,t,l)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});m.name=e,d.add(m)}d.add(new r.Text({name:"pageText",style:{textFill:f.getTextColor(),font:f.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),v("pageNext",1)},layoutInner:function(e,t,n,c){var d=this.getContentGroup(),m=this._containerGroup,v=this._controllerGroup,y=e.getOrient().index,x=h[y],_=h[1-y],w=f[1-y];l.box(e.get("orient"),d,e.get("itemGap"),y?n.width:null,y?null:n.height),l.box("horizontal",v,e.get("pageButtonItemGap",!0));var S=d.getBoundingRect(),M=v.getBoundingRect(),I=this._showController=S[x]>n[x],A=[-S.x,-S.y];c||(A[y]=d.position[y]);var T=[0,0],D=[-M.x,-M.y],L=o.retrieve2(e.get("pageButtonGap",!0),e.get("itemGap",!0));I&&("end"===e.get("pageButtonPosition",!0)?D[y]+=n[x]-M[x]:T[y]+=M[x]+L);D[1-y]+=S[_]/2-M[_]/2,d.attr("position",A),m.attr("position",T),v.attr("position",D);var C=this.group.getBoundingRect();if((C={x:0,y:0})[x]=I?n[x]:S[x],C[_]=Math.max(S[_],M[_]),C[w]=Math.min(0,M[w]+D[1-y]),m.__rectSize=n[x],I){var P={x:0,y:0};P[x]=Math.max(n[x]-M[x]-L,0),P[_]=C[_],m.setClipPath(new r.Rect({shape:P})),m.__rectSize=P[x]}else v.eachChild(function(e){e.attr({invisible:!0,silent:!0})});var N=this._getPageInfo(e);return null!=N.pageIndex&&r.updateProps(d,{position:N.contentPosition},!!I&&e),this._updatePageInfoView(e,N),C},_pageGo:function(e,t,n){var o=this._getPageInfo(t)[e];null!=o&&n.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:t.id})},_updatePageInfoView:function(e,t){var n=this._controllerGroup;o.each(["pagePrev","pageNext"],function(o){var r=null!=t[o+"DataIndex"],l=n.childOfName(o);l&&(l.setStyle("fill",r?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),l.cursor=r?"pointer":"default")});var r=n.childOfName("pageText"),l=e.get("pageFormatter"),c=t.pageIndex,d=null!=c?c+1:0,h=t.pageCount;r&&l&&r.setStyle("text",o.isString(l)?l.replace("{current}",d).replace("{total}",h):l({current:d,total:h}))},_getPageInfo:function(e){var t=e.get("scrollDataIndex",!0),n=this.getContentGroup(),o=this._containerGroup.__rectSize,r=e.getOrient().index,l=h[r],c=f[r],d=this._findTargetItemIndex(t),m=n.children(),v=m[d],y=m.length,x=y?1:0,_={contentPosition:n.position.slice(),pageCount:x,pageIndex:x-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!v)return _;var w=A(v);_.contentPosition[r]=-w.s;for(var i=d+1,S=w,M=w,I=null;i<=y;++i)(!(I=A(m[i]))&&M.e>S.s+o||I&&!T(I,S.s))&&(S=M.i>S.i?M:I)&&(null==_.pageNextDataIndex&&(_.pageNextDataIndex=S.i),++_.pageCount),M=I;for(i=d-1,S=w,M=w,I=null;i>=-1;--i)(I=A(m[i]))&&T(M,I.s)||!(S.i<M.i)||(M=S,null==_.pagePrevDataIndex&&(_.pagePrevDataIndex=S.i),++_.pageCount,++_.pageIndex),S=I;return _;function A(e){if(e){var t=e.getBoundingRect(),n=t[c]+e.position[r];return{s:n,e:n+t[l],i:e.__legendDataIndex}}}function T(e,t){return e.e>=t&&e.s<=t+o}},_findTargetItemIndex:function(e){var t,n=this.getContentGroup();return this._showController?n.eachChild(function(n,o){n.__legendDataIndex===e&&(t=o)}):t=0,t}}),v=m;e.exports=v},function(e,t,n){n(31).registerAction("legendScroll","legendscroll",function(e,t){var n=e.scrollDataIndex;null!=n&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(e){e.setScrollDataIndex(n)})})},function(e,t,n){var o=n(31),r=n(0),l=n(762);n(520),n(768),n(770),n(488),n(772),o.registerLayout(r.curry(l,"bar")),o.extendComponentView({type:"polar"})},function(e,t,n){var o=n(0),r=n(17).parsePercent,l=n(111).isDimensionStacked;function c(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function d(e){return e.dim}var h=function(e,t,n){n.getWidth(),n.getHeight();var h={},f=function(e,t){var n={};o.each(e,function(e,t){var data=e.getData(),o=e.coordinateSystem,l=o.getBaseAxis(),h=l.getExtent(),f="category"===l.type?l.getBandWidth():Math.abs(h[1]-h[0])/data.count(),m=n[d(l)]||{bandWidth:f,remainedWidth:f,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},v=m.stacks;n[d(l)]=m;var y=c(e);v[y]||m.autoWidthCount++,v[y]=v[y]||{width:0,maxWidth:0};var x=r(e.get("barWidth"),f),_=r(e.get("barMaxWidth"),f),w=e.get("barGap"),S=e.get("barCategoryGap");x&&!v[y].width&&(x=Math.min(m.remainedWidth,x),v[y].width=x,m.remainedWidth-=x),_&&(v[y].maxWidth=_),null!=w&&(m.gap=w),null!=S&&(m.categoryGap=S)});var l={};return o.each(n,function(e,t){l[t]={};var n=e.stacks,c=e.bandWidth,d=r(e.categoryGap,c),h=r(e.gap,1),f=e.remainedWidth,m=e.autoWidthCount,v=(f-d)/(m+(m-1)*h);v=Math.max(v,0),o.each(n,function(e,t){var n=e.maxWidth;n&&n<v&&(n=Math.min(n,f),e.width&&(n=Math.min(n,e.width)),f-=n,e.width=n,m--)}),v=(f-d)/(m+(m-1)*h),v=Math.max(v,0);var y,x=0;o.each(n,function(e,t){e.width||(e.width=v),y=e,x+=e.width*(1+h)}),y&&(x-=y.width*h);var _=-x/2;o.each(n,function(e,n){l[t][n]=l[t][n]||{offset:_,width:e.width},_+=e.width*(1+h)})}),l}(o.filter(t.getSeriesByType(e),function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&"polar"===e.coordinateSystem.type}));t.eachSeriesByType(e,function(e){if("polar"===e.coordinateSystem.type){var data=e.getData(),t=e.coordinateSystem,n=t.getBaseAxis(),o=c(e),r=f[d(n)][o],m=r.offset,v=r.width,y=t.getOtherAxis(n),x=e.coordinateSystem.cx,_=e.coordinateSystem.cy,w=e.get("barMinHeight")||0,S=e.get("barMinAngle")||0;h[o]=h[o]||[];for(var M=data.mapDimension(y.dim),I=data.mapDimension(n.dim),A=l(data,M),T=y.getExtent()[0],D=0,L=data.count();D<L;D++){var C=data.get(M,D),P=data.get(I,D);if(!isNaN(C)){var N,k,O,R,E=C>=0?"p":"n",z=T;if(A&&(h[o][P]||(h[o][P]={p:T,n:T}),z=h[o][P][E]),"radius"===y.dim){var V=y.dataToRadius(C)-T,G=n.dataToAngle(P);Math.abs(V)<w&&(V=(V<0?-1:1)*w),N=z,k=z+V,R=(O=G-m)-v,A&&(h[o][P][E]=k)}else{var B=y.dataToAngle(C,!0)-T,H=n.dataToRadius(P);Math.abs(B)<S&&(B=(B<0?-1:1)*S),k=(N=H+m)+v,O=z,R=z+B,A&&(h[o][P][E]=R)}data.setItemLayout(D,{cx:x,cy:_,r0:N,r:k,startAngle:-O*Math.PI/180,endAngle:-R*Math.PI/180})}}}},this)};e.exports=h},function(e,t,n){var o=n(764),r=n(765),l=function(e){this.name=e||"",this.cx=0,this.cy=0,this._radiusAxis=new o,this._angleAxis=new r,this._radiusAxis.polar=this._angleAxis.polar=this};l.prototype={type:"polar",axisPointerEnabled:!0,constructor:l,dimensions:["radius","angle"],model:null,containPoint:function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},containData:function(data){return this._radiusAxis.containData(data[0])&&this._angleAxis.containData(data[1])},getAxis:function(e){return this["_"+e+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(e){var t=[],n=this._angleAxis,o=this._radiusAxis;return n.scale.type===e&&t.push(n),o.scale.type===e&&t.push(o),t},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},dataToPoint:function(data,e){return this.coordToPoint([this._radiusAxis.dataToRadius(data[0],e),this._angleAxis.dataToAngle(data[1],e)])},pointToData:function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},pointToCoord:function(e){var t=e[0]-this.cx,n=e[1]-this.cy,o=this.getAngleAxis(),r=o.getExtent(),l=Math.min(r[0],r[1]),c=Math.max(r[0],r[1]);o.inverse?l=c-360:c=l+360;var d=Math.sqrt(t*t+n*n);t/=d,n/=d;for(var h=Math.atan2(-n,t)/Math.PI*180,f=h<l?1:-1;h<l||h>c;)h+=360*f;return[d,h]},coordToPoint:function(e){var t=e[0],n=e[1]/180*Math.PI;return[Math.cos(n)*t+this.cx,-Math.sin(n)*t+this.cy]}};var c=l;e.exports=c},function(e,t,n){var o=n(0),r=n(261);function l(e,t){r.call(this,"radius",e,t),this.type="category"}l.prototype={constructor:l,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToRadius:r.prototype.dataToCoord,radiusToData:r.prototype.coordToData},o.inherits(l,r);var c=l;e.exports=c},function(e,t,n){var o=n(0),r=n(59),l=n(261),c=(0,n(4).makeInner)();function d(e,t){t=t||[0,360],l.call(this,"angle",e,t),this.type="category"}d.prototype={constructor:d,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToAngle:l.prototype.dataToCoord,angleToData:l.prototype.coordToData,calculateCategoryInterval:function(){var e=this.getLabelModel(),t=this.scale,n=t.getExtent(),o=t.count();if(n[1]-n[0]<1)return 0;var l=n[0],d=this.dataToCoord(l+1)-this.dataToCoord(l),h=Math.abs(d),rect=r.getBoundingRect(l,e.getFont(),"center","top"),f=Math.max(rect.height,7)/h;isNaN(f)&&(f=1/0);var m=Math.max(0,Math.floor(f)),v=c(this.model),y=v.lastAutoInterval,x=v.lastTickCount;return null!=y&&null!=x&&Math.abs(y-m)<=1&&Math.abs(x-o)<=1&&y>m?m=y:(v.lastTickCount=o,v.lastAutoInterval=m),m}},o.inherits(d,l);var h=d;e.exports=h},function(e,t,n){var o=n(31);n(767);var r=o.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(e){var t;return this.ecModel.eachComponent(e,function(e){e.getCoordSysModel()===this&&(t=e)},this),t},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});e.exports=r},function(e,t,n){var o=n(0),r=n(56),l=n(502),c=n(264),d=r.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});o.merge(d.prototype,c);var h={splitNumber:5};function f(e,option){return option.type||(option.data?"category":"value")}l("angle",d,f,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),l("radius",d,f,h)},function(e,t,n){n(520),n(769)},function(e,t,n){var o=n(0),r=n(55),l=n(57),c=n(482),d=["axisLine","axisLabel","axisTick","splitLine","splitArea"];function h(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var o=e.coordToPoint([t[0],n]),r=e.coordToPoint([t[1],n]);return{x1:o[0],y1:o[1],x2:r[0],y2:r[1]}}function f(e){return e.getRadiusAxis().inverse?0:1}function m(e){var t=e[0],n=e[e.length-1];t&&n&&Math.abs(Math.abs(t.coord-n.coord)-360)<1e-4&&e.pop()}var v=c.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,r=n.polar,l=r.getRadiusAxis().getExtent(),c=n.getTicksCoords(),h=o.map(n.getViewLabels(),function(e){return(e=o.clone(e)).coord=n.dataToCoord(e.tickValue),e});m(h),m(c),o.each(d,function(t){!e.get(t+".show")||n.scale.isBlank()&&"axisLine"!==t||this["_"+t](e,r,c,l,h)},this)}},_axisLine:function(e,t,n,o){var l=e.getModel("axisLine.lineStyle"),circle=new r.Circle({shape:{cx:t.cx,cy:t.cy,r:o[f(t)]},style:l.getLineStyle(),z2:1,silent:!0});circle.style.fill=null,this.group.add(circle)},_axisTick:function(e,t,n,l){var c=e.getModel("axisTick"),d=(c.get("inside")?-1:1)*c.get("length"),m=l[f(t)],v=o.map(n,function(e){return new r.Line({shape:h(t,[m,m+d],e.coord)})});this.group.add(r.mergePath(v,{style:o.defaults(c.getModel("lineStyle").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})}))},_axisLabel:function(e,t,n,c,d){var h=e.getCategories(!0),m=e.getModel("axisLabel"),v=m.get("margin");o.each(d,function(n,o){var d=m,y=n.tickValue,x=c[f(t)],p=t.coordToPoint([x+v,n.coord]),_=t.cx,w=t.cy,S=Math.abs(p[0]-_)/x<.3?"center":p[0]>_?"left":"right",M=Math.abs(p[1]-w)/x<.3?"middle":p[1]>w?"top":"bottom";h&&h[y]&&h[y].textStyle&&(d=new l(h[y].textStyle,m,m.ecModel));var I=new r.Text({silent:!0});this.group.add(I),r.setTextStyle(I.style,d,{x:p[0],y:p[1],textFill:d.getTextColor()||e.get("axisLine.lineStyle.color"),text:n.formattedLabel,textAlign:S,textVerticalAlign:M})},this)},_splitLine:function(e,t,n,l){var c=e.getModel("splitLine").getModel("lineStyle"),d=c.get("color"),f=0;d=d instanceof Array?d:[d];for(var m=[],i=0;i<n.length;i++){var v=f++%d.length;m[v]=m[v]||[],m[v].push(new r.Line({shape:h(t,l,n[i].coord)}))}for(i=0;i<m.length;i++)this.group.add(r.mergePath(m[i],{style:o.defaults({stroke:d[i%d.length]},c.getLineStyle()),silent:!0,z:e.get("z")}))},_splitArea:function(e,t,n,l){if(n.length){var c=e.getModel("splitArea").getModel("areaStyle"),d=c.get("color"),h=0;d=d instanceof Array?d:[d];for(var f=[],m=Math.PI/180,v=-n[0].coord*m,y=Math.min(l[0],l[1]),x=Math.max(l[0],l[1]),_=e.get("clockwise"),i=1;i<n.length;i++){var w=h++%d.length;f[w]=f[w]||[],f[w].push(new r.Sector({shape:{cx:t.cx,cy:t.cy,r0:y,r:x,startAngle:v,endAngle:-n[i].coord*m,clockwise:_},silent:!0})),v=-n[i].coord*m}for(i=0;i<f.length;i++)this.group.add(r.mergePath(f[i],{style:o.defaults({fill:d[i%d.length]},c.getAreaStyle()),silent:!0}))}}});e.exports=v},function(e,t,n){n(520),n(771)},function(e,t,n){var o=n(0),r=n(55),l=n(481),c=n(482),d=["axisLine","axisTickLabel","axisName"],h=["splitLine","splitArea"],f=c.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,r=n.polar,c=r.getAngleAxis(),f=n.getTicksCoords(),m=c.getExtent()[0],v=n.getExtent(),y=function(e,t,n){return{position:[e.cx,e.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}(r,e,m),x=new l(e,y);o.each(d,x.add,x),this.group.add(x.getGroup()),o.each(h,function(t){e.get(t+".show")&&!n.scale.isBlank()&&this["_"+t](e,r,m,v,f)},this)}},_splitLine:function(e,t,n,l,c){var d=e.getModel("splitLine").getModel("lineStyle"),h=d.get("color"),f=0;h=h instanceof Array?h:[h];for(var m=[],i=0;i<c.length;i++){var v=f++%h.length;m[v]=m[v]||[],m[v].push(new r.Circle({shape:{cx:t.cx,cy:t.cy,r:c[i].coord},silent:!0}))}for(i=0;i<m.length;i++)this.group.add(r.mergePath(m[i],{style:o.defaults({stroke:h[i%h.length],fill:null},d.getLineStyle()),silent:!0}))},_splitArea:function(e,t,n,l,c){if(c.length){var d=e.getModel("splitArea").getModel("areaStyle"),h=d.get("color"),f=0;h=h instanceof Array?h:[h];for(var m=[],v=c[0].coord,i=1;i<c.length;i++){var y=f++%h.length;m[y]=m[y]||[],m[y].push(new r.Sector({shape:{cx:t.cx,cy:t.cy,r0:v,r:c[i].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),v=c[i].coord}for(i=0;i<m.length;i++)this.group.add(r.mergePath(m[i],{style:o.defaults({fill:h[i%h.length]},d.getAreaStyle()),silent:!0}))}}});e.exports=f},function(e,t,n){var o=n(40),r=n(512),l=n(55),c=n(499),d=n(58),h=n(481),f=n(482),m=r.extend({makeElOption:function(e,t,n,r,f){var m=n.axis;"angle"===m.dim&&(this.animationThreshold=Math.PI/18);var y,x=m.polar,_=x.getOtherAxis(m).getExtent();y=m["dataTo"+o.capitalFirst(m.dim)](t);var w=r.get("type");if(w&&"none"!==w){var S=c.buildElStyle(r),M=v[w](m,x,y,_,S);M.style=S,e.graphicKey=M.type,e.pointer=M}var I=function(e,t,n,o,r){var c=t.axis,f=c.dataToCoord(e),m=o.getAngleAxis().getExtent()[0];m=m/180*Math.PI;var v,y,x,_=o.getRadiusAxis().getExtent();if("radius"===c.dim){var w=d.create();d.rotate(w,w,m),d.translate(w,w,[o.cx,o.cy]),v=l.applyTransform([f,-r],w);var S=t.getModel("axisLabel").get("rotate")||0,M=h.innerTextLayout(m,S*Math.PI/180,-1);y=M.textAlign,x=M.textVerticalAlign}else{var I=_[1];v=o.coordToPoint([I+r,f]);var A=o.cx,T=o.cy;y=Math.abs(v[0]-A)/I<.3?"center":v[0]>A?"left":"right",x=Math.abs(v[1]-T)/I<.3?"middle":v[1]>T?"top":"bottom"}return{position:v,align:y,verticalAlign:x}}(t,n,0,x,r.get("label.margin"));c.buildLabelElOption(e,n,r,f,I)}});var v={line:function(e,t,n,o,r){return"angle"===e.dim?{type:"Line",shape:c.makeLineShape(t.coordToPoint([o[0],n]),t.coordToPoint([o[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,o,r){var l=Math.max(1,e.getBandWidth()),d=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:c.makeSectorShape(t.cx,t.cy,o[0],o[1],(-n-l/2)*d,(l/2-n)*d)}:{type:"Sector",shape:c.makeSectorShape(t.cx,t.cy,n-l/2,n+l/2,0,2*Math.PI)}}};f.registerAxisPointerClass("PolarAxisPointer",m);var y=m;e.exports=y},function(e,t,n){var o=n(31),r=n(0);function l(e,t){t.update="updateView",o.registerAction(t,function(t,n){var o={};return n.eachComponent({mainType:"geo",query:t},function(n){n[e](t.name);var l=n.coordinateSystem;r.each(l.regions,function(e){o[e.name]=n.isSelected(e.name)||!1})}),{selected:o,name:t.name}})}n(774),n(509),n(775),n(539),l("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),l("select",{type:"geoSelect",event:"geoselected"}),l("unSelect",{type:"geoUnSelect",event:"geounselected"})},function(e,t,n){var o=n(0),r=n(4),l=n(56),c=n(57),d=n(506),h=n(509),f=l.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(option){l.prototype.init.apply(this,arguments),r.defaultEmphasis(option,"label",["show"])},optionUpdated:function(){var option=this.option,e=this;option.regions=h.getFilledRegions(option.regions,option.map,option.nameMap),this._optionModelMap=o.reduce(option.regions||[],function(t,n){return n.name&&t.set(n.name,new c(n,e)),t},o.createHashMap()),this.updateSelectedMap(option.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(e){return this._optionModelMap.get(e)||new c(null,this,this.ecModel)},getFormattedLabel:function(e,t){var n=this.getRegionModel(e).get("label."+t+".formatter"),o={name:e};return"function"==typeof n?(o.status=t,n(o)):"string"==typeof n?n.replace("{a}",null!=e?e:""):void 0},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}});o.mixin(f,d);var m=f;e.exports=m},function(e,t,n){var o=n(537),r=n(31).extendComponentView({type:"geo",init:function(e,t){var n=new o(t,!0);this._mapDraw=n,this.group.add(n.group)},render:function(e,t,n,o){if(!o||"geoToggleSelect"!==o.type||o.from!==this.uid){var r=this._mapDraw;e.get("show")?r.draw(e,t,n,this,o):this._mapDraw.group.removeAll(),this.group.silent=e.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});e.exports=r},function(e,t,n){var o=n(31),r=n(777);n(778),n(780),n(781),n(782),n(783),o.registerPreprocessor(r)},function(e,t,n){var o=n(0),r=["rect","polygon","keep","clear"];e.exports=function(option,e){var t=option&&option.brush;if(o.isArray(t)||(t=t?[t]:[]),t.length){var n=[];o.each(t,function(e){var t=e.hasOwnProperty("toolbox")?e.toolbox:[];t instanceof Array&&(n=n.concat(t))});var l=option&&option.toolbox;o.isArray(l)&&(l=l[0]),l||(l={feature:{}},option.toolbox=[l]);var c,map,d=l.feature||(l.feature={}),h=d.brush||(d.brush={}),f=h.type||(h.type=[]);f.push.apply(f,n),c=f,map={},o.each(c,function(e){map[e]=1}),c.length=0,o.each(map,function(e,t){c.push(t)}),e&&!f.length&&f.push.apply(f,r)}}},function(e,t,n){var o=n(31),r=n(0),l=n(13),c=n(500),d=n(779),h=n(163),f=n(579),m=["inBrush","outOfBrush"],v="__ecBrushSelect",y="__ecInBrushSelectEvent",x=o.PRIORITY.VISUAL.BRUSH;function _(e,t){if(!e.isDisposed()){var n=e.getZr();n[y]=!0,e.dispatchAction({type:"brushSelect",batch:t}),n[y]=!1}}function w(e,t,data,n){for(var i=0,o=t.length;i<o;i++){var area=t[i];if(e[area.brushType](n,data,area.selectors,area))return!0}}function S(e){var t=e.brushSelector;if(r.isString(t)){var n=[];return r.each(d,function(e,o){n[o]=function(n,data,o,area){var r=data.getItemLayout(n);return e[t](r,o,area)}}),n}if(r.isFunction(t)){var o={};return r.each(d,function(e,n){o[n]=t}),o}return t}o.registerLayout(x,function(e,t,n){e.eachComponent({mainType:"brush"},function(t){n&&"takeGlobalCursor"===n.type&&t.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1}),(t.brushTargetManager=new f(t.option,e)).setInputRanges(t.areas,e)})}),o.registerVisual(x,function(e,t,n){var o,l,f=[];e.eachComponent({mainType:"brush"},function(t,n){var h={brushId:t.id,brushIndex:n,brushName:t.name,areas:r.clone(t.areas),selected:[]};f.push(h);var v=t.option,y=v.brushLink,x=[],_=[],I=[],A=0;n||(o=v.throttleType,l=v.throttleDelay);var T=r.map(t.areas,function(area){return function(area){var e=area.selectors={};return r.each(d[area.brushType],function(t,n){e[n]=function(n){return t(n,e,area)}}),area}(r.defaults({boundingRect:M[area.brushType](area)},area))}),D=c.createVisualMappings(t.option,m,function(e){e.mappingMethod="fixed"});function L(e){return"all"===y||x[e]}function C(e){return!!e.length}r.isArray(y)&&r.each(y,function(e){x[e]=1}),e.eachSeries(function(n,o){var l=I[o]=[];"parallel"===n.subType?function(e,t){var n=e.coordinateSystem;A|=n.hasAxisBrushed(),L(t)&&n.eachActiveState(e.getData(),function(e,t){"active"===e&&(_[t]=1)})}(n,o):function(n,o,l){var c=S(n);if(!c||function(e,t){var n=e.option.seriesIndex;return null!=n&&"all"!==n&&(r.isArray(n)?r.indexOf(n,t)<0:t!==n)}(t,o))return;if(r.each(T,function(area){c[area.brushType]&&t.brushTargetManager.controlSeries(area,n,e)&&l.push(area),A|=C(l)}),L(o)&&C(l)){var data=n.getData();data.each(function(e){w(c,l,data,e)&&(_[e]=1)})}}(n,o,l)}),e.eachSeries(function(e,t){var n={seriesId:e.id,seriesIndex:t,seriesName:e.name,dataIndex:[]};h.selected.push(n);var o=S(e),r=I[t],data=e.getData(),l=L(t)?function(e){return _[e]?(n.dataIndex.push(data.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(e){return w(o,r,data,e)?(n.dataIndex.push(data.getRawIndex(e)),"inBrush"):"outOfBrush"};(L(t)?A:C(r))&&c.applyVisual(m,D,data,l)})}),function(e,t,n,o,r){if(!r)return;var l=e.getZr();if(l[y])return;l[v]||(l[v]=_);h.createOrUpdate(l,v,n,t)(e,o)}(t,o,l,f,n)});var M={lineX:r.noop,lineY:r.noop,rect:function(area){return I(area.range)},polygon:function(area){for(var e,t=area.range,i=0,n=t.length;i<n;i++){e=e||[[1/0,-1/0],[1/0,-1/0]];var o=t[i];o[0]<e[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]<e[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&I(e)}};function I(e){return new l(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}},function(e,t,n){var o=n(280),r=n(13);function l(e){var t=["x","y"],n=["width","height"];return{point:function(t,n,area){if(t){var o=area.range;return c(t[e],o)}},rect:function(o,r,area){if(o){var l=area.range,d=[o[t[e]],o[t[e]]+o[n[e]]];return d[1]<d[0]&&d.reverse(),c(d[0],l)||c(d[1],l)||c(l[0],d)||c(l[1],d)}}}}function c(p,e){return e[0]<=p&&p<=e[1]}function d(e,t,n,o,r){for(var i=0,l=r[r.length-1];i<r.length;i++){var p=r[i];if(h(e,t,n,o,p[0],p[1],l[0],l[1]))return!0;l=p}}function h(e,t,n,o,r,l,c,d){var h,m=f(n-e,r-c,o-t,l-d);if((h=m)<=1e-6&&h>=-1e-6)return!1;var v=f(r-e,r-c,l-t,l-d)/m;if(v<0||v>1)return!1;var y=f(n-e,r-e,o-t,l-t)/m;return!(y<0||y>1)}function f(e,t,n,o){return e*o-t*n}var m={lineX:l(0),lineY:l(1),rect:{point:function(e,t,area){return e&&area.boundingRect.contain(e[0],e[1])},rect:function(e,t,area){return e&&area.boundingRect.intersect(e)}},polygon:{point:function(e,t,area){return e&&area.boundingRect.contain(e[0],e[1])&&o.contain(area.range,e[0],e[1])},rect:function(e,t,area){var n=area.range;if(!e||n.length<=1)return!1;var l=e.x,c=e.y,h=e.width,f=e.height,p=n[0];return!!(o.contain(n,l,c)||o.contain(n,l+h,c)||o.contain(n,l,c+f)||o.contain(n,l+h,c+f)||r.create(e).contain(p[0],p[1])||d(l,c,l+h,c,n)||d(l,c,l,c+f,n)||d(l+h,c,l+h,c+f,n)||d(l,c+f,l+h,c+f,n))||void 0}}};e.exports=m},function(e,t,n){n(12).__DEV__;var o=n(31),r=n(0),l=n(500),c=n(57),d=["#ddd"];function h(option,e){return r.merge({brushType:option.brushType,brushMode:option.brushMode,transformable:option.transformable,brushStyle:new c(option.brushStyle).getItemStyle(),removeOnClick:option.removeOnClick,z:option.z},e,!0)}var f=o.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(e,t){var n=this.option;!t&&l.replaceVisualOption(n,e,["inBrush","outOfBrush"]);var o=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:d},o.hasOwnProperty("liftZ")||(o.liftZ=5)},setAreas:function(e){e&&(this.areas=r.map(e,function(area){return h(this.option,area)},this))},setBrushOption:function(e){this.brushOption=h(this.option,e),this.brushType=this.brushOption.brushType}});e.exports=f},function(e,t,n){var o=n(31),r=n(0),l=n(519),c=o.extendComponentView({type:"brush",init:function(e,t){this.ecModel=e,this.api=t,this.model,(this._brushController=new l(t.getZr())).on("brush",r.bind(this._onBrush,this)).mount()},render:function(e){return this.model=e,d.apply(this,arguments)},updateTransform:d,updateView:d,dispose:function(){this._brushController.dispose()},_onBrush:function(e,t){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(e,this.ecModel),(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:r.clone(e),$from:n})}});function d(e,t,n,o){(!o||o.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(n)).enableBrush(e.brushOption).updateCovers(e.areas.slice())}e.exports=c},function(e,t,n){var o=n(31);o.registerAction({type:"brush",event:"brush"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(t){t.setAreas(e.areas)})}),o.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){})},function(e,t,n){var o=n(0),r=n(479),l=n(262).toolbox.brush;function c(e,t,n){this.model=e,this.ecModel=t,this.api=n,this._brushType,this._brushMode}c.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:o.clone(l.title)};var d=c.prototype;d.render=d.updateView=function(e,t,n){var r,l,c;t.eachComponent({mainType:"brush"},function(e){r=e.brushType,l=e.brushOption.brushMode||"single",c|=e.areas.length}),this._brushType=r,this._brushMode=l,o.each(e.get("type",!0),function(t){e.setIconStatus(t,("keep"===t?"multiple"===l:"clear"===t?c:t===r)?"emphasis":"normal")})},d.getIcons=function(){var e=this.model,t=e.get("icon",!0),n={};return o.each(e.get("type",!0),function(e){t[e]&&(n[e]=t[e])}),n},d.onclick=function(e,t,n){var o=this._brushType,r=this._brushMode;"clear"===n?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?o:o!==n&&n,brushMode:"keep"===n?"multiple"===r?"single":"multiple":r}})},r.register("brush",c);var h=c;e.exports=h},function(e,t,n){n(785),n(786),n(787)},function(e,t,n){var o=n(0),r=n(110),l=n(17),c=n(160);function d(e,t,n){this._model=e}function h(e,t,n,o){var r=n.calendarModel,l=n.seriesModel,c=r?r.coordinateSystem:l?l.coordinateSystem:null;return c===this?c[e](o):null}d.prototype={constructor:d,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(e){var t=(e=l.parseDate(e)).getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var o=e.getDate();o=o<10?"0"+o:o;var r=e.getDay();return{y:t,m:n,d:o,day:r=Math.abs((r+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+n+"-"+o,date:e}},getNextNDay:function(e,t){return 0===(t=t||0)?this.getDateInfo(e):((e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e))},update:function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,l=["width","height"],c=this._model.get("cellSize").slice(),d=this._model.getBoxLayoutParams(),h="horizontal"===this._orient?[n,7]:[7,n];o.each([0,1],function(e){v(c,e)&&(d[l[e]]=c[e]*h[e])});var f={width:t.getWidth(),height:t.getHeight()},m=this._rect=r.getLayoutRect(d,f);function v(e,t){return null!=e[t]&&"auto"!==e[t]}o.each([0,1],function(e){v(c,e)||(c[e]=m[l[e]]/h[e])}),this._sw=c[0],this._sh=c[1]},dataToPoint:function(data,e){o.isArray(data)&&(data=data[0]),null==e&&(e=!0);var t=this.getDateInfo(data),n=this._rangeInfo,r=t.formatedDate;if(e&&!(t.time>=n.start.time&&t.time<n.end.time+864e5))return[NaN,NaN];var l=t.day,c=this._getRangeInfo([n.start.time,r]).nthWeek;return"vertical"===this._orient?[this._rect.x+l*this._sw+this._sw/2,this._rect.y+c*this._sh+this._sh/2]:[this._rect.x+c*this._sw+this._sw/2,this._rect.y+l*this._sh+this._sh/2]},pointToData:function(e){var t=this.pointToDate(e);return t&&t.time},dataToRect:function(data,e){var t=this.dataToPoint(data,e);return{contentShape:{x:t[0]-(this._sw-this._lineWidth)/2,y:t[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:t,tl:[t[0]-this._sw/2,t[1]-this._sh/2],tr:[t[0]+this._sw/2,t[1]-this._sh/2],br:[t[0]+this._sw/2,t[1]+this._sh/2],bl:[t[0]-this._sw/2,t[1]+this._sh/2]}},pointToDate:function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,o=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,t-1,o):this._getDateByWeeksAndDay(t,n-1,o)},convertToPixel:o.curry(h,"dataToPoint"),convertFromPixel:o.curry(h,"pointToData"),_initRangeOption:function(){var e=this._model.get("range"),t=e;if(o.isArray(t)&&1===t.length&&(t=t[0]),/^\d{4}$/.test(t)&&(e=[t+"-01-01",t+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(t)){var n=this.getDateInfo(t),r=n.date;r.setMonth(r.getMonth()+1);var l=this.getNextNDay(r,-1);e=[n.formatedDate,l.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(t)&&(e=[t,t]);var c=this._getRangeInfo(e);return c.start.time>c.end.time&&e.reverse(),e},_getRangeInfo:function(e){var t;(e=[this.getDateInfo(e[0]),this.getDateInfo(e[1])])[0].time>e[1].time&&(t=!0,e.reverse());var n=Math.floor(e[1].time/864e5)-Math.floor(e[0].time/864e5)+1,o=new Date(e[0].time),r=o.getDate(),l=e[1].date.getDate();if(o.setDate(r+n-1),o.getDate()!==l)for(var c=o.getTime()-e[1].time>0?1:-1;o.getDate()!==l&&(o.getTime()-e[1].time)*c>0;)n-=c,o.setDate(r+n-1);var d=Math.floor((n+e[0].day+6)/7),h=t?1-d:d-1;return t&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:n,weeks:d,nthWeek:h,fweek:e[0].day,lweek:e[1].day}},_getDateByWeeksAndDay:function(e,t,n){var o=this._getRangeInfo(n);if(e>o.weeks||0===e&&t<o.fweek||e===o.weeks&&t>o.lweek)return!1;var r=7*(e-1)-o.fweek+t,l=new Date(o.start.time);return l.setDate(o.start.d+r),this.getDateInfo(l)}},d.dimensions=d.prototype.dimensions,d.getDimensionsInfo=d.prototype.getDimensionsInfo,d.create=function(e,t){var n=[];return e.eachComponent("calendar",function(o){var r=new d(o,e,t);n.push(r),o.coordinateSystem=r}),e.eachSeries(function(e){"calendar"===e.get("coordinateSystem")&&(e.coordinateSystem=n[e.get("calendarIndex")||0])}),n},c.register("calendar",d);var f=d;e.exports=f},function(e,t,n){var o=n(0),r=n(56),l=n(110),c=l.getLayoutParams,d=l.sizeCalculable,h=l.mergeLayoutParam,f=r.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(option,e,t,n){var o=c(option);f.superApply(this,"init",arguments),m(option,o)},mergeOption:function(option,e){f.superApply(this,"mergeOption",arguments),m(this.option,option)}});function m(e,t){var n=e.cellSize;o.isArray(n)?1===n.length&&(n[1]=n[0]):n=e.cellSize=[n,n];var r=o.map([0,1],function(e){return d(t,e)&&(n[e]="auto"),null!=n[e]&&"auto"!==n[e]});h(e,t,{type:"box",ignoreSize:r})}var v=f;e.exports=v},function(e,t,n){var o=n(31),r=n(0),l=n(55),c=n(40),d=n(17),h={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["","","","","","","","","","","",""]},f={EN:["S","M","T","W","T","F","S"],CN:["","","","","","",""]},m=o.extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(e,t,n){var o=this.group;o.removeAll();var r=e.coordinateSystem,l=r.getRangeInfo(),c=r.getOrient();this._renderDayRect(e,l,o),this._renderLines(e,l,c,o),this._renderYearText(e,l,c,o),this._renderMonthText(e,c,o),this._renderWeekText(e,l,c,o)},_renderDayRect:function(e,t,n){for(var o=e.coordinateSystem,r=e.getModel("itemStyle").getItemStyle(),c=o.getCellWidth(),d=o.getCellHeight(),i=t.start.time;i<=t.end.time;i=o.getNextNDay(i,1).time){var h=o.dataToRect([i],!1).tl,rect=new l.Rect({shape:{x:h[0],y:h[1],width:c,height:d},cursor:"default",style:r});n.add(rect)}},_renderLines:function(e,t,n,o){var r=this,l=e.coordinateSystem,c=e.getModel("splitLine.lineStyle").getLineStyle(),d=e.get("splitLine.show"),h=c.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=t.start,i=0;f.time<=t.end.time;i++){v(f.formatedDate),0===i&&(f=l.getDateInfo(t.start.y+"-"+t.start.m));var m=f.date;m.setMonth(m.getMonth()+1),f=l.getDateInfo(m)}function v(t){r._firstDayOfMonth.push(l.getDateInfo(t)),r._firstDayPoints.push(l.dataToRect([t],!1).tl);var h=r._getLinePointsOfOneWeek(e,t,n);r._tlpoints.push(h[0]),r._blpoints.push(h[h.length-1]),d&&r._drawSplitline(h,c,o)}v(l.getNextNDay(t.end.time,1).formatedDate),d&&this._drawSplitline(r._getEdgesPoints(r._tlpoints,h,n),c,o),d&&this._drawSplitline(r._getEdgesPoints(r._blpoints,h,n),c,o)},_getEdgesPoints:function(e,t,n){var o=[e[0].slice(),e[e.length-1].slice()],r="horizontal"===n?0:1;return o[0][r]=o[0][r]-t/2,o[1][r]=o[1][r]+t/2,o},_drawSplitline:function(e,t,n){var o=new l.Polyline({z2:20,shape:{points:e},style:t});n.add(o)},_getLinePointsOfOneWeek:function(e,t,n){var o=e.coordinateSystem;t=o.getDateInfo(t);for(var r=[],i=0;i<7;i++){var l=o.getNextNDay(t.time,i),c=o.dataToRect([l.time],!1);r[2*l.day]=c.tl,r[2*l.day+1]=c["horizontal"===n?"bl":"tr"]}return r},_formatterLabel:function(e,t){return"string"==typeof e&&e?c.formatTplSimple(e,t):"function"==typeof e?e(t):t.nameMap},_yearTextPositionControl:function(e,t,n,o,r){t=t.slice();var l=["center","bottom"];"bottom"===o?(t[1]+=r,l=["center","top"]):"left"===o?t[0]-=r:"right"===o?(t[0]+=r,l=["center","top"]):t[1]-=r;var c=0;return"left"!==o&&"right"!==o||(c=Math.PI/2),{rotation:c,position:t,style:{textAlign:l[0],textVerticalAlign:l[1]}}},_renderYearText:function(e,t,n,o){var r=e.getModel("yearLabel");if(r.get("show")){var c=r.get("margin"),d=r.get("position");d||(d="horizontal"!==n?"top":"left");var h=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],f=(h[0][0]+h[1][0])/2,m=(h[0][1]+h[1][1])/2,v="horizontal"===n?0:1,y={top:[f,h[v][1]],bottom:[f,h[1-v][1]],left:[h[1-v][0],m],right:[h[v][0],m]},x=t.start.y;+t.end.y>+t.start.y&&(x=x+"-"+t.end.y);var _=r.get("formatter"),w={start:t.start.y,end:t.end.y,nameMap:x},content=this._formatterLabel(_,w),S=new l.Text({z2:30});l.setTextStyle(S.style,r,{text:content}),S.attr(this._yearTextPositionControl(S,y[d],n,d,c)),o.add(S)}},_monthTextPositionControl:function(e,t,n,o,r){var l="left",c="top",d=e[0],h=e[1];return"horizontal"===n?(h+=r,t&&(l="center"),"start"===o&&(c="bottom")):(d+=r,t&&(c="middle"),"start"===o&&(l="right")),{x:d,y:h,textAlign:l,textVerticalAlign:c}},_renderMonthText:function(e,t,n){var o=e.getModel("monthLabel");if(o.get("show")){var c=o.get("nameMap"),d=o.get("margin"),f=o.get("position"),m=o.get("align"),v=[this._tlpoints,this._blpoints];r.isString(c)&&(c=h[c.toUpperCase()]||[]);var y="start"===f?0:1,x="horizontal"===t?0:1;d="start"===f?-d:d;for(var _="center"===m,i=0;i<v[y].length-1;i++){var w=v[y][i].slice(),S=this._firstDayOfMonth[i];if(_){var M=this._firstDayPoints[i];w[x]=(M[x]+v[0][i+1][x])/2}var I=o.get("formatter"),A=c[+S.m-1],T={yyyy:S.y,yy:(S.y+"").slice(2),MM:S.m,M:+S.m,nameMap:A},content=this._formatterLabel(I,T),D=new l.Text({z2:30});r.extend(l.setTextStyle(D.style,o,{text:content}),this._monthTextPositionControl(w,_,t,f,d)),n.add(D)}}},_weekTextPositionControl:function(e,t,n,o,r){var l="center",c="middle",d=e[0],h=e[1],f="start"===n;return"horizontal"===t?(d=d+o+(f?1:-1)*r[0]/2,l=f?"right":"left"):(h=h+o+(f?1:-1)*r[1]/2,c=f?"bottom":"top"),{x:d,y:h,textAlign:l,textVerticalAlign:c}},_renderWeekText:function(e,t,n,o){var c=e.getModel("dayLabel");if(c.get("show")){var h=e.coordinateSystem,m=c.get("position"),v=c.get("nameMap"),y=c.get("margin"),x=h.getFirstDayOfWeek();r.isString(v)&&(v=f[v.toUpperCase()]||[]);var _=h.getNextNDay(t.end.time,7-t.lweek).time,w=[h.getCellWidth(),h.getCellHeight()];y=d.parsePercent(y,w["horizontal"===n?0:1]),"start"===m&&(_=h.getNextNDay(t.start.time,-(7+t.fweek)).time,y=-y);for(var i=0;i<7;i++){var S,M=h.getNextNDay(_,i),I=h.dataToRect([M.time],!1).center;S=Math.abs((i+x)%7);var A=new l.Text({z2:30});r.extend(l.setTextStyle(A.style,c,{text:v[S]}),this._weekTextPositionControl(I,n,m,y,w)),o.add(A)}}}});e.exports=m},function(e,t,n){n(580),n(494),n(495),n(790),n(791),n(792),n(793),n(581),n(582)},function(e,t,n){var o=n(0),r=n(17),l=n(521),c=o.each,d=r.asc,h=function(e,t,n,o){this._dimName=e,this._axisIndex=t,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=o,this._dataZoomModel=n};function f(e,t){var n=e.getAxisModel(),o=e._percentWindow,l=e._valueWindow;if(o){var c=r.getPixelPrecision(l,[0,500]);c=Math.min(c,20);var d=t||0===o[0]&&100===o[1];n.setRange(d?null:+l[0].toFixed(c),d?null:+l[1].toFixed(c))}}h.prototype={constructor:h,hostedBy:function(e){return this._dataZoomModel===e},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var e=[],t=this.ecModel;return t.eachSeries(function(n){if(l.isCoordSupported(n.get("coordinateSystem"))){var o=this._dimName,r=t.queryComponents({mainType:o+"Axis",index:n.get(o+"AxisIndex"),id:n.get(o+"AxisId")})[0];this._axisIndex===(r&&r.componentIndex)&&e.push(n)}},this),e},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var e,t,n,o=this._dimName,r=this.ecModel,l=this.getAxisModel();return"x"===o||"y"===o?(t="gridIndex",e="x"===o?"y":"x"):(t="polarIndex",e="angle"===o?"radius":"angle"),r.eachComponent(e+"Axis",function(e){(e.get(t)||0)===(l.get(t)||0)&&(n=e)}),n},getMinMaxSpan:function(){return o.clone(this._minMaxSpan)},calculateDataWindow:function(e){var t=this._dataExtent,n=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),l=[0,100],h=[e.start,e.end],f=[];return c(["startValue","endValue"],function(t){f.push(null!=e[t]?n.parse(e[t]):null)}),c([0,1],function(e){var c=f[e],d=h[e];"percent"===o[e]?(null==d&&(d=l[e]),c=n.parse(r.linearMap(d,l,t,!0))):d=r.linearMap(c,t,l,!0),f[e]=c,h[e]=d}),{valueWindow:d(f),percentWindow:d(h)}},reset:function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function(e,t,n){var o=[1/0,-1/0];c(n,function(e){var n=e.getData();n&&c(n.mapDimension(t,!0),function(e){var t=n.getApproximateExtent(e);t[0]<o[0]&&(o[0]=t[0]),t[1]>o[1]&&(o[1]=t[1])})}),o[1]<o[0]&&(o=[NaN,NaN]);return function(e,t){var n=e.getAxisModel(),o=n.getMin(!0),r="category"===n.get("type"),l=r&&n.getCategories().length;null!=o&&"dataMin"!==o&&"function"!=typeof o?t[0]=o:r&&(t[0]=l>0?0:NaN);var c=n.getMax(!0);null!=c&&"dataMax"!==c&&"function"!=typeof c?t[1]=c:r&&(t[1]=l>0?l-1:NaN),n.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0))}(e,o),o}(this,this._dimName,t);var n=this.calculateDataWindow(e.option);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,function(e){var t=e._minMaxSpan={},n=e._dataZoomModel;c(["min","max"],function(o){t[o+"Span"]=n.get(o+"Span");var l=n.get(o+"ValueSpan");if(null!=l&&(t[o+"ValueSpan"]=l,null!=(l=e.getAxisModel().axis.scale.parse(l)))){var c=e._dataExtent;t[o+"Span"]=r.linearMap(c[0]+l,c,[0,100],!0)}})}(this),f(this)}},restore:function(e){e===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,f(this,!0))},filterData:function(e,t){if(e===this._dataZoomModel){var n=this._dimName,o=this.getTargetSeriesModels(),r=e.get("filterMode"),l=this._valueWindow;"none"!==r&&c(o,function(e){var t=e.getData(),o=t.mapDimension(n,!0);o.length&&("weakFilter"===r?t.filterSelf(function(e){for(var n,r,c,i=0;i<o.length;i++){var d=t.get(o[i],e),h=!isNaN(d),f=d<l[0],m=d>l[1];if(h&&!f&&!m)return!0;h&&(c=!0),f&&(n=!0),m&&(r=!0)}return c&&n&&r}):c(o,function(n){if("empty"===r)e.setData(t.map(n,function(e){return function(e){return e>=l[0]&&e<=l[1]}(e)?e:NaN}));else{var o={};o[n]=l,t.selectRange(o)}}),c(o,function(e){t.setApproximateExtent(l,e)}))})}}};var m=h;e.exports=m},function(e,t,n){var o=n(494).extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});e.exports=o},function(e,t,n){var o=n(0),r=n(74),l=n(55),c=n(163),d=n(495),h=n(17),f=n(110),m=n(489),v=l.Rect,y=h.linearMap,x=h.asc,_=o.bind,w=o.each,S="horizontal",M=5,I=["line","bar","candlestick","scatter"],A=d.extend({type:"dataZoom.slider",init:function(e,t){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=t},render:function(e,t,n,o){A.superApply(this,"render",arguments),c.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=e.get("orient"),!1!==this.dataZoomModel.get("show")?(o&&"dataZoom"===o.type&&o.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){A.superApply(this,"remove",arguments),c.clear(this,"_dispatchZoomAction")},dispose:function(){A.superApply(this,"dispose",arguments),c.clear(this,"_dispatchZoomAction")},_buildView:function(){var e=this.group;e.removeAll(),this._resetLocation(),this._resetInterval();var t=this._displayables.barGroup=new l.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},_resetLocation:function(){var e=this.dataZoomModel,t=this.api,n=this._findCoordRect(),r={width:t.getWidth(),height:t.getHeight()},l=this._orient===S?{right:r.width-n.x-n.width,top:r.height-30-7,width:n.width,height:30}:{right:7,top:n.y,width:30,height:n.height},c=f.getLayoutParams(e.option);o.each(["right","top","width","height"],function(e){"ph"===c[e]&&(c[e]=l[e])});var d=f.getLayoutRect(c,r,e.padding);this._location={x:d.x,y:d.y},this._size=[d.width,d.height],"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var e=this.group,t=this._location,n=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),r=o&&o.get("inverse"),l=this._displayables.barGroup,c=(this._dataShadowInfo||{}).otherAxisInverse;l.attr(n!==S||r?n===S&&r?{scale:c?[-1,1]:[-1,-1]}:"vertical"!==n||r?{scale:c?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:c?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:c?[1,1]:[1,-1]});var rect=e.getBoundingRect([l]);e.attr("position",[t.x-rect.x,t.y-rect.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var e=this.dataZoomModel,t=this._size,n=this._displayables.barGroup;n.add(new v({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40})),n.add(new v({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:o.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(e){var t=this._size,n=e.series,data=n.getRawData(),r=n.getShadowDim?n.getShadowDim():e.otherDim;if(null!=r){var c=data.getDataExtent(r),d=.3*(c[1]-c[0]);c=[c[0]-d,c[1]+d];var h,f=[0,t[1]],m=[0,t[0]],v=[[t[0],0],[0,0]],x=[],_=m[1]/(data.count()-1),w=0,S=Math.round(data.count()/t[0]);data.each([r],function(e,t){if(S>0&&t%S)w+=_;else{var n=null==e||isNaN(e)||""===e,o=n?0:y(e,c,f,!0);n&&!h&&t?(v.push([v[v.length-1][0],0]),x.push([x[x.length-1][0],0])):!n&&h&&(v.push([w,0]),x.push([w,0])),v.push([w,o]),x.push([w,o]),w+=_,h=n}});var M=this.dataZoomModel;this._displayables.barGroup.add(new l.Polygon({shape:{points:v},style:o.defaults({fill:M.get("dataBackgroundColor")},M.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new l.Polyline({shape:{points:x},style:M.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(!1!==t){var n,r=this.ecModel;return e.eachTargetAxis(function(l,c){var d=e.getAxisProxy(l.name,c).getTargetSeriesModels();o.each(d,function(e){if(!(n||!0!==t&&o.indexOf(I,e.get("type"))<0)){var d,h=r.getComponent(l.axis,c).axis,f={x:"y",y:"x",radius:"angle",angle:"radius"}[l.name],m=e.coordinateSystem;null!=f&&m.getOtherAxis&&(d=m.getOtherAxis(h).inverse),f=e.getData().mapDimension(f),n={thisAxis:h,series:e,thisDim:l.name,otherDim:f,otherAxisInverse:d}}},this)},this),n}},_renderHandle:function(){var e=this._displayables,t=e.handles=[],n=e.handleLabels=[],o=this._displayables.barGroup,c=this._size,d=this.dataZoomModel;o.add(e.filler=new v({draggable:!0,cursor:T(this._orient),drift:_(this._onDragMove,this,"all"),onmousemove:function(e){r.stop(e.event)},ondragstart:_(this._showDataInfo,this,!0),ondragend:_(this._onDragEnd,this),onmouseover:_(this._showDataInfo,this,!0),onmouseout:_(this._showDataInfo,this,!1),style:{fill:d.get("fillerColor"),textPosition:"inside"}})),o.add(new v(l.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:c[0],height:c[1]},style:{stroke:d.get("dataBackgroundColor")||d.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}}))),w([0,1],function(e){var path=l.createIcon(d.get("handleIcon"),{cursor:T(this._orient),draggable:!0,drift:_(this._onDragMove,this,e),onmousemove:function(e){r.stop(e.event)},ondragend:_(this._onDragEnd,this),onmouseover:_(this._showDataInfo,this,!0),onmouseout:_(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),c=path.getBoundingRect();this._handleHeight=h.parsePercent(d.get("handleSize"),this._size[1]),this._handleWidth=c.width/c.height*this._handleHeight,path.setStyle(d.getModel("handleStyle").getItemStyle());var f=d.get("handleColor");null!=f&&(path.style.fill=f),o.add(t[e]=path);var m=d.textStyleModel;this.group.add(n[e]=new l.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:m.getTextColor(),textFont:m.getFont()},z2:10}))},this)},_resetInterval:function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[y(e[0],[0,100],t,!0),y(e[1],[0,100],t,!0)]},_updateInterval:function(e,t){var n=this.dataZoomModel,o=this._handleEnds,r=this._getViewExtent(),l=n.findRepresentativeAxisProxy().getMinMaxSpan(),c=[0,100];m(t,o,r,n.get("zoomLock")?"all":e,null!=l.minSpan?y(l.minSpan,c,r,!0):null,null!=l.maxSpan?y(l.maxSpan,c,r,!0):null);var d=this._range,h=this._range=x([y(o[0],r,c,!0),y(o[1],r,c,!0)]);return!d||d[0]!==h[0]||d[1]!==h[1]},_updateView:function(e){var t=this._displayables,n=this._handleEnds,o=x(n.slice()),r=this._size;w([0,1],function(e){var o=t.handles[e],l=this._handleHeight;o.attr({scale:[l/2,l/2],position:[n[e],r[1]/2-l/2]})},this),t.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:r[1]}),this._updateDataInfo(e)},_updateDataInfo:function(e){var t=this.dataZoomModel,n=this._displayables,o=n.handleLabels,r=this._orient,c=["",""];if(t.get("showDetail")){var d=t.findRepresentativeAxisProxy();if(d){var h=d.getAxisModel().axis,f=this._range,m=e?d.calculateDataWindow({start:f[0],end:f[1]}).valueWindow:d.getDataValueWindow();c=[this._formatLabel(m[0],h),this._formatLabel(m[1],h)]}}var v=x(this._handleEnds.slice());function y(e){var t=l.getTransform(n.handles[e].parent,this.group),d=l.transformDirection(0===e?"right":"left",t),h=this._handleWidth/2+M,f=l.applyTransform([v[e]+(0===e?-h:h),this._size[1]/2],t);o[e].setStyle({x:f[0],y:f[1],textVerticalAlign:r===S?"middle":d,textAlign:r===S?d:"center",text:c[e]})}y.call(this,0),y.call(this,1)},_formatLabel:function(e,t){var n=this.dataZoomModel,r=n.get("labelFormatter"),l=n.get("labelPrecision");null!=l&&"auto"!==l||(l=t.getPixelPrecision());var c=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel(Math.round(e)):e.toFixed(Math.min(l,20));return o.isFunction(r)?r(e,c):o.isString(r)?r.replace("{value}",c):c},_showDataInfo:function(e){e=this._dragging||e;var t=this._displayables.handleLabels;t[0].attr("invisible",!e),t[1].attr("invisible",!e)},_onDragMove:function(e,t,n){this._dragging=!0;var o=this._displayables.barGroup.getLocalTransform(),r=l.applyTransform([t,n],o,!0),c=this._updateInterval(e,r[0]),d=this.dataZoomModel.get("realtime");this._updateView(!d),c&&d&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(e){var t=this._size,n=this._displayables.barGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(n[0]<0||n[0]>t[0]||n[1]<0||n[1]>t[1])){var o=this._handleEnds,r=(o[0]+o[1])/2,l=this._updateInterval("all",n[0]-r);this._updateView(),l&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:e[0],end:e[1]})},_findCoordRect:function(){var rect;if(w(this.getTargetCoordInfo(),function(e){if(!rect&&e.length){var t=e[0].model.coordinateSystem;rect=t.getRect&&t.getRect()}}),!rect){var e=this.api.getWidth(),t=this.api.getHeight();rect={x:.2*e,y:.2*t,width:.6*e,height:.6*t}}return rect}});function T(e){return"vertical"===e?"ns-resize":"ew-resize"}var D=A;e.exports=D},function(e,t,n){var o=n(494).extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});e.exports=o},function(e,t,n){var o=n(0),r=n(495),l=n(489),c=n(794),d=o.bind,h=r.extend({type:"dataZoom.inside",init:function(e,t){this._range},render:function(e,t,n,r){h.superApply(this,"render",arguments),this._range=e.getPercentRange(),o.each(this.getTargetCoordInfo(),function(t,r){var l=o.map(t,function(e){return c.generateCoordId(e.model)});o.each(t,function(t){var h=t.model,m={};o.each(["pan","zoom","scrollMove"],function(e){m[e]=d(f[e],this,t,r)},this),c.register(n,{coordId:c.generateCoordId(h),allCoordIds:l,containsPoint:function(e,t,n){return h.coordinateSystem.containPoint([t,n])},dataZoomId:e.id,dataZoomModel:e,getRange:m})},this)},this)},dispose:function(){c.unregister(this.api,this.dataZoomModel.id),h.superApply(this,"dispose",arguments),this._range=null}}),f={zoom:function(e,t,n,o){var r=this._range,c=r.slice(),d=e.axisModels[0];if(d){var h=v[t](null,[o.originX,o.originY],d,n,e),f=(h.signal>0?h.pixelStart+h.pixelLength-h.pixel:h.pixel-h.pixelStart)/h.pixelLength*(c[1]-c[0])+c[0],m=Math.max(1/o.scale,0);c[0]=(c[0]-f)*m+f,c[1]=(c[1]-f)*m+f;var y=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return l(0,c,[0,100],0,y.minSpan,y.maxSpan),this._range=c,r[0]!==c[0]||r[1]!==c[1]?c:void 0}},pan:m(function(e,t,n,o,r,l){var c=v[o]([l.oldX,l.oldY],[l.newX,l.newY],t,r,n);return c.signal*(e[1]-e[0])*c.pixel/c.pixelLength}),scrollMove:m(function(e,t,n,o,r,l){return v[o]([0,0],[l.scrollDelta,l.scrollDelta],t,r,n).signal*(e[1]-e[0])*l.scrollDelta})};function m(e){return function(t,n,o,r){var c=this._range,d=c.slice(),h=t.axisModels[0];if(h){var f=e(d,h,t,n,o,r);return l(f,d,[0,100],"all"),this._range=d,c[0]!==d[0]||c[1]!==d[1]?d:void 0}}}var v={grid:function(e,t,n,o,r){var l=n.axis,c={},rect=r.model.coordinateSystem.getRect();return e=e||[0,0],"x"===l.dim?(c.pixel=t[0]-e[0],c.pixelLength=rect.width,c.pixelStart=rect.x,c.signal=l.inverse?1:-1):(c.pixel=t[1]-e[1],c.pixelLength=rect.height,c.pixelStart=rect.y,c.signal=l.inverse?-1:1),c},polar:function(e,t,n,o,r){var l=n.axis,c={},d=r.model.coordinateSystem,h=d.getRadiusAxis().getExtent(),f=d.getAngleAxis().getExtent();return e=e?d.pointToCoord(e):[0,0],t=d.pointToCoord(t),"radiusAxis"===n.mainType?(c.pixel=t[0]-e[0],c.pixelLength=h[1]-h[0],c.pixelStart=h[0],c.signal=l.inverse?1:-1):(c.pixel=t[1]-e[1],c.pixelLength=f[1]-f[0],c.pixelStart=f[0],c.signal=l.inverse?-1:1),c},singleAxis:function(e,t,n,o,r){var l=n.axis,rect=r.model.coordinateSystem.getRect(),c={};return e=e||[0,0],"horizontal"===l.orient?(c.pixel=t[0]-e[0],c.pixelLength=rect.width,c.pixelStart=rect.x,c.signal=l.inverse?1:-1):(c.pixel=t[1]-e[1],c.pixelLength=rect.height,c.pixelStart=rect.y,c.signal=l.inverse?-1:1),c}},y=h;e.exports=y},function(e,t,n){var o=n(0),r=n(487),l=n(163),c="\0_ec_dataZoom_roams";function d(e){var t=e.getZr();return t[c]||(t[c]={})}function h(e){o.each(e,function(t,n){t.count||(t.controller.dispose(),delete e[n])})}function f(e,t){e.dispatchAction({type:"dataZoom",batch:t})}t.register=function(e,t){var n=d(e),c=t.dataZoomId,m=t.coordId;o.each(n,function(e,n){var r=e.dataZoomInfos;r[c]&&o.indexOf(t.allCoordIds,m)<0&&(delete r[c],e.count--)}),h(n);var v=n[m];v||((v=n[m]={coordId:m,dataZoomInfos:{},count:0}).controller=function(e,t){var n=new r(e.getZr());return o.each(["pan","zoom","scrollMove"],function(e){n.on(e,function(n){var r=[];o.each(t.dataZoomInfos,function(o){if(n.isAvailableBehavior(o.dataZoomModel.option)){var l=(o.getRange||{})[e],c=l&&l(t.controller,n);!o.dataZoomModel.get("disabled",!0)&&c&&r.push({dataZoomId:o.dataZoomId,start:c[0],end:c[1]})}}),r.length&&t.dispatchAction(r)})}),n}(e,v),v.dispatchAction=o.curry(f,e)),!v.dataZoomInfos[c]&&v.count++,v.dataZoomInfos[c]=t;var y,x,_,w,S=(y=v.dataZoomInfos,_={type_true:2,type_move:1,type_false:0,type_undefined:-1},w=!0,o.each(y,function(e){var t=e.dataZoomModel,n=!t.get("disabled",!0)&&(!t.get("zoomLock",!0)||"move");_["type_"+n]>_["type_"+x]&&(x=n),w&=t.get("preventDefaultMouseMove",!0)}),{controlType:x,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!w}});v.controller.enable(S.controlType,S.opt),v.controller.setPointerChecker(t.containsPoint),l.createOrUpdate(v,"dispatchAction",t.dataZoomModel.get("throttle",!0),"fixRate")},t.unregister=function(e,t){var n=d(e);o.each(n,function(e){e.controller.dispose();var n=e.dataZoomInfos;n[t]&&(delete n[t],e.count--)}),h(n)},t.generateCoordId=function(e){return e.type+"\0_"+e.id}},function(e,t,n){var o=n(31);n(796),n(797),o.registerPreprocessor(function(e){e.markPoint=e.markPoint||{}})},function(e,t,n){var o=n(522).extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});e.exports=o},function(e,t,n){var o=n(0),r=n(490),l=n(17),c=n(159),d=n(523);function h(e,t,n){var o=t.coordinateSystem;e.each(function(r){var c,d=e.getItemModel(r),h=l.parsePercent(d.get("x"),n.getWidth()),f=l.parsePercent(d.get("y"),n.getHeight());if(isNaN(h)||isNaN(f)){if(t.getMarkerPosition)c=t.getMarkerPosition(e.getValues(e.dimensions,r));else if(o){var m=e.get(o.dimensions[0],r),v=e.get(o.dimensions[1],r);c=o.dataToPoint([m,v])}}else c=[h,f];isNaN(h)||(c[0]=h),isNaN(f)||(c[1]=f),e.setItemLayout(r,c)})}var f=n(524).extend({type:"markPoint",updateTransform:function(e,t,n){t.eachSeries(function(e){var t=e.markPointModel;t&&(h(t.getData(),e,n),this.markerGroupMap.get(e.id).updateLayout(t))},this)},renderSeries:function(e,t,n,l){var f=e.coordinateSystem,m=e.id,v=e.getData(),y=this.markerGroupMap,x=y.get(m)||y.set(m,new r),_=function(e,t,n){var r;r=e?o.map(e&&e.dimensions,function(e){var n=t.getData().getDimensionInfo(t.getData().mapDimension(e))||{};return o.defaults({name:e},n)}):[{name:"value",type:"float"}];var l=new c(r,n),h=o.map(n.get("data"),o.curry(d.dataTransform,t));e&&(h=o.filter(h,o.curry(d.dataFilter,e)));return l.initData(h,null,e?d.dimValueGetter:function(e){return e.value}),l}(f,e,t);t.setData(_),h(t.getData(),e,l),_.each(function(e){var n=_.getItemModel(e),o=n.getShallow("symbolSize");"function"==typeof o&&(o=o(t.getRawValue(e),t.getDataParams(e))),_.setItemVisual(e,{symbolSize:o,color:n.get("itemStyle.color")||v.getVisual("color"),symbol:n.getShallow("symbol")})}),x.updateData(_),this.group.add(x.group),_.eachItemGraphicEl(function(e){e.traverse(function(e){e.dataModel=t})}),x.__keep=!0,x.group.silent=t.get("silent")||e.get("silent")}});e.exports=f},function(e,t,n){var o=n(31);n(799),n(800),o.registerPreprocessor(function(e){e.markLine=e.markLine||{}})},function(e,t,n){var o=n(522).extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});e.exports=o},function(e,t,n){var o=n(0),r=n(159),l=n(17),c=n(523),d=n(517),h=n(524),f=function(e,t,n,r){var data=e.getData(),l=r.type;if(!o.isArray(r)&&("min"===l||"max"===l||"average"===l||"median"===l||null!=r.xAxis||null!=r.yAxis)){var d,h;if(null!=r.yAxis||null!=r.xAxis)d=null!=r.yAxis?"y":"x",t.getAxis(d),h=o.retrieve(r.yAxis,r.xAxis);else{var f=c.getAxisInfo(r,data,t,e);d=f.valueDataDim,f.valueAxis,h=c.numCalculate(data,d,l)}var m="x"===d?0:1,v=1-m,y=o.clone(r),x={};y.type=null,y.coord=[],x.coord=[],y.coord[v]=-1/0,x.coord[v]=1/0;var _=n.get("precision");_>=0&&"number"==typeof h&&(h=+h.toFixed(Math.min(_,20))),y.coord[m]=x.coord[m]=h,r=[y,x,{type:l,valueIndex:r.valueIndex,value:h}]}return(r=[c.dataTransform(e,r[0]),c.dataTransform(e,r[1]),o.extend({},r[2])])[2].type=r[2].type||"",o.merge(r[2],r[0]),o.merge(r[2],r[1]),r};function m(e){return!isNaN(e)&&!isFinite(e)}function v(e,t,n,o){var r=1-e,l=o.dimensions[e];return m(t[r])&&m(n[r])&&t[e]===n[e]&&o.getAxis(l).containData(t[e])}function y(e,t){if("cartesian2d"===e.type){var n=t[0].coord,o=t[1].coord;if(n&&o&&(v(1,n,o,e)||v(0,n,o,e)))return!0}return c.dataFilter(e,t[0])&&c.dataFilter(e,t[1])}function x(data,e,t,n,o){var r,c=n.coordinateSystem,d=data.getItemModel(e),h=l.parsePercent(d.get("x"),o.getWidth()),f=l.parsePercent(d.get("y"),o.getHeight());if(isNaN(h)||isNaN(f)){if(n.getMarkerPosition)r=n.getMarkerPosition(data.getValues(data.dimensions,e));else{var v=c.dimensions,y=data.get(v[0],e),x=data.get(v[1],e);r=c.dataToPoint([y,x])}if("cartesian2d"===c.type){var _=c.getAxis("x"),w=c.getAxis("y");v=c.dimensions;m(data.get(v[0],e))?r[0]=_.toGlobalCoord(_.getExtent()[t?0:1]):m(data.get(v[1],e))&&(r[1]=w.toGlobalCoord(w.getExtent()[t?0:1]))}isNaN(h)||(r[0]=h),isNaN(f)||(r[1]=f)}else r=[h,f];data.setItemLayout(e,r)}var _=h.extend({type:"markLine",updateTransform:function(e,t,n){t.eachSeries(function(e){var t=e.markLineModel;if(t){var o=t.getData(),r=t.__from,l=t.__to;r.each(function(t){x(r,t,!0,e,n),x(l,t,!1,e,n)}),o.each(function(e){o.setItemLayout(e,[r.getItemLayout(e),l.getItemLayout(e)])}),this.markerGroupMap.get(e.id).updateLayout()}},this)},renderSeries:function(e,t,n,l){var h=e.coordinateSystem,m=e.id,v=e.getData(),_=this.markerGroupMap,w=_.get(m)||_.set(m,new d);this.group.add(w.group);var S=function(e,t,n){var l;l=e?o.map(e&&e.dimensions,function(e){var n=t.getData().getDimensionInfo(t.getData().mapDimension(e))||{};return o.defaults({name:e},n)}):[{name:"value",type:"float"}];var d=new r(l,n),h=new r(l,n),m=new r([],n),v=o.map(n.get("data"),o.curry(f,t,e,n));e&&(v=o.filter(v,o.curry(y,e)));var x=e?c.dimValueGetter:function(e){return e.value};return d.initData(o.map(v,function(e){return e[0]}),null,x),h.initData(o.map(v,function(e){return e[1]}),null,x),m.initData(o.map(v,function(e){return e[2]})),m.hasItemOption=!0,{from:d,to:h,line:m}}(h,e,t),M=S.from,I=S.to,A=S.line;t.__from=M,t.__to=I,t.setData(A);var T=t.get("symbol"),D=t.get("symbolSize");function L(data,t,n){var o=data.getItemModel(t);x(data,t,n,e,l),data.setItemVisual(t,{symbolSize:o.get("symbolSize")||D[n?0:1],symbol:o.get("symbol",!0)||T[n?0:1],color:o.get("itemStyle.color")||v.getVisual("color")})}o.isArray(T)||(T=[T,T]),"number"==typeof D&&(D=[D,D]),S.from.each(function(e){L(M,e,!0),L(I,e,!1)}),A.each(function(e){var t=A.getItemModel(e).get("lineStyle.color");A.setItemVisual(e,{color:t||M.getItemVisual(e,"color")}),A.setItemLayout(e,[M.getItemLayout(e),I.getItemLayout(e)]),A.setItemVisual(e,{fromSymbolSize:M.getItemVisual(e,"symbolSize"),fromSymbol:M.getItemVisual(e,"symbol"),toSymbolSize:I.getItemVisual(e,"symbolSize"),toSymbol:I.getItemVisual(e,"symbol")})}),w.updateData(A),S.line.eachItemGraphicEl(function(e,n){e.traverse(function(e){e.dataModel=t})}),w.__keep=!0,w.group.silent=t.get("silent")||e.get("silent")}});e.exports=_},function(e,t,n){var o=n(31);n(802),n(803),o.registerPreprocessor(function(e){e.markArea=e.markArea||{}})},function(e,t,n){var o=n(522).extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});e.exports=o},function(e,t,n){var o=n(0),r=n(75),l=n(159),c=n(17),d=n(55),h=n(523),f=n(524),m=function(e,t,n,r){var l=h.dataTransform(e,r[0]),c=h.dataTransform(e,r[1]),d=o.retrieve,f=l.coord,m=c.coord;f[0]=d(f[0],-1/0),f[1]=d(f[1],-1/0),m[0]=d(m[0],1/0),m[1]=d(m[1],1/0);var v=o.mergeAll([{},l,c]);return v.coord=[l.coord,c.coord],v.x0=l.x,v.y0=l.y,v.x1=c.x,v.y1=c.y,v};function v(e){return!isNaN(e)&&!isFinite(e)}function y(e,t,n,o){var r=1-e;return v(t[r])&&v(n[r])}function x(e,t){var n=t.coord[0],o=t.coord[1];return!("cartesian2d"!==e.type||!n||!o||!y(1,n,o)&&!y(0,n,o))||(h.dataFilter(e,{coord:n,x:t.x0,y:t.y0})||h.dataFilter(e,{coord:o,x:t.x1,y:t.y1}))}function _(data,e,t,n,o){var r,l=n.coordinateSystem,d=data.getItemModel(e),h=c.parsePercent(d.get(t[0]),o.getWidth()),f=c.parsePercent(d.get(t[1]),o.getHeight());if(isNaN(h)||isNaN(f)){if(n.getMarkerPosition)r=n.getMarkerPosition(data.getValues(t,e));else{var m=[_=data.get(t[0],e),w=data.get(t[1],e)];l.clampData&&l.clampData(m,m),r=l.dataToPoint(m,!0)}if("cartesian2d"===l.type){var y=l.getAxis("x"),x=l.getAxis("y"),_=data.get(t[0],e),w=data.get(t[1],e);v(_)?r[0]=y.toGlobalCoord(y.getExtent()["x0"===t[0]?0:1]):v(w)&&(r[1]=x.toGlobalCoord(x.getExtent()["y0"===t[1]?0:1]))}isNaN(h)||(r[0]=h),isNaN(f)||(r[1]=f)}else r=[h,f];return r}var w=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];f.extend({type:"markArea",updateTransform:function(e,t,n){t.eachSeries(function(e){var t=e.markAreaModel;if(t){var r=t.getData();r.each(function(t){var l=o.map(w,function(o){return _(r,t,o,e,n)});r.setItemLayout(t,l),r.getItemGraphicEl(t).setShape("points",l)})}},this)},renderSeries:function(e,t,n,c){var h=e.coordinateSystem,f=e.id,v=e.getData(),y=this.markerGroupMap,S=y.get(f)||y.set(f,{group:new d.Group});this.group.add(S.group),S.__keep=!0;var M=function(e,t,n){var r,c;e?(r=o.map(e&&e.dimensions,function(e){var data=t.getData(),n=data.getDimensionInfo(data.mapDimension(e))||{};return o.defaults({name:e},n)}),c=new l(o.map(["x0","y0","x1","y1"],function(e,t){return{name:e,type:r[t%2].type}}),n)):c=new l(r=[{name:"value",type:"float"}],n);var d=o.map(n.get("data"),o.curry(m,t,e,n));e&&(d=o.filter(d,o.curry(x,e)));var h=e?function(e,t,n,o){return e.coord[Math.floor(o/2)][o%2]}:function(e){return e.value};return c.initData(d,null,h),c.hasItemOption=!0,c}(h,e,t);t.setData(M),M.each(function(t){M.setItemLayout(t,o.map(w,function(n){return _(M,t,n,e,c)})),M.setItemVisual(t,{color:v.getVisual("color")})}),M.diff(S.__data).add(function(e){var polygon=new d.Polygon({shape:{points:M.getItemLayout(e)}});M.setItemGraphicEl(e,polygon),S.group.add(polygon)}).update(function(e,n){var polygon=S.__data.getItemGraphicEl(n);d.updateProps(polygon,{shape:{points:M.getItemLayout(e)}},t,e),S.group.add(polygon),M.setItemGraphicEl(e,polygon)}).remove(function(e){var polygon=S.__data.getItemGraphicEl(e);S.group.remove(polygon)}).execute(),M.eachItemGraphicEl(function(polygon,e){var n=M.getItemModel(e),l=n.getModel("label"),c=n.getModel("emphasis.label"),h=M.getItemVisual(e,"color");polygon.useStyle(o.defaults(n.getModel("itemStyle").getItemStyle(),{fill:r.modifyAlpha(h,.4),stroke:h})),polygon.hoverStyle=n.getModel("emphasis.itemStyle").getItemStyle(),d.setLabelStyle(polygon.style,polygon.hoverStyle,l,c,{labelFetcher:t,labelDataIndex:e,defaultText:M.getName(e)||"",isRectText:!0,autoColor:h}),d.setHoverStyle(polygon,{}),polygon.dataModel=t}),S.__data=M,S.group.silent=t.get("silent")||e.get("silent")}})},function(e,t,n){var o=n(31),r=n(805);n(806),n(807),n(808),n(810),o.registerPreprocessor(r)},function(e,t,n){var o=n(0);function r(e){var t=e.itemStyle||(e.itemStyle={}),n=t.emphasis||(t.emphasis={}),label=e.label||e.label||{},r=label.normal||(label.normal={}),c={normal:1,emphasis:1};o.each(label,function(e,t){c[t]||l(r,t)||(r[t]=e)}),n.label&&!l(label,"emphasis")&&(label.emphasis=n.label,delete n.label)}function l(e,t){return e.hasOwnProperty(t)}e.exports=function(option){var e=option&&option.timeline;o.isArray(e)||(e=e?[e]:[]),o.each(e,function(e){e&&function(e){var t=e.type,n={number:"value",time:"time"};if(n[t]&&(e.axisType=n[t],delete e.type),r(e),l(e,"controlPosition")){var c=e.controlStyle||(e.controlStyle={});l(c,"position")||(c.position=e.controlPosition),"none"!==c.position||l(c,"show")||(c.show=!1,delete c.position),delete e.controlPosition}o.each(e.data||[],function(e){o.isObject(e)&&!o.isArray(e)&&(!l(e,"value")&&l(e,"name")&&(e.value=e.name),r(e))})}(e)})}},function(e,t,n){n(56).registerSubTypeDefaulter("timeline",function(){return"slider"})},function(e,t,n){var o=n(31),r=n(0);o.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t){var n=t.getComponent("timeline");return n&&null!=e.currentIndex&&(n.setCurrentIndex(e.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),t.resetOption("timeline"),r.defaults({currentIndex:n.option.currentIndex},e)}),o.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var n=t.getComponent("timeline");n&&null!=e.playState&&n.setPlayState(e.playState)})},function(e,t,n){var o=n(0),r=n(809),l=n(267),c=r.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});o.mixin(c,l);var d=c;e.exports=d},function(e,t,n){var o=n(0),r=n(56),l=n(159),c=n(4),d=r.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(option,e,t){this._data,this._names,this.mergeDefaultAndTheme(option,t),this._initData()},mergeOption:function(option){d.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(e>=t&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(e){this.option.autoPlay=!!e},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var e=this.option,t=e.data||[],n=e.axisType,r=this._names=[];if("category"===n){var d=[];o.each(t,function(e,t){var n,l=c.getDataItemValue(e);o.isObject(e)?(n=o.clone(e)).value=t:n=t,d.push(n),o.isString(l)||null!=l&&!isNaN(l)||(l=""),r.push(l+"")}),t=d}var h={category:"ordinal",time:"time"}[n]||"number";(this._data=new l([{name:"value",type:h}],this)).initData(t,r)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}}),h=d;e.exports=h},function(e,t,n){var o=n(0),r=n(13),l=n(58),c=n(55),d=n(110),h=n(811),f=n(812),m=n(258).createSymbol,v=n(161),y=n(17),x=n(40).encodeHTML,_=o.bind,w=o.each,S=Math.PI,M=h.extend({type:"timeline.slider",init:function(e,t){this.api=t,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(e,t,n,o){if(this.model=e,this.api=n,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var r=this._layout(e,n),l=this._createGroup("mainGroup"),c=this._createGroup("labelGroup"),d=this._axis=this._createAxis(r,e);e.formatTooltip=function(e){return x(d.scale.getLabel(e))},w(["AxisLine","AxisTick","Control","CurrentPointer"],function(t){this["_render"+t](r,l,d,e)},this),this._renderAxisLabel(r,c,d,e),this._position(r,e)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(e,t){var n=e.get("label.position"),o=e.get("orient"),r=function(e,t){return d.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}(e,t);null==n||"auto"===n?n="horizontal"===o?r.y+r.height/2<t.getHeight()/2?"-":"+":r.x+r.width/2<t.getWidth()/2?"+":"-":isNaN(n)&&(n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[o][n]);var l,c,h,f,m={horizontal:"center",vertical:n>=0||"+"===n?"left":"right"},v={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},y={horizontal:0,vertical:S/2},x="vertical"===o?r.height:r.width,_=e.getModel("controlStyle"),w=_.get("show",!0),M=w?_.get("itemSize"):0,I=w?_.get("itemGap"):0,A=M+I,T=e.get("label.rotate")||0;T=T*S/180;var D=_.get("position",!0),L=w&&_.get("showPlayBtn",!0),C=w&&_.get("showPrevBtn",!0),P=w&&_.get("showNextBtn",!0),N=0,k=x;return"left"===D||"bottom"===D?(L&&(l=[0,0],N+=A),C&&(c=[N,0],N+=A),P&&(h=[k-M,0],k-=A)):(L&&(l=[k-M,0],k-=A),C&&(c=[0,0],N+=A),P&&(h=[k-M,0],k-=A)),f=[N,k],e.get("inverse")&&f.reverse(),{viewRect:r,mainLength:x,orient:o,rotation:y[o],labelRotation:T,labelPosOpt:n,labelAlign:e.get("label.align")||m[o],labelBaseline:e.get("label.verticalAlign")||e.get("label.baseline")||v[o],playPosition:l,prevBtnPosition:c,nextBtnPosition:h,axisExtent:f,controlSize:M,controlGap:I}},_position:function(e,t){var n=this._mainGroup,o=this._labelGroup,r=e.viewRect;if("vertical"===e.orient){var c=l.create(),d=r.x,h=r.y+r.height;l.translate(c,c,[-d,-h]),l.rotate(c,c,-S/2),l.translate(c,c,[d,h]),(r=r.clone()).applyTransform(c)}var f=I(r),m=I(n.getBoundingRect()),v=I(o.getBoundingRect()),y=n.position,x=o.position;x[0]=y[0]=f[0][0];var _,w=e.labelPosOpt;isNaN(w)?(A(y,m,f,1,_="+"===w?0:1),A(x,v,f,1,1-_)):(A(y,m,f,1,_=w>=0?0:1),x[1]=y[1]+w);function M(e){var t=e.position;e.origin=[f[0][0]-t[0],f[1][0]-t[1]]}function I(rect){return[[rect.x,rect.x+rect.width],[rect.y,rect.y+rect.height]]}function A(e,t,n,o,r){e[o]+=n[o][r]-t[o][r]}n.attr("position",y),o.attr("position",x),n.rotation=o.rotation=e.rotation,M(n),M(o)},_createAxis:function(e,t){var data=t.getData(),n=t.get("axisType"),o=v.createScaleByModel(t,n);o.getTicks=function(){return data.mapArray(["value"],function(e){return e})};var r=data.getDataExtent("value");o.setExtent(r[0],r[1]),o.niceTicks();var l=new f("value",o,e.axisExtent,n);return l.model=t,l},_createGroup:function(e){var t=this["_"+e]=new c.Group;return this.group.add(t),t},_renderAxisLine:function(e,t,n,r){var l=n.getExtent();r.get("lineStyle.show")&&t.add(new c.Line({shape:{x1:l[0],y1:0,x2:l[1],y2:0},style:o.extend({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(e,t,n,o){var data=o.getData(),r=n.scale.getTicks();w(r,function(e){var r=n.dataToCoord(e),l=data.getItemModel(e),d=l.getModel("itemStyle"),h=l.getModel("emphasis.itemStyle"),f={position:[r,0],onclick:_(this._changeTimeline,this,e)},m=I(l,d,t,f);c.setHoverStyle(m,h.getItemStyle()),l.get("tooltip")?(m.dataIndex=e,m.dataModel=o):m.dataIndex=m.dataModel=null},this)},_renderAxisLabel:function(e,t,n,o){if(n.getLabelModel().get("show")){var data=o.getData(),r=n.getViewLabels();w(r,function(o){var r=o.tickValue,l=data.getItemModel(r),d=l.getModel("label"),h=l.getModel("emphasis.label"),f=n.dataToCoord(o.tickValue),m=new c.Text({position:[f,0],rotation:e.labelRotation-e.rotation,onclick:_(this._changeTimeline,this,r),silent:!1});c.setTextStyle(m.style,d,{text:o.formattedLabel,textAlign:e.labelAlign,textVerticalAlign:e.labelBaseline}),t.add(m),c.setHoverStyle(m,c.setTextStyle({},h))},this)}},_renderControl:function(e,t,n,l){var d=e.controlSize,h=e.rotation,f=l.getModel("controlStyle").getItemStyle(),m=l.getModel("emphasis.controlStyle").getItemStyle(),rect=[0,-d/2,d,d],v=l.getPlayState(),y=l.get("inverse",!0);function x(e,n,v,y){if(e){var x=function(e,t,rect,n){return c.makePath(e.get(t).replace(/^path:\/\//,""),o.clone(n||{}),new r(rect[0],rect[1],rect[2],rect[3]),"center")}(l,n,rect,{position:e,origin:[d/2,0],rotation:y?-h:0,rectHover:!0,style:f,onclick:v});t.add(x),c.setHoverStyle(x,m)}}x(e.nextBtnPosition,"controlStyle.nextIcon",_(this._changeTimeline,this,y?"-":"+")),x(e.prevBtnPosition,"controlStyle.prevIcon",_(this._changeTimeline,this,y?"+":"-")),x(e.playPosition,"controlStyle."+(v?"stopIcon":"playIcon"),_(this._handlePlayClick,this,!v),!0)},_renderCurrentPointer:function(e,t,n,o){var data=o.getData(),r=o.getCurrentIndex(),l=data.getItemModel(r).getModel("checkpointStyle"),c=this,d={onCreate:function(e){e.draggable=!0,e.drift=_(c._handlePointerDrag,c),e.ondragend=_(c._handlePointerDragend,c),A(e,r,n,o,!0)},onUpdate:function(e){A(e,r,n,o)}};this._currentPointer=I(l,l,this._mainGroup,{},this._currentPointer,d)},_handlePlayClick:function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},_handlePointerDrag:function(e,t,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},_pointerChangeTimeline:function(e,t){var n=this._toAxisCoord(e)[0],o=this._axis,r=y.asc(o.getExtent().slice());n>r[1]&&(n=r[1]),n<r[0]&&(n=r[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();var l=this._findNearestTick(n),c=this.model;(t||l!==c.getCurrentIndex()&&c.get("realtime"))&&this._changeTimeline(l)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(_(function(){var e=this.model;this._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},_toAxisCoord:function(e){var t=this._mainGroup.getLocalTransform();return c.applyTransform(e,t,!0)},_findNearestTick:function(e){var t,data=this.model.getData(),n=1/0,o=this._axis;return data.each(["value"],function(r,l){var c=o.dataToCoord(r),d=Math.abs(c-e);d<n&&(n=d,t=l)}),t},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})}});function I(e,t,n,r,symbol,l){var c=t.get("color");if(symbol)symbol.setColor(c),n.add(symbol),l&&l.onUpdate(symbol);else{var d=e.get("symbol");(symbol=m(d,-1,-1,2,2,c)).setStyle("strokeNoScale",!0),n.add(symbol),l&&l.onCreate(symbol)}var h=t.getItemStyle(["color","symbol","symbolSize"]);symbol.setStyle(h),r=o.merge({rectHover:!0,z2:100},r,!0);var f=e.get("symbolSize");(f=f instanceof Array?f.slice():[+f,+f])[0]/=2,f[1]/=2,r.scale=f;var v=e.get("symbolOffset");if(v){var x=r.position=r.position||[0,0];x[0]+=y.parsePercent(v[0],f[0]),x[1]+=y.parsePercent(v[1],f[1])}var _=e.get("symbolRotate");return r.rotation=(_||0)*Math.PI/180||0,symbol.attr(r),symbol.updateTransform(),symbol}function A(e,t,n,o,r){if(!e.dragging){var l=o.getModel("checkpointStyle"),c=n.dataToCoord(o.getData().get(["value"],t));r||!l.get("animation",!0)?e.attr({position:[c,0]}):(e.stopAnimation(!0),e.animateTo({position:[c,0]},l.get("animationDuration",!0),l.get("animationEasing",!0)))}}e.exports=M},function(e,t,n){var o=n(170).extend({type:"timeline"});e.exports=o},function(e,t,n){var o=n(0),r=n(261),l=function(e,t,n,o){r.call(this,e,t,n),this.type=o||"value",this.model=null};l.prototype={constructor:l,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}},o.inherits(l,r);var c=l;e.exports=c},function(e,t,n){n(814),n(815),n(816),n(817),n(818),n(819),n(823)},function(e,t,n){var o=n(31),r=n(0),l=n(479),c=o.extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){c.superApply(this,"optionUpdated",arguments),r.each(this.option.feature,function(e,t){var n=l.get(t);n&&r.merge(e,n.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}}),d=c;e.exports=d},function(e,t,n){var o=n(31),r=n(0),l=n(59),c=n(479),d=n(55),h=n(57),f=n(263),m=n(578),v=o.extendComponentView({type:"toolbox",render:function(e,t,n,o){var v=this.group;if(v.removeAll(),e.get("show")){var y=+e.get("itemSize"),x=e.get("feature")||{},_=this._features||(this._features={}),w=[];r.each(x,function(e,t){w.push(t)}),new f(this._featureNames||[],w).add(S).update(S).remove(r.curry(S,null)).execute(),this._featureNames=w,m.layout(v,e,n),v.add(m.makeBackground(v.getBoundingRect(),e)),v.eachChild(function(e){var t=e.__title,o=e.hoverStyle;if(o&&t){var rect=l.getBoundingRect(t,l.makeFont(o)),r=e.position[0]+v.position[0],c=!1;e.position[1]+v.position[1]+y+rect.height>n.getHeight()&&(o.textPosition="top",c=!0);var d=c?-5-rect.height:y+8;r+rect.width/2>n.getWidth()?(o.textPosition=["100%",d],o.textAlign="right"):r-rect.width/2<0&&(o.textPosition=[0,d],o.textAlign="left")}})}function S(l,f){var m,S=w[l],M=w[f],I=x[S],A=new h(I,e,e.ecModel);if(S&&!M){if(function(e){return 0===e.indexOf("my")}(S))m={model:A,onclick:A.option.onclick,featureName:S};else{var T=c.get(S);if(!T)return;m=new T(A,t,n)}_[S]=m}else{if(!(m=_[M]))return;m.model=A,m.ecModel=t,m.api=n}S||!M?A.get("show")&&!m.unusable?(!function(o,l,c){var h=o.getModel("iconStyle"),f=o.getModel("emphasis.iconStyle"),m=l.getIcons?l.getIcons():o.get("icon"),x=o.get("title")||{};if("string"==typeof m){var _=m,title=x;x={},(m={})[c]=_,x[c]=title}var w=o.iconPaths={};r.each(m,function(c,m){var path=d.createIcon(c,{},{x:-y/2,y:-y/2,width:y,height:y});path.setStyle(h.getItemStyle()),path.hoverStyle=f.getItemStyle(),d.setHoverStyle(path),e.get("showTitle")&&(path.__title=x[m],path.on("mouseover",function(){var e=f.getItemStyle();path.setStyle({text:x[m],textPosition:e.textPosition||"bottom",textFill:e.fill||e.stroke||"#000",textAlign:e.textAlign||"center"})}).on("mouseout",function(){path.setStyle({textFill:null})})),path.trigger(o.get("iconStatus."+m)||"normal"),v.add(path),path.on("click",r.bind(l.onclick,l,t,n,m)),w[m]=path})}(A,m,S),A.setIconStatus=function(e,t){var option=this.option,n=this.iconPaths;option.iconStatus=option.iconStatus||{},option.iconStatus[e]=t,n[e]&&n[e].trigger(t)},m.render&&m.render(A,t,n,o)):m.remove&&m.remove(t,n):m.dispose&&m.dispose(t,n)}},updateView:function(e,t,n,o){r.each(this._features,function(e){e.updateView&&e.updateView(e.model,t,n,o)})},remove:function(e,t){r.each(this._features,function(n){n.remove&&n.remove(e,t)}),this.group.removeAll()},dispose:function(e,t){r.each(this._features,function(n){n.dispose&&n.dispose(e,t)})}});e.exports=v},function(e,t,n){var o=n(18),r=n(262),l=n(479),c=r.toolbox.saveAsImage;function d(e){this.model=e}d.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:c.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:c.lang.slice()},d.prototype.unusable=!o.canvasSupported,d.prototype.onclick=function(e,t){var n=this.model,title=n.get("name")||e.get("title.0.text")||"echarts",r=document.createElement("a"),l=n.get("type",!0)||"png";r.download=title+"."+l,r.target="_blank";var c=t.getConnectedDataURL({type:l,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if(r.href=c,"function"!=typeof MouseEvent||o.browser.ie||o.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var d=atob(c.split(",")[1]),h=d.length,f=new Uint8Array(h);h--;)f[h]=d.charCodeAt(h);var m=new Blob([f]);window.navigator.msSaveOrOpenBlob(m,title+"."+l)}else{var v=n.get("lang"),html='<body style="margin:0;"><img src="'+c+'" style="max-width:100%;" title="'+(v&&v[0]||"")+'" /></body>';window.open().document.write(html)}else{var y=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});r.dispatchEvent(y)}},l.register("saveAsImage",d);var h=d;e.exports=h},function(e,t,n){var o=n(31),r=n(0),l=n(262),c=n(479),d=l.toolbox.magicType;function h(e){this.model=e}h.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:r.clone(d.title),option:{},seriesIndex:{}};var f=h.prototype;f.getIcons=function(){var e=this.model,t=e.get("icon"),n={};return r.each(e.get("type"),function(e){t[e]&&(n[e]=t[e])}),n};var m={line:function(e,t,n,o){if("bar"===e)return r.merge({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},o.get("option.line")||{},!0)},bar:function(e,t,n,o){if("line"===e)return r.merge({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},o.get("option.bar")||{},!0)},stack:function(e,t,n,o){if("line"===e||"bar"===e)return r.merge({id:t,stack:"__ec_magicType_stack__"},o.get("option.stack")||{},!0)},tiled:function(e,t,n,o){if("line"===e||"bar"===e)return r.merge({id:t,stack:""},o.get("option.tiled")||{},!0)}},v=[["line","bar"],["stack","tiled"]];f.onclick=function(e,t,n){var o=this.model,l=o.get("seriesIndex."+n);if(m[n]){var c={series:[]};r.each(v,function(e){r.indexOf(e,n)>=0&&r.each(e,function(e){o.setIconStatus(e,"normal")})}),o.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:null==l?null:{seriesIndex:l}},function(t){var l=t.subType,d=t.id,h=m[n](l,d,t,o);h&&(r.defaults(h,t.option),c.series.push(h));var f=t.coordinateSystem;if(f&&"cartesian2d"===f.type&&("line"===n||"bar"===n)){var v=f.getAxesByScale("ordinal")[0];if(v){var y=v.dim+"Axis",x=e.queryComponents({mainType:y,index:t.get(name+"Index"),id:t.get(name+"Id")})[0].componentIndex;c[y]=c[y]||[];for(var i=0;i<=x;i++)c[y][x]=c[y][x]||{};c[y][x].boundaryGap="bar"===n}}}),t.dispatchAction({type:"changeMagicType",currentType:n,newOption:c})}},o.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)}),c.register("magicType",h);var y=h;e.exports=y},function(e,t,n){var o=n(31),r=n(0),l=n(74),c=n(262),d=n(479),h=c.toolbox.dataView,f=new Array(60).join("-"),m="\t";function v(e){return r.map(e,function(e){var data=e.getRawData(),t=[e.name],n=[];return data.each(data.dimensions,function(){for(var e=arguments.length,o=arguments[e-1],r=data.getName(o),i=0;i<e-1;i++)n[i]=arguments[i];t.push((r?r+m:"")+n.join(m))}),t.join("\n")}).join("\n\n"+f+"\n\n")}function y(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var x=new RegExp("["+m+"]+","g");function _(e,t){var n=e.split(new RegExp("\n*"+f+"\n*","g")),o={series:[]};return r.each(n,function(e,n){if(function(e){if(e.slice(0,e.indexOf("\n")).indexOf(m)>=0)return!0}(e)){var l=function(e){for(var t=e.split(/\n+/g),n=y(t.shift()).split(x),o=[],l=r.map(n,function(header){return{name:header,data:[]}}),i=0;i<t.length;i++){var c=y(t[i]).split(x);o.push(c.shift());for(var d=0;d<c.length;d++)l[d]&&(l[d].data[i]=c[d])}return{series:l,categories:o}}(e),c=t[n],d=c.axisDim+"Axis";c&&(o[d]=o[d]||[],o[d][c.axisIndex]={data:l.categories},o.series=o.series.concat(l.series))}else{l=function(e){for(var t=e.split(/\n+/g),n=y(t.shift()),data=[],i=0;i<t.length;i++){var o,r=y(t[i]).split(x),l="",c=!1;isNaN(r[0])?(c=!0,l=r[0],r=r.slice(1),data[i]={name:l,value:[]},o=data[i].value):o=data[i]=[];for(var d=0;d<r.length;d++)o.push(+r[d]);1===o.length&&(c?data[i].value=o[0]:data[i]=o[0])}return{name:n,data:data}}(e);o.series.push(l)}}),o}function w(e){this._dom=null,this.model=e}function S(e,t){return r.map(e,function(e,n){var o=t&&t[n];return r.isObject(o)&&!r.isArray(o)?(r.isObject(e)&&!r.isArray(e)&&(e=e.value),r.defaults({value:e},o)):e})}w.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.clone(h.title),lang:r.clone(h.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},w.prototype.onclick=function(e,t){var n=t.getDom(),o=this.model;this._dom&&n.removeChild(this._dom);var c=document.createElement("div");c.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",c.style.backgroundColor=o.get("backgroundColor")||"#fff";var header=document.createElement("h4"),d=o.get("lang")||[];header.innerHTML=d[0]||o.get("title"),header.style.cssText="margin: 10px 20px;",header.style.color=o.get("textColor");var h=document.createElement("div"),textarea=document.createElement("textarea");h.style.cssText="display:block;width:100%;overflow:auto;";var y=o.get("optionToContent"),x=o.get("contentToOption"),w=function(e){var t,n,o=function(e){var t={},n=[],meta=[];return e.eachRawSeries(function(e){var o=e.coordinateSystem;if(!o||"cartesian2d"!==o.type&&"polar"!==o.type)n.push(e);else{var r=o.getBaseAxis();if("category"===r.type){var l=r.dim+"_"+r.index;t[l]||(t[l]={categoryAxis:r,valueAxis:o.getOtherAxis(r),series:[]},meta.push({axisDim:r.dim,axisIndex:r.index})),t[l].series.push(e)}else n.push(e)}}),{seriesGroupByCategoryAxis:t,other:n,meta:meta}}(e);return{value:r.filter([(t=o.seriesGroupByCategoryAxis,n=[],r.each(t,function(e,t){var o=e.categoryAxis,l=e.valueAxis.dim,c=[" "].concat(r.map(e.series,function(e){return e.name})),d=[o.model.getCategories()];r.each(e.series,function(e){d.push(e.getRawData().mapArray(l,function(e){return e}))});for(var h=[c.join(m)],i=0;i<d[0].length;i++){for(var f=[],v=0;v<d.length;v++)f.push(d[v][i]);h.push(f.join(m))}n.push(h.join("\n"))}),n.join("\n\n"+f+"\n\n")),v(o.other)],function(e){return e.replace(/[\n\t\s]/g,"")}).join("\n\n"+f+"\n\n"),meta:o.meta}}(e);if("function"==typeof y){var S=y(t.getOption());"string"==typeof S?h.innerHTML=S:r.isDom(S)&&h.appendChild(S)}else h.appendChild(textarea),textarea.readOnly=o.get("readOnly"),textarea.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",textarea.style.color=o.get("textColor"),textarea.style.borderColor=o.get("textareaBorderColor"),textarea.style.backgroundColor=o.get("textareaColor"),textarea.value=w.value;var M=w.meta,I=document.createElement("div");I.style.cssText="position:absolute;bottom:0;left:0;right:0;";var A="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",T=document.createElement("div"),D=document.createElement("div");A+=";background-color:"+o.get("buttonColor"),A+=";color:"+o.get("buttonTextColor");var L=this;function C(){n.removeChild(c),L._dom=null}l.addEventListener(T,"click",C),l.addEventListener(D,"click",function(){var e;try{e="function"==typeof x?x(h,t.getOption()):_(textarea.value,M)}catch(e){throw C(),new Error("Data view format error "+e)}e&&t.dispatchAction({type:"changeDataView",newOption:e}),C()}),T.innerHTML=d[1],D.innerHTML=d[2],D.style.cssText=A,T.style.cssText=A,!o.get("readOnly")&&I.appendChild(D),I.appendChild(T),l.addEventListener(textarea,"keydown",function(e){if(9===(e.keyCode||e.which)){var t=this.value,n=this.selectionStart,o=this.selectionEnd;this.value=t.substring(0,n)+m+t.substring(o),this.selectionStart=this.selectionEnd=n+1,l.stop(e)}}),c.appendChild(header),c.appendChild(h),c.appendChild(I),h.style.height=n.clientHeight-80+"px",n.appendChild(c),this._dom=c},w.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},w.prototype.dispose=function(e,t){this.remove(e,t)},d.register("dataView",w),o.registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var n=[];r.each(e.newOption.series,function(e){var o=t.getSeriesByName(e.name)[0];if(o){var l=o.get("data");n.push({name:e.name,data:S(e.data,l)})}else n.push(r.extend({type:"scatter"},e))}),t.mergeOption(r.defaults({series:n},e.newOption))});var M=w;e.exports=M},function(e,t,n){var o=n(31),r=n(0),l=n(519),c=n(579),d=n(583),h=n(489),f=n(262),m=n(479);n(820);var v=f.toolbox.dataZoom,y=r.each,x="\0_ec_\0toolbox-dataZoom_";function _(e,t,n){(this._brushController=new l(n.getZr())).on("brush",r.bind(this._onBrush,this)).mount(),this._isZoomActive}_.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.clone(v.title)};var w=_.prototype;w.render=function(e,t,n,o){this.model=e,this.ecModel=t,this.api=n,function(e,t,view,n,o){var r=view._isZoomActive;n&&"takeGlobalCursor"===n.type&&(r="dataZoomSelect"===n.key&&n.dataZoomSelectActive);view._isZoomActive=r,e.setIconStatus("zoom",r?"emphasis":"normal");var l=new c(M(e.option),t,{include:["grid"]});view._brushController.setPanels(l.makePanelOpts(o,function(e){return e.xAxisDeclared&&!e.yAxisDeclared?"lineX":!e.xAxisDeclared&&e.yAxisDeclared?"lineY":"rect"})).enableBrush(!!r&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}(e,t,this,o,n),function(e,t){e.setIconStatus("back",d.count(t)>1?"emphasis":"normal")}(e,t)},w.onclick=function(e,t,n){S[n].call(this)},w.remove=function(e,t){this._brushController.unmount()},w.dispose=function(e,t){this._brushController.dispose()};var S={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(d.pop(this.ecModel))}};function M(option){var e={};return r.each(["xAxisIndex","yAxisIndex"],function(t){e[t]=option[t],null==e[t]&&(e[t]="all"),(!1===e[t]||"none"===e[t])&&(e[t]=[])}),e}w._onBrush=function(e,t){if(t.isEnd&&e.length){var n={},o=this.ecModel;this._brushController.updateCovers([]),new c(M(this.model.option),o,{include:["grid"]}).matchOutputRanges(e,o,function(area,e,t){if("cartesian2d"===t.type){var n=area.brushType;"rect"===n?(r("x",t,e[0]),r("y",t,e[1])):r({lineX:"x",lineY:"y"}[n],t,e)}}),d.push(o,n),this._dispatchZoomAction(n)}function r(e,t,r){var l=t.getAxis(e),c=l.model,d=function(e,t,n){var o;return n.eachComponent({mainType:"dataZoom",subType:"select"},function(n){n.getAxisModel(e,t.componentIndex)&&(o=n)}),o}(e,c,o),f=d.findRepresentativeAxisProxy(c).getMinMaxSpan();null==f.minValueSpan&&null==f.maxValueSpan||(r=h(0,r.slice(),l.scale.getExtent(),0,f.minValueSpan,f.maxValueSpan)),d&&(n[d.id]={dataZoomId:d.id,startValue:r[0],endValue:r[1]})}},w._dispatchZoomAction=function(e){var t=[];y(e,function(e,n){t.push(r.clone(e))}),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},m.register("dataZoom",_),o.registerPreprocessor(function(option){if(option){var e=option.dataZoom||(option.dataZoom=[]);r.isArray(e)||(option.dataZoom=e=[e]);var t=option.toolbox;if(t&&(r.isArray(t)&&(t=t[0]),t&&t.feature)){var n=t.feature.dataZoom;o("xAxis",n),o("yAxis",n)}}function o(t,n){if(n){var o=t+"Index",l=n[o];null==l||"all"===l||r.isArray(l)||(l=!1===l||"none"===l?[]:[l]),function(e,t){var n=option[e];r.isArray(n)||(n=n?[n]:[]);y(n,t)}(t,function(n,c){if(null==l||"all"===l||-1!==r.indexOf(l,c)){var d={type:"select",$fromToolbox:!0,id:x+t+c};d[o]=c,e.push(d)}})}}});var I=_;e.exports=I},function(e,t,n){n(580),n(494),n(495),n(821),n(822),n(581),n(582)},function(e,t,n){var o=n(494).extend({type:"dataZoom.select"});e.exports=o},function(e,t,n){var o=n(495).extend({type:"dataZoom.select"});e.exports=o},function(e,t,n){var o=n(31),r=n(583),l=n(262),c=n(479),d=l.toolbox.restore;function h(e){this.model=e}h.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:d.title},h.prototype.onclick=function(e,t,n){r.clear(e),t.dispatchAction({type:"restore",from:this.uid})},c.register("restore",h),o.registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")});var f=h;e.exports=f},function(e,t,n){n(825),(0,n(167).registerPainter)("vml",n(826))},function(e,t,n){var o=n(18),r=n(10).applyTransform,l=n(13),c=n(75),d=n(59),h=n(168),f=n(270),m=n(78),v=n(112),y=n(162),x=n(8),_=n(77),w=n(115),S=n(584),M=_.CMD,I=Math.round,A=Math.sqrt,T=Math.abs,D=Math.cos,L=Math.sin,C=Math.max;if(!o.canvasSupported){var P=21600,N=P/2,k=function(e){e.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",e.coordsize=P+","+P,e.coordorigin="0,0"},O=function(e,g,b){return"rgb("+[e,g,b].join(",")+")"},R=function(e,t){t&&e&&t.parentNode!==e&&e.appendChild(t)},E=function(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)},z=function(e,t,n){return 1e5*(parseFloat(e)||0)+1e3*(parseFloat(t)||0)+n},V=function(e,t){return"string"==typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e},G=function(e,t,n){var o=c.parse(t);n=+n,isNaN(n)&&(n=1),o&&(e.color=O(o[0],o[1],o[2]),e.opacity=n*o[3])},B=function(e,t,style,n){var o="fill"===t,l=e.getElementsByTagName(t)[0];null!=style[t]&&"none"!==style[t]&&(o||!o&&style.lineWidth)?(e[o?"filled":"stroked"]="true",style[t]instanceof w&&E(e,l),l||(l=S.createNode(t)),o?function(e,style,t){var n,o,l=style.fill;if(null!=l)if(l instanceof w){var d,h=0,f=[0,0],m=0,v=1,rect=t.getBoundingRect(),y=rect.width,x=rect.height;if("linear"===l.type){d="gradient";var _=t.transform,S=[l.x*y,l.y*x],M=[l.x2*y,l.y2*x];_&&(r(S,S,_),r(M,M,_));var I=M[0]-S[0],A=M[1]-S[1];(h=180*Math.atan2(I,A)/Math.PI)<0&&(h+=360),h<1e-6&&(h=0)}else{d="gradientradial",S=[l.x*y,l.y*x],_=t.transform;var T=t.scale,D=y,L=x;f=[(S[0]-rect.x)/D,(S[1]-rect.y)/L],_&&r(S,S,_),D/=T[0]*P,L/=T[1]*P;var N=C(D,L);m=0/N,v=2*l.r/N-m}var k=l.colorStops.slice();k.sort(function(e,t){return e.offset-t.offset});for(var R=k.length,E=[],z=[],i=0;i<R;i++){var V=k[i],B=(n=V.color,o=void 0,o=c.parse(n),[O(o[0],o[1],o[2]),o[3]]);z.push(V.offset*v+m+" "+B[0]),0!==i&&i!==R-1||E.push(B)}if(R>=2){var H=E[0][0],W=E[1][0],F=E[0][1]*style.opacity,Z=E[1][1]*style.opacity;e.type=d,e.method="none",e.focus="100%",e.angle=h,e.color=H,e.color2=W,e.colors=z.join(","),e.opacity=Z,e.opacity2=F}"radial"===d&&(e.focusposition=f.join(","))}else G(e,l,style.opacity)}(l,style,n):function(e,style){null!=style.lineDash&&(e.dashstyle=style.lineDash.join(" ")),null==style.stroke||style.stroke instanceof w||G(e,style.stroke,style.opacity)}(l,style),R(e,l)):(e[o?"filled":"stroked"]="false",E(e,l))},H=[[],[],[]];x.prototype.brushVML=function(e){var style=this.style,t=this._vmlEl;t||(t=S.createNode("shape"),k(t),this._vmlEl=t),B(t,"fill",style,this),B(t,"stroke",style,this);var n=this.transform,o=null!=n,l=t.getElementsByTagName("stroke")[0];if(l){var c=style.lineWidth;if(o&&!style.strokeNoScale){var d=n[0]*n[3]-n[1]*n[2];c*=A(T(d))}l.weight=c+"px"}var path=this.path||(this.path=new _);this.__dirtyPath&&(path.beginPath(),path.subPixelOptimize=!1,this.buildPath(path,this.shape),path.toStatic(),this.__dirtyPath=!1),t.path=function(path,e){var t,n,o,i,l,c,d=M.M,h=M.C,f=M.L,m=M.A,v=M.Q,y=[],data=path.data,x=path.len();for(i=0;i<x;){switch(n="",t=0,o=data[i++]){case d:n=" m ",t=1,l=data[i++],c=data[i++],H[0][0]=l,H[0][1]=c;break;case f:n=" l ",t=1,l=data[i++],c=data[i++],H[0][0]=l,H[0][1]=c;break;case v:case h:n=" c ",t=3;var _,w,S=data[i++],T=data[i++],C=data[i++],k=data[i++];o===v?(_=C,w=k,C=(C+2*S)/3,k=(k+2*T)/3,S=(l+2*S)/3,T=(c+2*T)/3):(_=data[i++],w=data[i++]),H[0][0]=S,H[0][1]=T,H[1][0]=C,H[1][1]=k,H[2][0]=_,H[2][1]=w,l=_,c=w;break;case m:var O=0,R=0,E=1,z=1,V=0;e&&(O=e[4],R=e[5],E=A(e[0]*e[0]+e[1]*e[1]),z=A(e[2]*e[2]+e[3]*e[3]),V=Math.atan2(-e[1]/z,e[0]/E));var G=data[i++],B=data[i++],W=data[i++],F=data[i++],Z=data[i++]+V,j=data[i++]+Z+V;i++;var U=data[i++],Y=G+D(Z)*W,X=B+L(Z)*F,K=(S=G+D(j)*W,T=B+L(j)*F,U?" wa ":" at ");Math.abs(Y-S)<1e-4&&(Math.abs(j-Z)>.01?U&&(Y+=.0125):Math.abs(X-B)<1e-4?U&&Y<G||!U&&Y>G?T-=.0125:T+=.0125:U&&X<B||!U&&X>B?S+=.0125:S-=.0125),y.push(K,I(((G-W)*E+O)*P-N),",",I(((B-F)*z+R)*P-N),",",I(((G+W)*E+O)*P-N),",",I(((B+F)*z+R)*P-N),",",I((Y*E+O)*P-N),",",I((X*z+R)*P-N),",",I((S*E+O)*P-N),",",I((T*z+R)*P-N)),l=S,c=T;break;case M.R:var J=H[0],Q=H[1];J[0]=data[i++],J[1]=data[i++],Q[0]=J[0]+data[i++],Q[1]=J[1]+data[i++],e&&(r(J,J,e),r(Q,Q,e)),J[0]=I(J[0]*P-N),Q[0]=I(Q[0]*P-N),J[1]=I(J[1]*P-N),Q[1]=I(Q[1]*P-N),y.push(" m ",J[0],",",J[1]," l ",Q[0],",",J[1]," l ",Q[0],",",Q[1]," l ",J[0],",",Q[1]);break;case M.Z:y.push(" x ")}if(t>0){y.push(n);for(var $=0;$<t;$++){var p=H[$];e&&r(p,p,e),y.push(I(p[0]*P-N),",",I(p[1]*P-N),$<t-1?",":"")}}}return y.join("")}(path,this.transform),t.style.zIndex=z(this.zlevel,this.z,this.z2),R(e,t),null!=style.text?this.drawRectText(e,this.getBoundingRect()):this.removeRectText(e)},x.prototype.onRemove=function(e){E(e,this._vmlEl),this.removeRectText(e)},x.prototype.onAdd=function(e){R(e,this._vmlEl),this.appendRectText(e)};v.prototype.brushVML=function(e){var t,n,img,style=this.style,image=style.image;if("object"==typeof(img=image)&&img.tagName&&"IMG"===img.tagName.toUpperCase()){var o=image.src;if(o===this._imageSrc)t=this._imageWidth,n=this._imageHeight;else{var l=image.runtimeStyle,c=l.width,d=l.height;l.width="auto",l.height="auto",t=image.width,n=image.height,l.width=c,l.height=d,this._imageSrc=o,this._imageWidth=t,this._imageHeight=n}image=o}else image===this._imageSrc&&(t=this._imageWidth,n=this._imageHeight);if(image){var h=style.x||0,f=style.y||0,m=style.width,v=style.height,y=style.sWidth,x=style.sHeight,_=style.sx||0,w=style.sy||0,M=y&&x,T=this._vmlEl;T||(T=S.doc.createElement("div"),k(T),this._vmlEl=T);var D,L=T.style,P=!1,N=1,O=1;if(this.transform&&(D=this.transform,N=A(D[0]*D[0]+D[1]*D[1]),O=A(D[2]*D[2]+D[3]*D[3]),P=D[1]||D[2]),P){var E=[h,f],V=[h+m,f],G=[h,f+v],B=[h+m,f+v];r(E,E,D),r(V,V,D),r(G,G,D),r(B,B,D);var H=C(E[0],V[0],G[0],B[0]),W=C(E[1],V[1],G[1],B[1]),F=[];F.push("M11=",D[0]/N,",","M12=",D[2]/O,",","M21=",D[1]/N,",","M22=",D[3]/O,",","Dx=",I(h*N+D[4]),",","Dy=",I(f*O+D[5])),L.padding="0 "+I(H)+"px "+I(W)+"px 0",L.filter="progid:DXImageTransform.Microsoft.Matrix("+F.join("")+", SizingMethod=clip)"}else D&&(h=h*N+D[4],f=f*O+D[5]),L.filter="",L.left=I(h)+"px",L.top=I(f)+"px";var Z=this._imageEl,j=this._cropEl;Z||(Z=S.doc.createElement("div"),this._imageEl=Z);var U=Z.style;if(M){if(t&&n)U.width=I(N*t*m/y)+"px",U.height=I(O*n*v/x)+"px";else{var Y=new Image,X=this;Y.onload=function(){Y.onload=null,t=Y.width,n=Y.height,U.width=I(N*t*m/y)+"px",U.height=I(O*n*v/x)+"px",X._imageWidth=t,X._imageHeight=n,X._imageSrc=image},Y.src=image}j||((j=S.doc.createElement("div")).style.overflow="hidden",this._cropEl=j);var K=j.style;K.width=I((m+_*m/y)*N),K.height=I((v+w*v/x)*O),K.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-_*m/y*N+",Dy="+-w*v/x*O+")",j.parentNode||T.appendChild(j),Z.parentNode!==j&&j.appendChild(Z)}else U.width=I(N*m)+"px",U.height=I(O*v)+"px",T.appendChild(Z),j&&j.parentNode&&(T.removeChild(j),this._cropEl=null);var J="",Q=style.opacity;Q<1&&(J+=".Alpha(opacity="+I(100*Q)+") "),J+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+image+", SizingMethod=scale)",U.filter=J,T.style.zIndex=z(this.zlevel,this.z,this.z2),R(e,T),null!=style.text&&this.drawRectText(e,this.getBoundingRect())}},v.prototype.onRemove=function(e){E(e,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(e)},v.prototype.onAdd=function(e){R(e,this._vmlEl),this.appendRectText(e)};var W,F={},Z=0,j=document.createElement("div");d.$override("measureText",function(text,e){var t=S.doc;W||((W=t.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",S.doc.body.appendChild(W));try{W.style.font=e}catch(e){}return W.innerHTML="",W.appendChild(t.createTextNode(text)),{width:W.offsetWidth}});for(var U=new l,Y=function(e,rect,t,n){var style=this.style;this.__dirty&&h.normalizeTextStyle(style,!0);var text=style.text;if(null!=text&&(text+=""),text){if(style.rich){var o=d.parseRichText(text,style);text=[];for(var i=0;i<o.lines.length;i++){for(var l=o.lines[i].tokens,c=[],f=0;f<l.length;f++)c.push(l[f].text);text.push(c.join(""))}text=text.join("\n")}var m,v,y=style.textAlign,x=style.textVerticalAlign,_=function(e){var t=F[e];if(!t){Z>100&&(Z=0,F={});var n,style=j.style;try{style.font=e,n=style.fontFamily.split(",")[0]}catch(e){}t={style:style.fontStyle||"normal",variant:style.fontVariant||"normal",weight:style.fontWeight||"normal",size:0|parseFloat(style.fontSize||12),family:n||"Microsoft YaHei"},F[e]=t,Z++}return t}(style.font),w=_.style+" "+_.variant+" "+_.weight+" "+_.size+'px "'+_.family+'"';t=t||d.getBoundingRect(text,w,y,x,style.textPadding,style.textLineHeight);var M=this.transform;if(M&&!n&&(U.copy(rect),U.applyTransform(M),rect=U),n)m=rect.x,v=rect.y;else{var A=style.textPosition,T=style.textDistance;if(A instanceof Array)m=rect.x+V(A[0],rect.width),v=rect.y+V(A[1],rect.height),y=y||"left";else{var D=d.adjustTextPositionOnRect(A,rect,T);m=D.x,v=D.y,y=y||D.textAlign,x=x||D.textVerticalAlign}}m=d.adjustTextX(m,t.width,y),v=d.adjustTextY(v,t.height,x),v+=t.height/2;var L,C,P,N=S.createNode,O=this._textVmlEl;O?C=(L=(P=O.firstChild).nextSibling).nextSibling:(O=N("line"),L=N("path"),C=N("textpath"),P=N("skew"),C.style["v-text-align"]="left",k(O),L.textpathok=!0,C.on=!0,O.from="0 0",O.to="1000 0.05",R(O,P),R(O,L),R(O,C),this._textVmlEl=O);var E=[m,v],G=O.style;M&&n?(r(E,E,M),P.on=!0,P.matrix=M[0].toFixed(3)+","+M[2].toFixed(3)+","+M[1].toFixed(3)+","+M[3].toFixed(3)+",0,0",P.offset=(I(E[0])||0)+","+(I(E[1])||0),P.origin="0 0",G.left="0px",G.top="0px"):(P.on=!1,G.left=I(m)+"px",G.top=I(v)+"px"),C.string=String(text).replace(/&/g,"&amp;").replace(/"/g,"&quot;");try{C.style.font=w}catch(e){}B(O,"fill",{fill:style.textFill,opacity:style.opacity},this),B(O,"stroke",{stroke:style.textStroke,opacity:style.opacity,lineDash:style.lineDash},this),O.style.zIndex=z(this.zlevel,this.z,this.z2),R(e,O)}},X=function(e){E(e,this._textVmlEl),this._textVmlEl=null},K=function(e){R(e,this._textVmlEl)},J=[f,m,v,x,y],i=0;i<J.length;i++){var Q=J[i].prototype;Q.drawRectText=Y,Q.removeRectText=X,Q.appendRectText=K}y.prototype.brushVML=function(e){var style=this.style;null!=style.text?this.drawRectText(e,{x:style.x||0,y:style.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(e)},y.prototype.onRemove=function(e){this.removeRectText(e)},y.prototype.onAdd=function(e){this.appendRectText(e)}}},function(e,t,n){var o=n(166),r=n(584),l=n(0).each;function c(e){return parseInt(e,10)}function d(e,t){r.initVML(),this.root=e,this.storage=t;var n=document.createElement("div"),o=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",o.style.cssText="position:absolute;left:0;top:0;",e.appendChild(n),this._vmlRoot=o,this._vmlViewport=n,this.resize();var l=t.delFromStorage,c=t.addToStorage;t.delFromStorage=function(e){l.call(t,e),e&&e.onRemove&&e.onRemove(o)},t.addToStorage=function(e){e.onAdd&&e.onAdd(o),c.call(t,e)},this._firstPaint=!0}d.prototype={constructor:d,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0,!0);this._paintList(e)},_paintList:function(e){for(var t=this._vmlRoot,i=0;i<e.length;i++){var n=e[i];n.invisible||n.ignore?(n.__alreadyNotVisible||n.onRemove(t),n.__alreadyNotVisible=!0):(n.__alreadyNotVisible&&n.onAdd(t),n.__alreadyNotVisible=!1,n.__dirty&&(n.beforeBrush&&n.beforeBrush(),(n.brushVML||n.brush).call(n,t),n.afterBrush&&n.afterBrush())),n.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(t),this._firstPaint=!1)},resize:function(e,t){e=null==e?this._getWidth():e,t=null==t?this._getHeight():t;if(this._width!==e||this._height!==t){this._width=e,this._height=t;var n=this._vmlViewport.style;n.width=e+"px",n.height=t+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var e=this.root,t=e.currentStyle;return(e.clientWidth||c(t.width))-c(t.paddingLeft)-c(t.paddingRight)|0},_getHeight:function(){var e=this.root,t=e.currentStyle;return(e.clientHeight||c(t.height))-c(t.paddingTop)-c(t.paddingBottom)|0}},l(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(e){var t;d.prototype[e]=(t=e,function(){o('In IE8.0 VML mode painter not support method "'+t+'"')})});var h=d;e.exports=h},function(e,t,n){n(525),(0,n(167).registerPainter)("svg",n(828))},function(e,t,n){var o=n(526).createElement,r=n(0),l=n(166),c=n(8),d=n(112),h=n(162),f=n(829),m=n(830),v=n(831),y=n(832),x=n(525),_=x.path,w=x.image,S=x.text;function M(e){return parseInt(e,10)}function I(e,t){return t&&e&&t.parentNode!==e}function A(e,t,n){if(I(e,t)&&n){var o=n.nextSibling;o?e.insertBefore(t,o):e.appendChild(t)}}function T(e,t){if(I(e,t)){var n=e.firstChild;n?e.insertBefore(t,n):e.appendChild(t)}}function D(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)}function L(e){return e.__textSvgEl}function C(e){return e.__svgEl}var P=function(e,t,n,l){this.root=e,this.storage=t,this._opts=n=r.extend({},n||{});var c=o("svg");c.setAttribute("xmlns","http://www.w3.org/2000/svg"),c.setAttribute("version","1.1"),c.setAttribute("baseProfile","full"),c.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new m(l,c),this.clipPathManager=new v(l,c),this.shadowManager=new y(l,c);var d=document.createElement("div");d.style.cssText="overflow:hidden;position:relative",this._svgRoot=c,this._viewport=d,e.appendChild(d),d.appendChild(c),this.resize(n.width,n.height),this._visibleList=[]};P.prototype={constructor:P,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0);this._paintList(e)},setBackgroundColor:function(e){this._viewport.style.background=e},_paintList:function(e){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var i,t,n=this._svgRoot,o=this._visibleList,r=e.length,l=[];for(i=0;i<r;i++){var m=e[i],v=(t=m)instanceof c?_:t instanceof d?w:t instanceof h?S:_,y=C(m)||L(m);m.invisible||(m.__dirty&&(v&&v.brush(m),this.clipPathManager.update(m),m.style&&(this.gradientManager.update(m.style.fill),this.gradientManager.update(m.style.stroke),this.shadowManager.update(y,m)),m.__dirty=!1),l.push(m))}var x,M=f(o,l);for(i=0;i<M.length;i++){if((N=M[i]).removed)for(var I=0;I<N.count;I++){y=C(m=o[N.indices[I]]);var P=L(m);D(n,y),D(n,P)}}for(i=0;i<M.length;i++){var N;if((N=M[i]).added)for(I=0;I<N.count;I++){y=C(m=l[N.indices[I]]),P=L(m);x?A(n,y,x):T(n,y),y?A(n,P,y):x?A(n,P,x):T(n,P),A(n,P,y),x=P||y||x,this.gradientManager.addWithoutUpdate(y,m),this.shadowManager.addWithoutUpdate(x,m),this.clipPathManager.markUsed(m)}else if(!N.removed)for(I=0;I<N.count;I++){x=y=L(m=l[N.indices[I]])||C(m)||x,this.gradientManager.markUsed(m),this.gradientManager.addWithoutUpdate(y,m),this.shadowManager.markUsed(m),this.shadowManager.addWithoutUpdate(y,m),this.clipPathManager.markUsed(m)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=l},_getDefs:function(e){var defs,t=this._svgRoot;return 0===(defs=this._svgRoot.getElementsByTagName("defs")).length?e?((defs=t.insertBefore(o("defs"),t.firstChild)).contains||(defs.contains=function(e){var t=defs.children;if(!t)return!1;for(var i=t.length-1;i>=0;--i)if(t[i]===e)return!0;return!1}),defs):null:defs[0]},resize:function(e,t){var n=this._viewport;n.style.display="none";var o=this._opts;if(null!=e&&(o.width=e),null!=t&&(o.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!==e||this._height!==t){this._width=e,this._height=t;var r=n.style;r.width=e+"px",r.height=t+"px";var l=this._svgRoot;l.setAttribute("width",e),l.setAttribute("height",t)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],o=["clientWidth","clientHeight"][e],r=["paddingLeft","paddingTop"][e],l=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var c=this.root,d=document.defaultView.getComputedStyle(c);return(c[o]||M(d[n])||M(c.style[n]))-(M(d[r])||0)-(M(d[l])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}},r.each(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(e){var t;P.prototype[e]=(t=e,function(){l('In SVG mode painter not support method "'+t+'"')})});var N=P;e.exports=N},function(e,t){function n(){}function o(e,t,n,o){for(var r=0,l=t.length,c=0,d=0;r<l;r++){var component=t[r];if(component.removed){for(h=[],i=d;i<d+component.count;i++)h.push(i);component.indices=h,d+=component.count}else{for(var h=[],i=c;i<c+component.count;i++)h.push(i);component.indices=h,c+=component.count,component.added||(d+=component.count)}}return t}n.prototype={diff:function(e,t,n){n||(n=function(a,b){return a===b}),this.equals=n;var r=this;e=e.slice();var l=(t=t.slice()).length,c=e.length,d=1,h=l+c,f=[{newPos:-1,components:[]}],m=this.extractCommon(f[0],t,e,0);if(f[0].newPos+1>=l&&m+1>=c){for(var v=[],i=0;i<t.length;i++)v.push(i);return[{indices:v,count:t.length}]}function y(){for(var n=-1*d;n<=d;n+=2){var h,m=f[n-1],v=f[n+1],y=(v?v.newPos:0)-n;m&&(f[n-1]=void 0);var x=m&&m.newPos+1<l,_=v&&0<=y&&y<c;if(x||_){if(!x||_&&m.newPos<v.newPos?(h={newPos:(path=v).newPos,components:path.components.slice(0)},r.pushComponent(h.components,void 0,!0)):((h=m).newPos++,r.pushComponent(h.components,!0,void 0)),y=r.extractCommon(h,t,e,n),h.newPos+1>=l&&y+1>=c)return o(r,h.components,t,e);f[n]=h}else f[n]=void 0}var path;d++}for(;d<=h;){var x=y();if(x)return x}},pushComponent:function(e,t,n){var o=e[e.length-1];o&&o.added===t&&o.removed===n?e[e.length-1]={count:o.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,o){for(var r=t.length,l=n.length,c=e.newPos,d=c-o,h=0;c+1<r&&d+1<l&&this.equals(t[c+1],n[d+1]);)c++,d++,h++;return h&&e.components.push({count:h}),e.newPos=c,d},tokenize:function(e){return e.slice()},join:function(e){return e.slice()}};var r=new n;e.exports=function(e,t,n){return r.diff(e,t,n)}},function(e,t,n){var o=n(527),r=n(0),l=n(166),c=n(75);function d(e,t){o.call(this,e,t,["linearGradient","radialGradient"],"__gradient_in_use__")}r.inherits(d,o),d.prototype.addWithoutUpdate=function(e,t){if(t&&t.style){var n=this;r.each(["fill","stroke"],function(o){if(t.style[o]&&("linear"===t.style[o].type||"radial"===t.style[o].type)){var r,l=t.style[o],defs=n.getDefs(!0);l._dom?(r=l._dom,defs.contains(l._dom)||n.addDom(r)):r=n.add(l),n.markUsed(t);var c=r.getAttribute("id");e.setAttribute(o,"url(#"+c+")")}})}},d.prototype.add=function(e){var t;if("linear"===e.type)t=this.createElement("linearGradient");else{if("radial"!==e.type)return l("Illegal gradient type."),null;t=this.createElement("radialGradient")}return e.id=e.id||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-gradient-"+e.id),this.updateDom(e,t),this.addDom(t),t},d.prototype.update=function(e){var t=this;o.prototype.update.call(this,e,function(){var n=e.type,o=e._dom.tagName;"linear"===n&&"linearGradient"===o||"radial"===n&&"radialGradient"===o?t.updateDom(e,e._dom):(t.removeDom(e),t.add(e))})},d.prototype.updateDom=function(e,t){if("linear"===e.type)t.setAttribute("x1",e.x),t.setAttribute("y1",e.y),t.setAttribute("x2",e.x2),t.setAttribute("y2",e.y2);else{if("radial"!==e.type)return void l("Illegal gradient type.");t.setAttribute("cx",e.x),t.setAttribute("cy",e.y),t.setAttribute("r",e.r)}e.global?t.setAttribute("gradientUnits","userSpaceOnUse"):t.setAttribute("gradientUnits","objectBoundingBox"),t.innerHTML="";for(var n=e.colorStops,i=0,o=n.length;i<o;++i){var r=this.createElement("stop");r.setAttribute("offset",100*n[i].offset+"%");var d=n[i].color;if(d.indexOf(!1)){var h=c.parse(d)[3],f=c.toHex(d);r.setAttribute("stop-color","#"+f),r.setAttribute("stop-opacity",h)}else r.setAttribute("stop-color",n[i].color);t.appendChild(r)}e._dom=t},d.prototype.markUsed=function(e){if(e.style){var t=e.style.fill;t&&t._dom&&o.prototype.markUsed.call(this,t._dom),(t=e.style.stroke)&&t._dom&&o.prototype.markUsed.call(this,t._dom)}};var h=d;e.exports=h},function(e,t,n){var o=n(527),r=n(0),l=n(58);function c(e,t){o.call(this,e,t,"clipPath","__clippath_in_use__")}r.inherits(c,o),c.prototype.update=function(e){var t=this.getSvgElement(e);t&&this.updateDom(t,e.__clipPaths,!1);var n=this.getTextSvgElement(e);n&&this.updateDom(n,e.__clipPaths,!0),this.markUsed(e)},c.prototype.updateDom=function(e,t,n){if(t&&t.length>0){var o,r,defs=this.getDefs(!0),c=t[0],d=n?"_textDom":"_dom";c[d]?(r=c[d].getAttribute("id"),o=c[d],defs.contains(o)||defs.appendChild(o)):(r="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(o=this.createElement("clipPath")).setAttribute("id",r),defs.appendChild(o),c[d]=o);var h=this.getSvgProxy(c);if(c.transform&&c.parent.invTransform&&!n){var f=Array.prototype.slice.call(c.transform);l.mul(c.transform,c.parent.invTransform,c.transform),h.brush(c),c.transform=f}else h.brush(c);var m=this.getSvgElement(c);o.innerHTML="",o.appendChild(m.cloneNode()),e.setAttribute("clip-path","url(#"+r+")"),t.length>1&&this.updateDom(o,t.slice(1),n)}else e&&e.setAttribute("clip-path","none")},c.prototype.markUsed=function(e){var t=this;e.__clipPaths&&e.__clipPaths.length>0&&r.each(e.__clipPaths,function(e){e._dom&&o.prototype.markUsed.call(t,e._dom),e._textDom&&o.prototype.markUsed.call(t,e._textDom)})};var d=c;e.exports=d},function(e,t,n){var o=n(527);function r(e,t){o.call(this,e,t,["filter"],"__filter_in_use__","_shadowDom")}function l(style){return style&&(style.shadowBlur||style.shadowOffsetX||style.shadowOffsetY||style.textShadowBlur||style.textShadowOffsetX||style.textShadowOffsetY)}n(0).inherits(r,o),r.prototype.addWithoutUpdate=function(e,t){if(t&&l(t.style)){var n,style=t.style;if(style._shadowDom)n=style._shadowDom,this.getDefs(!0).contains(style._shadowDom)||this.addDom(n);else n=this.add(t);this.markUsed(t);var o=n.getAttribute("id");e.style.filter="url(#"+o+")"}},r.prototype.add=function(e){var t=this.createElement("filter"),style=e.style;return style._shadowDomId=style._shadowDomId||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-shadow-"+style._shadowDomId),this.updateDom(e,t),this.addDom(t),t},r.prototype.update=function(e,t){var style=t.style;if(l(style)){var n=this;o.prototype.update.call(this,t,function(style){n.updateDom(t,style._shadowDom)})}else this.remove(e,style)},r.prototype.remove=function(e,style){null!=style._shadowDomId&&(this.removeDom(style),e.style.filter="")},r.prototype.updateDom=function(e,t){var n=t.getElementsByTagName("feDropShadow");n=0===n.length?this.createElement("feDropShadow"):n[0];var o,r,l,c,style=e.style,d=e.scale&&e.scale[0]||1,h=e.scale&&e.scale[1]||1;if(style.shadowBlur||style.shadowOffsetX||style.shadowOffsetY)o=style.shadowOffsetX||0,r=style.shadowOffsetY||0,l=style.shadowBlur,c=style.shadowColor;else{if(!style.textShadowBlur)return void this.removeDom(t,style);o=style.textShadowOffsetX||0,r=style.textShadowOffsetY||0,l=style.textShadowBlur,c=style.textShadowColor}n.setAttribute("dx",o/d),n.setAttribute("dy",r/h),n.setAttribute("flood-color",c);var f=l/2/d+" "+l/2/h;n.setAttribute("stdDeviation",f),t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width",Math.ceil(l/2*200)+"%"),t.setAttribute("height",Math.ceil(l/2*200)+"%"),t.appendChild(n),style._shadowDom=t},r.prototype.markUsed=function(e){var style=e.style;style&&style._shadowDom&&o.prototype.markUsed.call(this,style._shadowDom)};var c=r;e.exports=c}])]);